(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9531],{53525:function(e,t,n){"use strict";var a=n(13077),i=n(85893);t.Z=(0,a.Z)((0,i.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay")},38855:function(e,t,n){"use strict";var a=n(13077),i=n(85893);t.Z=(0,a.Z)((0,i.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},94395:function(e,t,n){"use strict";n.d(t,{ao:function(){return a},o0:function(){return o},p6:function(){return i}});let a=e=>null!=e?e.toLocaleString("en-US"):"",i=e=>{if(null!=e){let t=new Date(e),n=10>t.getDate()?"0"+t.getDate():t.getDate(),a=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getFullYear();return"".concat(n,"/").concat(a,"/").concat(i)}return""},o=e=>{if(null!=e){let t=new Date(e),n=10>t.getDate()?"0"+t.getDate():t.getDate(),a=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getFullYear(),o=10>t.getHours()?"0"+t.getHours():t.getHours(),u=10>t.getMinutes()?"0"+t.getMinutes():t.getMinutes(),c=10>t.getSeconds()?"0"+t.getSeconds():t.getSeconds();return"".concat(n,"/").concat(a,"/").concat(i," ").concat(o,":").concat(u,":").concat(c)}return""}},77584:function(e,t){"use strict";t.Z=e=>{if(!e)return 0;switch(e){case"nuoc-mat":return 1;case"nuoc-duoi-dat":return 2;case"ktsd-nuoc-duoi-dat":return 7;case"td-nuoc-duoi-dat":return 8;case"hnk-nuoc-duoi-dat":return 9;case"xa-thai":return 3;default:return 0}}},14953:function(e,t,n){"use strict";var a=n(85893),i=n(60990);n(67294),t.Z=e=>{var t,n,o,u;let c,{data:h}=e;return c=h.IsError||(null===(t=h.thongso)||void 0===t?void 0:t.hThuongLuu)<h.hThuongLuuTT||(null===(n=h.thongso)||void 0===n?void 0:n.qmaxNM)<h.qMaxTT||(null===(o=h.thongso)||void 0===o?void 0:o.qXaTran)<h.qXaTranTT||(null===(u=h.thongso)||void 0===u?void 0:u.qtt)<h.qMinTT?(0,a.jsx)("div",{className:"license_status hsd-warning",children:"Vận h\xe0nh chưa đ\xfang"}):h.IsDisconnect?(0,a.jsx)("div",{className:"license_status hsd-danger",children:"Kh\xf4ng c\xf3 số liệu"}):(0,a.jsx)("div",{className:"license_status hsd-success",children:"Đang vận h\xe0nh"}),(0,a.jsx)(i.Z,{children:c})}},82431:function(e,t,n){"use strict";var a=n(85893),i=n(51015),o=n(84105);t.Z=e=>{let{tableId:t,filename:n}=e;return(0,a.jsx)(i.Z,{onClick:()=>{!function(e,t){let n=document.getElementById(e),a=o.P6.table_to_sheet(n),i=[],u=[];for(let e=0;e<n.rows.length;++e){let t=n.rows[e];for(let n=0;n<t.cells.length;++n){let a=t.cells[n],o=a.getAttribute("colspan"),c=a.getAttribute("rowspan");o=o?parseInt(o,10):1,c=c?parseInt(c,10):1,(o>1||c>1)&&i.push({s:{r:e,c:n},e:{r:e+c-1,c:n+o-1}}),u[n]>0&&(--u[n],--n)}for(let e=0;e<t.cells.length;++e){let n=t.cells[e].getAttribute("rowspan");(n=n?parseInt(n,10):1)>1&&(u[e]=n-1)}}i.length>0&&(a["!merges"]||(a["!merges"]=[]),a["!merges"].push(...i));for(let e=0;e<n.rows.length;++e)for(let t=0;t<n.rows[e].cells.length;++t){let i=n.rows[e].cells[t],u=i.innerText;u=u.replace(/\n+/g,"\n"),i.closest("tbody")&&(a[o.P6.encode_cell({r:e,c:t})]={v:u,t:"s"})}let c=o.P6.book_new();o.P6.book_append_sheet(c,a,"Sheet1"),o.NC(c,"".concat(t,".xls"))}(t,n)},variant:"outlined",size:"small",fullWidth:!0,color:"primary",children:"Xuất Excel"})}},42539:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var a=n(57679);let i=(e,t)=>{var n,i;if(t>=-180&&t<=180&&e>=-90&&e<=90)return[e,t];a.Z.defs("VN2000_QUANG_NGAI","+proj=tmerc +lat_0=0 +lon_0=108.000 +k=0.9999 +x_0=500000 +y_0=0 +ellps=WGS84 +towgs84=-191.90441429,-39.30318279,-111.45032835,-0.00928836,0.01975479,-0.00427372,0.252906278 +units=m +no_defs");let o=a.Z.defs("VN2000_QUANG_NGAI"),u=a.Z.defs("EPSG:4326"),c=o&&(null===(n=o.units)||void 0===n?void 0:n.to_meter)||1,h=u&&(null===(i=u.units)||void 0===i?void 0:i.to_meter)||1,l=a.Z.toPoint([e/c,t/c]),s=(0,a.Z)(o,u).forward(l);return s.x*=h.toFixed(8),s.y*=h.toFixed(8),[s.y,s.x]}},85626:function(e,t,n){"use strict";n.d(t,{R:function(){return a}});let a={"nuoc-mat":{columnVisibilityMap:{4:["soLuongMayBom","qThietKe","qThucTe","dienTichTuoiThietKe","dienTichTuoiThucTe","thoiGianBomTB","thoiGianBomNhoNhat","thoiGianBomLonNhat"],5:["soLuongMayBom","qThietKe","qThucTe","dienTichTuoiThietKe","dienTichTuoiThucTe","thoiGianBomTB","thoiGianBomNhoNhat","thoiGianBomLonNhat"],6:["capCT","dienTichLuuVuc","muaTrungBinhNam","qTrungBinhNam","congSuatDamBao","chieuCaoDap","chieuDaiDap","caoTrinhDap","qmaxNM","qtt","qDamBao","hmax","hmin","htoiThieu","mnc","mndbt","mnltk","mnlkt","dungTichToanBo","dungTichChet","dungTichHuuIch","qThietKe"],10:["capCT","dienTichLuuVuc","muaTrungBinhNam","qTrungBinhNam","congSuatDamBao","chieuCaoDap","chieuDaiDap","caoTrinhDap","qmaxNM","qtt","qDamBao","hmax","hmin","htoiThieu","mnc","mndbt","mnltk","mnlkt","dungTichToanBo","dungTichChet","dungTichHuuIch","soLuongMayBom","dienTichTuoiThietKe","dienTichTuoiThucTe","thoiGianBomTB","thoiGianBomNhoNhat","thoiGianBomLonNhat"],default:["capCT","dienTichLuuVuc","muaTrungBinhNam","qTrungBinhNam","congSuatLM","congSuatDamBao","chieuCaoDap","chieuDaiDap","caoTrinhDap","qmaxNM","qtt","qDamBao","hmax","hmin","htoiThieu","mnc","mndbt","mnltk","mnlkt","dungTichToanBo","dungTichChet","dungTichHuuIch","soLuongMayBom","qThietKe","qThucTe","dienTichTuoiThietKe","dienTichTuoiThucTe","thoiGianBomTB","thoiGianBomNhoNhat","thoiGianBomLonNhat"]}},"nuoc-duoi-dat":{columnVisibilityMap:{default:["capCT","dienTichLuuVuc","muaTrungBinhNam","qTrungBinhNam","congSuatLM","congSuatDamBao","chieuCaoDap","chieuDaiDap","caoTrinhDap","qmaxNM","qtt","qDamBao","hmax","hmin","htoiThieu","mnc","mndbt","mnltk","mnlkt","dungTichToanBo","dungTichChet","dungTichHuuIch","soLuongMayBom","qThietKe","qThucTe","dienTichTuoiThietKe","dienTichTuoiThucTe","thoiGianBomTB","thoiGianBomNhoNhat","thoiGianBomLonNhat"]}},"xa-thai":{columnVisibilityMap:{default:["capCT","dienTichLuuVuc","muaTrungBinhNam","qTrungBinhNam","congSuatLM","congSuatDamBao","chieuCaoDap","chieuDaiDap","caoTrinhDap","qmaxNM","qtt","qDamBao","hmax","hmin","htoiThieu","mnc","mndbt","mnltk","mnlkt","dungTichToanBo","dungTichChet","dungTichHuuIch","soLuongMayBom","qThietKe","qThucTe","dienTichTuoiThietKe","dienTichTuoiThucTe","thoiGianBomTB","thoiGianBomNhoNhat","thoiGianBomLonNhat"]}}}},62973:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var a=n(85893),i=n(67294),o=n(68573),u=n(93454),c=n(11163),h=n(85626),l=n(39892),s=n(38855),r=n(53525),d=n(88539),m=n(40492),g=n(6897),T=n(94143),p=n(29346),x=n(15972),v=n(50333),f=n(51015),y=n(64577),B=n(77584),N=n(82431),Z=e=>{var t;let{onChange:n}=e,u=(0,c.useRouter)(),{page:h,type:l}=u.query,[Z,D]=(0,i.useState)([]),[q,_]=(0,i.useState)([]),[b,j]=(0,i.useState)([]),[C,M]=(0,i.useState)({page:h,type:l,tenct:"",loai_ct:(0,B.Z)(null===(t=u.query)||void 0===t?void 0:t.type),huyen:0,xa:0,song:0,luuvuc:0,tieu_luuvuc:0,tang_chuanuoc:0,nguonnuoc_kt:""}),S=e=>t=>{e&&((null==e?void 0:e.target)?M({...C,[t]:e.target.value}):M({...C,[t]:e}))};(0,i.useEffect)(()=>{let e=!0;return(async()=>{try{let t=await y.masterDataCache.getLoaiCongTrinh();"nuoc-mat"===l?t=t.filter(e=>1===e.idCha):"nuoc-duoi-dat"===l?t=t.filter(e=>2===e.idCha):"xa-thai"===l&&(t=t.filter(e=>3===e.idCha));let n=await y.masterDataCache.getDanhSachHuyen();if(C.huyen>0){let t=await y.masterDataCache.getDanhSachXa(C.huyen);e&&j(t)}e&&(D(t),_(n))}catch(e){console.log(e)}})(),()=>{e=!1}},[C.huyen,l]);let L=Array.isArray(l)?l.some(e=>["nuoc-mat","nuoc-duoi-dat","xa-thai"].includes(e)):"string"==typeof l&&["nuoc-mat","nuoc-duoi-dat","xa-thai"].includes(l);return(0,a.jsx)(d.Z,{variant:"dense",children:(0,a.jsxs)(o.ZP,{container:!0,spacing:2,sx:{paddingY:3},children:[(0,a.jsx)(o.ZP,{item:!0,xs:12,md:3,py:0,children:(0,a.jsx)(m.Z,{sx:{p:0},size:"small",fullWidth:!0,variant:"outlined",placeholder:"T\xean c\xf4ng tr\xecnh...",onChange:e=>S(e)("tenct")})}),(0,a.jsx)(o.ZP,{item:!0,xs:12,md:2,py:0,children:(0,a.jsxs)(g.Z,{size:"small",fullWidth:!0,children:[(0,a.jsx)(T.Z,{id:"license-type-select",children:"Loại c\xf4ng tr\xecnh"}),(0,a.jsxs)(p.Z,{labelId:"license-type-select",id:"demo-select-small",value:C.loai_ct||"",label:"Loại c\xf4ng tr\xecnh",onChange:e=>S(e)("loai_ct"),children:[(0,a.jsx)(x.Z,{value:(0,B.Z)("string"==typeof l?l:""),children:"Tất cả"}),Z.map((e,t)=>(0,a.jsx)(x.Z,{value:e.id,children:e.tenLoaiCT},t))]})]})}),(0,a.jsx)(o.ZP,{item:!0,xs:12,md:2,py:0,children:(0,a.jsx)(v.Z,{size:"small",fullWidth:!0,options:q,getOptionLabel:e=>e.tenHuyen,value:q.find(e=>e.idHuyen===C.huyen)||null,onChange:(e,t)=>{S(null==t?void 0:t.idHuyen)("huyen")},renderInput:e=>(0,a.jsx)(m.Z,{...e,label:"Huyện",variant:"outlined"})})}),(0,a.jsx)(o.ZP,{item:!0,xs:12,md:2,py:0,children:(0,a.jsx)(v.Z,{size:"small",disabled:C.huyen<=0,fullWidth:!0,options:b,getOptionLabel:e=>e.tenXa,value:b.find(e=>e.idXa===C.xa)||null,onChange:(e,t)=>{S(null==t?void 0:t.idXa)("xa")},renderInput:e=>(0,a.jsx)(m.Z,{...e,label:"X\xe3",variant:"outlined"})})}),(0,a.jsx)(o.ZP,{item:!0,xs:12,md:3,py:0,children:(0,a.jsx)(m.Z,{sx:{p:0},size:"small",fullWidth:!0,variant:"outlined",placeholder:"Nguồn nước khai th\xe1c...",onChange:e=>S(e)("nguonnuoc_kt")})}),(0,a.jsx)(o.ZP,{item:!0,xs:6,md:1.5,py:0,children:(0,a.jsx)(f.Z,{variant:"outlined",size:"small",fullWidth:!0,startIcon:(0,a.jsx)(s.Z,{}),onClick:()=>{let e={...C,pageNumber:1};M(e),n(e,!1),u.push({pathname:u.pathname,query:e},void 0,{shallow:!0})},children:"T\xecm kiếm"})}),(0,a.jsx)(o.ZP,{item:!0,xs:6,md:1.5,py:0,children:(0,a.jsx)(f.Z,{variant:"outlined",size:"small",fullWidth:!0,startIcon:(0,a.jsx)(r.Z,{}),onClick:()=>{var e;let t={page:h,type:l,tenct:"",loai_ct:(0,B.Z)(null===(e=u.query)||void 0===e?void 0:e.type),huyen:0,xa:0,song:0,luuvuc:0,tieu_luuvuc:0,tang_chuanuoc:0,nguonnuoc_kt:"",pageNumber:1};M(t),n(t,!1),u.push({pathname:u.pathname,query:{page:h,type:l,pageNumber:1}},void 0,{shallow:!0})},children:"Tải lại"})}),L&&(0,a.jsx)(o.ZP,{item:!0,xs:6,md:1.5,py:0,children:(0,a.jsx)(N.Z,{tableId:"".concat(h,"_").concat(l),filename:"".concat(h,"_").concat(l)})})]})})},D=n(5152);let q=n.n(D)()(()=>Promise.all([n.e(4028),n.e(6002),n.e(9269),n.e(3701),n.e(649),n.e(6578),n.e(7531),n.e(723),n.e(776),n.e(2573),n.e(3355),n.e(3385),n.e(581)]).then(n.bind(n,3385)),{loadableGenerated:{webpack:()=>[3385]},ssr:!1});var _=e=>{var t,s;let{type:r,columns:d,renderActions:m}=e,g=h.R[r]||{columnVisibilityMap:{}},T=(0,c.useRouter)(),p=(0,i.useRef)(!0),[x,v]=(0,i.useState)([]),[f,y]=(0,i.useState)(0),[N,D]=(0,i.useState)(!1),[_,b]=(0,i.useState)({tenct:"",loai_ct:(0,B.Z)(null===(t=T.query)||void 0===t?void 0:t.type),tochuc_canhan:0,pageNumber:1,pageSize:10}),[j,C]=(0,i.useState)();(0,i.useEffect)(()=>((async()=>{try{let e=await Promise.resolve().then(n.bind(n,64577)).then(e=>e.giamSatService.getMonitoringData({..._}));v(e.items),y(e.totalItems||0)}catch(e){console.error("Error fetching data:",e)}})(),()=>{p.current=!1}),[_,N]),(0,i.useEffect)(()=>{let e=g.columnVisibilityMap,t=Number(_.loai_ct);C((null==e?void 0:e[t])||(null==e?void 0:e.default)||[])},[_.loai_ct,g.columnVisibilityMap]);let M=()=>D(e=>!e);return(0,a.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(o.ZP,{item:!0,xs:12,md:12,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsx)(q,{mapData:x,center:[15.01,108.69],zoom:9.5})}),(0,a.jsx)(o.ZP,{item:!0,xs:12,children:(0,a.jsxs)(u.Z,{elevation:3,sx:{p:0},children:[(0,a.jsx)(Z,{onChange:(e,t)=>{b(t=>({...t,...e})),T.push({pathname:T.pathname,query:{...T.query,...e}},void 0,{shallow:!0}),t&&M()}}),(0,a.jsx)(l.Z,{columns:d,rows:x,columnVisibility:j,id:"quan-trac_".concat(r),pagination:!0,page:(null!==(s=_.pageNumber)&&void 0!==s?s:1)-1,rowsPerPage:_.pageSize,totalItems:f,onPageChange:e=>b(t=>({...t,pageNumber:e+1})),onRowsPerPageChange:e=>b(t=>({...t,pageSize:e,pageNumber:1})),actions:e=>m&&m(e,{handlePostSuccess:M})})]})})]})}},20067:function(){},72061:function(){}}]);