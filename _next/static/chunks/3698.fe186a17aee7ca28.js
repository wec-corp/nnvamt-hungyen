(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{38138:function(n,e,l){"use strict";var t=l(85893),s=l(67294),i=l(75486),a=l(84166),o=l(88196),c=l(36795),u=l(88539),h=l(96788),d=l(51015),r=l(40110),m=l(95639);let x=s.forwardRef(function(n,e){return(0,t.jsx)(i.Z,{direction:"left",ref:e,...n})});e.Z=n=>{let{children:e}=n,[l,i]=(0,s.useState)(null),[g,p]=(0,s.useState)(null),[j,D]=(0,s.useState)(!1),Z=()=>{i(null),p(null),D(!1)};return(0,t.jsxs)(a.Z,{children:[e((n,e)=>{i(n),p(e),D(!0)},Z),(0,t.jsx)(o.Z,{open:j,onClose:Z,fullScreen:!0,TransitionComponent:x,sx:{zIndex:1201},children:l&&(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(c.Z,{sx:{position:"relative"},children:(0,t.jsxs)(u.Z,{sx:{maxHeight:45,minHeight:45,position:"sticky",top:0},children:[(0,t.jsx)(h.Z,{sx:{ml:2,flex:1,color:"#fff"},variant:"h6",component:"div",children:g}),(0,t.jsx)(d.Z,{className:"btn closeBtn",sx:{p:2,mr:-2},onClick:Z,children:(0,t.jsx)(m.Z,{})})]})}),(0,t.jsx)(r.Z,{children:l})]})})]})}},82431:function(n,e,l){"use strict";var t=l(85893),s=l(51015),i=l(84105);e.Z=n=>{let{tableId:e,filename:l}=n;return(0,t.jsx)(s.Z,{onClick:()=>{!function(n,e){let l=document.getElementById(n),t=i.P6.table_to_sheet(l),s=[],a=[];for(let n=0;n<l.rows.length;++n){let e=l.rows[n];for(let l=0;l<e.cells.length;++l){let t=e.cells[l],i=t.getAttribute("colspan"),o=t.getAttribute("rowspan");i=i?parseInt(i,10):1,o=o?parseInt(o,10):1,(i>1||o>1)&&s.push({s:{r:n,c:l},e:{r:n+o-1,c:l+i-1}}),a[l]>0&&(--a[l],--l)}for(let n=0;n<e.cells.length;++n){let l=e.cells[n].getAttribute("rowspan");(l=l?parseInt(l,10):1)>1&&(a[n]=l-1)}}s.length>0&&(t["!merges"]||(t["!merges"]=[]),t["!merges"].push(...s));for(let n=0;n<l.rows.length;++n)for(let e=0;e<l.rows[n].cells.length;++e){let s=l.rows[n].cells[e],a=s.innerText;a=a.replace(/\n+/g,"\n"),s.closest("tbody")&&(t[i.P6.encode_cell({r:n,c:e})]={v:a,t:"s"})}let o=i.P6.book_new();i.P6.book_append_sheet(o,t,"Sheet1"),i.NC(o,"".concat(e,".xls"))}(e,l)},variant:"outlined",size:"small",fullWidth:!0,color:"primary",children:"Xuất Excel"})}},23759:function(n,e,l){"use strict";l.d(e,{M:function(){return s},N:function(){return i}});var t=l(64577);function s(n){let e=n.getElementsByTagName("coordinates"),l=1/0,t=-1/0,s=1/0,i=-1/0;for(let n=0;n<e.length;n++)e[n].textContent.trim().split(/\s+/).forEach(n=>{let e=n.split(","),a=parseFloat(e[0]),o=parseFloat(e[1]);o<l&&(l=o),o>t&&(t=o),a<s&&(s=a),a>i&&(i=a)});return l===1/0||t===-1/0||s===1/0||i===-1/0?null:{center:[(l+t)/2,(s+i)/2],zoom:9}}async function i(n){try{let e;if(!(e=n.startsWith("/")?await fetch(n):await fetch("".concat(t.apiUrl,"/file/readfile?FilePath=kml&FileName=").concat(n))).ok)return console.error("Failed to load KML file from ".concat(n,": Status ").concat(e.status)),null;let l=await e.text();return new DOMParser().parseFromString(l,"text/xml")}catch(n){return console.error("Error fetching or parsing KML file:",n),null}}},49051:function(n,e,l){"use strict";l.d(e,{b:function(){return i}});var t=l(37340);function s(){let n=(0,t._)(["\n  clip: rect(0 0 0 0);\n  clip-path: inset(50%);\n  height: 1px;\n  overflow: hidden;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  white-space: nowrap;\n  width: 1px;\n  color: #fff;\n"]);return s=function(){return n},n}let i=(0,l(77527).ZP)("input")(s())},2810:function(n,e,l){"use strict";var t=l(85893),s=l(67294),i=l(68963),a=l(17071),o=l(53839),c=l(60990),u=l(68573),h=l(50333),d=l(40492),r=l(97182),m=l(96727),x=l(51015),g=l(21038),p=l(52857),j=l(64577),D=l(38138);let Z=n=>{let{data:e,setPostSuccess:l,closeDialogs:a}=n,[o,g]=(0,s.useState)(!1),[p,D]=(0,s.useState)([]),[Z,v]=(0,s.useState)({id:(null==e?void 0:e.id)||0,idPhanDoanSong:(null==e?void 0:e.idPhanDoanSong)||0,luuLuongDongChay:(null==e?void 0:e.luuLuongDongChay)||0,cnnBOD:(null==e?void 0:e.cnnBOD)||0,cnnCOD:(null==e?void 0:e.cnnCOD)||0,cnnAmoni:(null==e?void 0:e.cnnAmoni)||0,cnnTongN:(null==e?void 0:e.cnnTongN)||0,cnnTongP:(null==e?void 0:e.cnnTongP)||0,cnnTSS:(null==e?void 0:e.cnnTSS)||0,cnnColiform:(null==e?void 0:e.cnnColiform)||0,cqcBOD:(null==e?void 0:e.cqcBOD)||0,cqcCOD:(null==e?void 0:e.cqcCOD)||0,cqcAmoni:(null==e?void 0:e.cqcAmoni)||0,cqcTongN:(null==e?void 0:e.cqcTongN)||0,cqcTongP:(null==e?void 0:e.cqcTongP)||0,cqcTSS:(null==e?void 0:e.cqcTSS)||0,cqcColiform:(null==e?void 0:e.cqcColiform)||0,ghiChu:(null==e?void 0:e.ghiChu)||""});(0,s.useEffect)(()=>{g(!0),(async()=>{try{let n=await (0,j.getData)("PhanDoanSong/danh-sach");D(n)}catch(n){console.log(n)}finally{g(!1)}})()},[]);let[C,f]=(0,s.useState)(!1),y=n=>e=>{v({...Z,[n]:e})},P=async n=>{n.preventDefault(),(async()=>{f(!0);try{await (0,j.saveData)("DuLieuNguonNuocNhan/luu",Z)&&(v({id:0,idPhanDoanSong:0,luuLuongDongChay:0,cnnBOD:0,cnnCOD:0,cnnAmoni:0,cnnTongN:0,cnnTongP:0,cnnTSS:0,cnnColiform:0,cqcBOD:0,cqcCOD:0,cqcAmoni:0,cqcTongN:0,cqcTongP:0,cqcTSS:0,cqcColiform:0,ghiChu:""}),"function"==typeof l&&l(!0),a())}catch(n){console.log(n)}finally{f(!1)}})()};return(0,t.jsxs)(c.Z,{children:[(0,t.jsxs)(u.ZP,{container:!0,spacing:3,children:[(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(h.Z,{size:"small",options:p,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==p?void 0:p.find(n=>n.id===Z.idPhanDoanSong))||null,onChange:(n,e)=>y("idPhanDoanSong")((null==e?void 0:e.id)||0),renderInput:n=>(0,t.jsx)(d.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,t.jsxs)(s.Fragment,{children:[o&&(0,t.jsx)(r.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Lưu lượng d\xf2ng chảy",fullWidth:!0,placeholder:"",value:Z.luuLuongDongChay||"",onChange:n=>y("luuLuongDongChay")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước mặt"}),(0,t.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:Z.cnnBOD||"",onChange:n=>y("cnnBOD")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:Z.cnnCOD||"",onChange:n=>y("cnnCOD")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:Z.cnnAmoni||"",onChange:n=>y("cnnAmoni")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:Z.cnnTongN||"",onChange:n=>y("cnnTongN")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:Z.cnnTongP||"",onChange:n=>y("cnnTongP")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:Z.cnnTSS||"",onChange:n=>y("cnnTSS")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:Z.cnnColiform||"",onChange:n=>y("cnnColiform")(n.target.value)})})]})]})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:"GI\xc1 TRỊ GIỚI HẠN TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC THEO TI\xcaU CHUẨN QCVN 08:2023/BTNMT"}),(0,t.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:Z.cqcBOD||"",onChange:n=>y("cqcBOD")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:Z.cqcCOD||"",onChange:n=>y("cqcCOD")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:Z.cqcAmoni||"",onChange:n=>y("cqcAmoni")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:Z.cqcTongN||"",onChange:n=>y("cqcTongN")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:Z.cqcTongP||"",onChange:n=>y("cqcTongP")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:Z.cqcTSS||"",onChange:n=>y("cqcTSS")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:Z.cqcColiform||"",onChange:n=>y("cqcColiform")(n.target.value)})})]})]})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Ghi ch\xfa",fullWidth:!0,placeholder:"",value:Z.ghiChu||"",onChange:n=>y("ghiChu")(n.target.value)})})]}),(0,t.jsxs)(m.Z,{sx:{p:0,mt:5},children:[(0,t.jsx)(x.Z,{size:"small",onClick:()=>{v({id:0,idPhanDoanSong:0,luuLuongDongChay:0,cnnBOD:0,cnnCOD:0,cnnAmoni:0,cnnTongN:0,cnnTongP:0,cnnTSS:0,cnnColiform:0,cqcBOD:0,cqcCOD:0,cqcAmoni:0,cqcTongN:0,cqcTongP:0,cqcTSS:0,cqcColiform:0,ghiChu:""}),a()},className:"btn cancleBtn",children:"Hủy"}),(0,t.jsxs)(x.Z,{disabled:C,className:"btn saveBtn",onClick:P,children:[" ",C?(0,t.jsx)(r.Z,{color:"inherit",size:20}):(0,t.jsx)(i.Z,{})," \xa0 Lưu"," "]})]})]})};e.Z=n=>{let{data:e,setPostSuccess:l,isEdit:s}=n,i=s?"Thay đổi th\xf4ng tin ":"Th\xeam mới";return(0,t.jsx)(D.Z,{children:(n,u)=>(0,t.jsx)(c.Z,{children:s?(0,t.jsx)(g.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,t.jsx)(p.Z,{onClick:()=>n((0,t.jsx)(Z,{data:e,closeDialogs:u,setPostSuccess:l}),i),children:(0,t.jsx)(a.Z,{className:"tableActionBtn"})})}):(0,t.jsx)(x.Z,{variant:"outlined",size:"small",startIcon:(0,t.jsx)(o.Z,{}),onClick:()=>n((0,t.jsx)(Z,{data:e,closeDialogs:u,setPostSuccess:l}),i),children:"Th\xeam mới"})})})}},45117:function(n,e,l){"use strict";var t=l(85893),s=l(67294),i=l(68963),a=l(17071),o=l(53839),c=l(60990),u=l(68573),h=l(50333),d=l(40492),r=l(97182),m=l(96727),x=l(51015),g=l(21038),p=l(52857),j=l(64577),D=l(38138);let Z=n=>{let{data:e,setPostSuccess:l,closeDialogs:a}=n,[o,g]=(0,s.useState)(!1),[p,D]=(0,s.useState)([]),[Z,v]=(0,s.useState)([]),[C,f]=(0,s.useState)({id:(null==e?void 0:e.id)||0,idPhanDoanSong:(null==e?void 0:e.idPhanDoanSong)||0,idMucPL:(null==e?void 0:e.idMucPL)||0,luuLuongDongChayDB:(null==e?void 0:e.luuLuongDongChayDB)||0,cnnBODDB:(null==e?void 0:e.cnnBODDB)||0,cnnCODDB:(null==e?void 0:e.cnnCODDB)||0,cnnAmoniDB:(null==e?void 0:e.cnnAmoniDB)||0,cnnTongNDB:(null==e?void 0:e.cnnTongNDB)||0,cnnTongPDB:(null==e?void 0:e.cnnTongPDB)||0,cnnTSSDB:(null==e?void 0:e.cnnTSSDB)||0,cnnColiformDB:(null==e?void 0:e.cnnColiformDB)||0});(0,s.useEffect)(()=>{g(!0),(async()=>{try{let n=await (0,j.getData)("PhanDoanSong/danh-sach");D(n);let e=await (0,j.getData)("ThongSoCLNDuBao/danhsach");v(e)}catch(n){console.log(n)}finally{g(!1)}})()},[]);let[y,P]=(0,s.useState)(!1),S=n=>e=>{f({...C,[n]:e})},T=async n=>{n.preventDefault(),(async()=>{P(!0);try{await (0,j.saveData)("DuLieuNguonNuocNhanDB/du-bao",C)&&(f({id:0,idPhanDoanSong:0,idMucPL:0,luuLuongDongChayDB:0,cnnBODDB:0,cnnCODDB:0,cnnAmoniDB:0,cnnTongNDB:0,cnnTongPDB:0,cnnTSSDB:0,cnnColiformDB:0}),"function"==typeof l&&l(!0),a())}catch(n){console.log(n)}finally{P(!1)}})()};return(0,t.jsxs)(c.Z,{children:[(0,t.jsxs)(u.ZP,{container:!0,spacing:3,children:[(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(h.Z,{size:"small",options:p,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==p?void 0:p.find(n=>n.id===C.idPhanDoanSong))||null,onChange:(n,e)=>S("idPhanDoanSong")((null==e?void 0:e.id)||0),renderInput:n=>(0,t.jsx)(d.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,t.jsxs)(s.Fragment,{children:[o&&(0,t.jsx)(r.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:3,sm:12,sx:{my:2},children:(0,t.jsx)(h.Z,{size:"small",options:Z,getOptionLabel:n=>"".concat(n.mucPLCLNuoc," "),value:(null==Z?void 0:Z.find(n=>n.id===C.idMucPL))||null,onChange:(n,e)=>S("idMucPL")((null==e?void 0:e.id)||0),renderInput:n=>(0,t.jsx)(d.Z,{...n,fullWidth:!0,label:"Chọn mức ph\xe2n loại chất lượng nước theo QCVN08/2023",InputProps:{...n.InputProps,endAdornment:(0,t.jsxs)(s.Fragment,{children:[o&&(0,t.jsx)(r.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:3,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Lưu lượng d\xf2ng chảy",fullWidth:!0,placeholder:"",value:C.luuLuongDongChayDB||"",onChange:n=>S("luuLuongDongChayDB")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước mặt"}),(0,t.jsxs)(u.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:C.cnnBODDB||"",onChange:n=>S("cnnBODDB")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:C.cnnCODDB||"",onChange:n=>S("cnnCODDB")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:C.cnnAmoniDB||"",onChange:n=>S("cnnAmoniDB")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:C.cnnTongNDB||"",onChange:n=>S("cnnTongNDB")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:C.cnnTongPDB||"",onChange:n=>S("cnnTongPDB")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:C.cnnTSSDB||"",onChange:n=>S("cnnTSSDB")(n.target.value)})}),(0,t.jsx)(u.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:C.cnnColiformDB||"",onChange:n=>S("cnnColiformDB")(n.target.value)})})]})]})})]}),(0,t.jsxs)(m.Z,{sx:{p:0,mt:5},children:[(0,t.jsx)(x.Z,{size:"small",onClick:()=>{f({id:0,idPhanDoanSong:0,idMucPL:0,luuLuongDongChayDB:0,cnnBODDB:0,cnnCODDB:0,cnnAmoniDB:0,cnnTongNDB:0,cnnTongPDB:0,cnnTSSDB:0,cnnColiformDB:0}),a()},className:"btn cancleBtn",children:"Hủy"}),(0,t.jsxs)(x.Z,{disabled:y,className:"btn saveBtn",onClick:T,children:[" ",y?(0,t.jsx)(r.Z,{color:"inherit",size:20}):(0,t.jsx)(i.Z,{})," \xa0 Lưu"," "]})]})]})};e.Z=n=>{let{data:e,setPostSuccess:l,isEdit:s}=n,i=s?"Thay đổi th\xf4ng tin ":"Th\xeam mới";return(0,t.jsx)(D.Z,{children:(n,u)=>(0,t.jsx)(c.Z,{children:s?(0,t.jsx)(g.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,t.jsx)(p.Z,{onClick:()=>n((0,t.jsx)(Z,{data:e,closeDialogs:u,setPostSuccess:l}),i),children:(0,t.jsx)(a.Z,{className:"tableActionBtn"})})}):(0,t.jsx)(x.Z,{variant:"outlined",size:"small",startIcon:(0,t.jsx)(o.Z,{}),onClick:()=>n((0,t.jsx)(Z,{data:e,closeDialogs:u,setPostSuccess:l}),i),children:"Th\xeam mới"})})})}},85622:function(n,e,l){"use strict";var t=l(85893),s=l(67294),i=l(21773),a=l(68963),o=l(17071),c=l(53839),u=l(60990),h=l(68573),d=l(40492),r=l(96788),m=l(51015),x=l(96727),g=l(97182),p=l(21038),j=l(52857),D=l(64577),Z=l(49051),v=l(38138);let C=n=>{let{data:e,setPostSuccess:l,closeDialogs:o}=n,[c,p]=(0,s.useState)({id:(null==e?void 0:e.id)||0,luuVucSong:(null==e?void 0:e.luuVucSong)||"",song:(null==e?void 0:e.song)||"",tenDoanSong:(null==e?void 0:e.tenDoanSong)||"",phanDoan:(null==e?void 0:e.phanDoan)||"",chieuDai:(null==e?void 0:e.chieuDai)||0,dienTichLV:(null==e?void 0:e.dienTichLV)||0,xDau:(null==e?void 0:e.xDau)||0,yDau:(null==e?void 0:e.yDau)||0,xCuoi:(null==e?void 0:e.xCuoi)||0,yCuoi:(null==e?void 0:e.yCuoi)||0,diaGioiHanhChinh:(null==e?void 0:e.diaGioiHanhChinh)||"",mucDichSuDung:(null==e?void 0:e.mucDichSuDung)||"",chatLuongNuoc:(null==e?void 0:e.chatLuongNuoc)||"",ghiChu:(null==e?void 0:e.ghiChu)||"",fileKML:(null==e?void 0:e.fileKML)||"",heSoFS:(null==e?void 0:e.heSoFS)||0}),[j,v]=(0,s.useState)(!1),[C,f]=(0,s.useState)(),y=n=>e=>{p({...c,[n]:e})},P=async n=>{n.preventDefault(),(async()=>{var n,e;let t={...c,fileKML:"".concat(null===(n=C.name)||void 0===n?void 0:n.replace(/\//g,"_").toLowerCase())},s="".concat(null===(e=C.name)||void 0===e?void 0:e.replace(/\//g,"_").toLowerCase());v(!0);try{let n=await (0,D.saveData)("PhanDoanSong/luu",t);console.log(t),n&&(await (0,D.uploadFile)(C,"kml/",s),p({id:0,luuVucSong:"",song:"",tenDoanSong:"",phanDoan:"",chieuDai:0,dienTichLV:0,xDau:0,yDau:0,xCuoi:0,yCuoi:0,diaGioiHanhChinh:"",mucDichSuDung:"",chatLuongNuoc:"",ghiChu:"",fileKML:"",heSoFS:0}),"function"==typeof l&&l(!0),o())}catch(n){console.log(n)}finally{v(!1)}})()};return(0,t.jsxs)(u.Z,{children:[(0,t.jsxs)(h.ZP,{container:!0,spacing:3,children:[(0,t.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Lưu vực s\xf4ng",fullWidth:!0,placeholder:"",value:c.luuVucSong||"",onChange:n=>y("luuVucSong")(n.target.value)})}),(0,t.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"S\xf4ng",fullWidth:!0,placeholder:"",value:c.song||"",onChange:n=>y("song")(n.target.value)})}),(0,t.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"T\xean đoạn s\xf4ng",fullWidth:!0,placeholder:"",value:c.tenDoanSong||"",onChange:n=>y("tenDoanSong")(n.target.value)})}),(0,t.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Ph\xe2n đoạn s\xf4ng",fullWidth:!0,placeholder:"",value:c.phanDoan||"",onChange:n=>y("phanDoan")(n.target.value)})}),(0,t.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Chiều d\xe0i đoạn s\xf4ng",fullWidth:!0,placeholder:"",value:c.chieuDai||"",onChange:n=>y("chieuDai")(n.target.value)})}),(0,t.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Diện t\xedch lưu vực",fullWidth:!0,placeholder:"",value:c.dienTichLV||"",onChange:n=>y("dienTichLV")(n.target.value)})}),(0,t.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tọa độ điểm đầu X",fullWidth:!0,placeholder:"",value:c.xDau||"",onChange:n=>y("xDau")(n.target.value)})}),(0,t.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tọa độ điểm đầu Y",fullWidth:!0,placeholder:"",value:c.yDau||"",onChange:n=>y("yDau")(n.target.value)})}),(0,t.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tọa độ điểm cuối X",fullWidth:!0,placeholder:"",value:c.xCuoi||"",onChange:n=>y("xCuoi")(n.target.value)})}),(0,t.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tọa độ điểm cuối Y",fullWidth:!0,placeholder:"",value:c.yCuoi||"",onChange:n=>y("yCuoi")(n.target.value)})}),(0,t.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Địa giới h\xe0nh ch\xednh",fullWidth:!0,placeholder:"",value:c.diaGioiHanhChinh||"",onChange:n=>y("diaGioiHanhChinh")(n.target.value)})}),(0,t.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Mục đ\xedch sử dụng nước theo quy chuẩn",fullWidth:!0,placeholder:"",value:c.mucDichSuDung||"",onChange:n=>y("mucDichSuDung")(n.target.value)})}),(0,t.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Chất lượng nước theo quy chuẩn",fullWidth:!0,placeholder:"",value:c.chatLuongNuoc||"",onChange:n=>y("chatLuongNuoc")(n.target.value)})}),(0,t.jsxs)(h.ZP,{item:!0,xs:12,md:6,sx:{my:2},children:[(null==C?void 0:C.name)&&(0,t.jsx)(r.Z,{mb:3,children:null==C?void 0:C.name}),(0,t.jsxs)(m.Z,{className:"uploadBtn",component:"label",variant:"contained",startIcon:(0,t.jsx)(i.Z,{}),href:"#file-upload",children:["Upload file",(0,t.jsx)(Z.b,{type:"file",onChange:n=>{var e;f((null===(e=n.target.files)||void 0===e?void 0:e[0])||null)},accept:".kml"})]})]}),(0,t.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Hệ số an to\xe0n FS",fullWidth:!0,placeholder:"",value:c.heSoFS||"",onChange:n=>y("heSoFS")(n.target.value)})}),(0,t.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Ghi ch\xfa",fullWidth:!0,placeholder:"",value:c.ghiChu||"",onChange:n=>y("ghiChu")(n.target.value)})})]}),(0,t.jsxs)(x.Z,{sx:{p:0,mt:5},children:[(0,t.jsx)(m.Z,{size:"small",onClick:()=>{p({id:0,luuVucSong:"",song:"",tenDoanSong:"",phanDoan:"",chieuDai:0,dienTichLV:0,xDau:0,yDau:0,xCuoi:0,yCuoi:0,diaGioiHanhChinh:"",mucDichSuDung:"",chatLuongNuoc:"",ghiChu:"",fileKML:"",heSoFS:0}),o()},className:"btn cancleBtn",children:"Hủy"}),(0,t.jsxs)(m.Z,{disabled:j,className:"btn saveBtn",onClick:P,children:[" ",j?(0,t.jsx)(g.Z,{color:"inherit",size:20}):(0,t.jsx)(a.Z,{})," \xa0 Lưu"," "]})]})]})};e.Z=n=>{let{data:e,setPostSuccess:l,isEdit:s}=n,i=s?"Thay đổi th\xf4ng tin ph\xe2n đoạn s\xf4ng":"Th\xeam mới ph\xe2n đoạn s\xf4ng";return(0,t.jsx)(v.Z,{children:(n,a)=>(0,t.jsx)(u.Z,{children:s?(0,t.jsx)(p.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,t.jsx)(j.Z,{onClick:()=>n((0,t.jsx)(C,{data:e,closeDialogs:a,setPostSuccess:l}),i),children:(0,t.jsx)(o.Z,{className:"tableActionBtn"})})}):(0,t.jsx)(m.Z,{variant:"outlined",size:"small",startIcon:(0,t.jsx)(c.Z,{}),onClick:()=>n((0,t.jsx)(C,{data:e,closeDialogs:a,setPostSuccess:l}),i),children:"Th\xeam mới"})})})}},11461:function(n,e,l){"use strict";var t=l(85893),s=l(88539),i=l(68573),a=l(40492),o=l(51015),c=l(67294),u=l(38855),h=l(53525),d=l(11163),r=l(82431),m=l(85622),x=l(2810),g=l(45117);e.Z=n=>{let{onChange:e,tabId:l}=n,[p,j]=(0,c.useState)(!1),{page:D,type:Z}=(0,d.useRouter)().query,v=()=>{j(n=>!n),e(C,p)},[C,f]=(0,c.useState)({page:D,type:Z,phanDoan:""}),y=n=>e=>{n&&((null==n?void 0:n.target)?f({...C,[e]:n.target.value}):f({...C,[e]:n}))};return(0,t.jsx)(s.Z,{variant:"dense",children:(0,t.jsxs)(i.ZP,{container:!0,spacing:2,className:"_flexEnd",children:[(0,t.jsx)(i.ZP,{item:!0,xs:12,md:4,children:(0,t.jsx)(a.Z,{size:"small",fullWidth:!0,variant:"outlined",placeholder:"T\xean ph\xe2n đoạn s\xf4ng...",onChange:n=>y(n)("phanDoan")})}),(0,t.jsx)(i.ZP,{item:!0,xs:6,md:1.5,children:(0,t.jsx)(o.Z,{variant:"outlined",size:"small",fullWidth:!0,startIcon:(0,t.jsx)(u.Z,{}),onClick:()=>{e(C)},children:"T\xecm kiếm"})}),(0,t.jsx)(i.ZP,{item:!0,xs:6,md:1.5,children:(0,t.jsx)(o.Z,{variant:"outlined",size:"small",fullWidth:!0,startIcon:(0,t.jsx)(h.Z,{}),onClick:()=>{f(()=>{let n={page:D,type:Z,phanDoan:""};return e({...n}),n})},children:"Tải lại"})}),"phan-doan-song"===Z?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.ZP,{item:!0,xs:6,md:1.5,children:(0,t.jsx)(r.Z,{tableId:"phan_doan_song",filename:"phandoansong"})}),(0,t.jsx)(i.ZP,{item:!0,xs:6,md:1.5,children:(0,t.jsx)(m.Z,{isEdit:!1,setPostSuccess:v})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.ZP,{item:!0,xs:6,md:1.5,children:(0,t.jsx)(r.Z,{tableId:"du-lieu-nguon-nhan",filename:"dulieunguonnhan"})}),(0,t.jsx)(i.ZP,{item:!0,xs:6,md:1.5,children:(0,t.jsx)(x.Z,{isEdit:!1,setPostSuccess:v})})]}),"dubaonguonnuocnhan"==l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.ZP,{item:!0,xs:6,md:1.5,children:(0,t.jsx)(r.Z,{tableId:"phan_doan_song",filename:"phandoansong"})}),(0,t.jsx)(i.ZP,{item:!0,xs:6,md:1.5,children:(0,t.jsx)(g.Z,{isEdit:!1,setPostSuccess:v})})]}):null]})})}},20067:function(){},72061:function(){}}]);