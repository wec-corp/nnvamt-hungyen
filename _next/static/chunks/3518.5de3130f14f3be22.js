"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3518],{83518:function(e,t,n){n.r(t),n.d(t,{default:function(){return eR}});var i=n(85893),r=n(11163),l=n(44582),s=n(67294),d=n(11032),a=n(68573),o=n(93454),c=n(96788),x=n(60990),h=n(21038),u=n(56912),g=n(84166),p=n(88196),m=n(92365),b=n(52857),j=n(40110),y=n(97182),Z=n(25026),f=n(76592),v=n(70360),k=n(46577),C=n(8863),w=n(19827),N=n(95639),R=n(5152),T=n.n(R);let A=T()(()=>Promise.all([n.e(4028),n.e(9269),n.e(2573),n.e(5539)]).then(n.bind(n,55539)),{loadableGenerated:{webpack:()=>[55539]},ssr:!1});var B=e=>{let{totalEmbankment:t,embankmentByType:n,embankmentByClass:r}=e,[l,d]=(0,s.useState)(!1),[a,R]=(0,s.useState)(""),[T,B]=(0,s.useState)([]),[F,S]=(0,s.useState)(!1),[W,I]=(0,s.useState)(null),K=[{id:"1",position:[20.67,106.075],name:"Sự cố đ\xea tả Hồng H\xe0 I",description:"Đ\xea bị nứt dọc sau đợt mưa lớn",status:"moderate",type:"Nứt dọc",date:"10/05/2025"},{id:"2",position:[20.675,106.08],name:"Sự cố đ\xea tả Hồng H\xe0 II",description:"Đ\xea bị sụt l\xfan nghi\xeam trọng",status:"serious",type:"Sụt l\xfan",date:"12/05/2025"},{id:"3",position:[20.678,106.085],name:"Sự cố đ\xea tả Tr\xe0 L\xfd",description:"Đ\xea bị thẩm lậu",status:"normal",type:"Thẩm lậu",date:"15/05/2025"}],P=(0,s.useCallback)((e,t)=>{S(!0);let n=[...K],i="Vị tr\xed sự cố đ\xea điều";setTimeout(()=>{e&&(i="Vị tr\xed sự cố đ\xea ".concat(e)),t&&(i="Vị tr\xed sự cố đ\xea cấp ".concat(t)),R(i),B(n),I(null),S(!1),d(!0)},500)},[K]),z=(0,s.useCallback)(e=>{I(e)},[]);return(0,i.jsxs)(o.Z,{elevation:2,sx:{p:3,borderRadius:2},children:[(0,i.jsx)(c.Z,{variant:"h6",align:"center",gutterBottom:!0,children:"Đ\xea"}),(0,i.jsx)(x.Z,{sx:{width:"100%",mb:2},children:(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5},children:[(0,i.jsx)(c.Z,{variant:"subtitle2",fontWeight:"bold",children:t.label}),(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(c.Z,{variant:"subtitle2",fontWeight:"medium",children:t.value}),(0,i.jsx)(c.Z,{variant:"subtitle2",sx:{mx:.5},children:"/"}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed sự cố tr\xean bản đồ",children:(0,i.jsx)(c.Z,{variant:"subtitle2",color:"error.main",fontWeight:"bold",onClick:()=>P(),sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:t.incident})}),(0,i.jsx)(c.Z,{variant:"body2",sx:{ml:.5},children:"KM"})]})]})}),(0,i.jsx)(u.Z,{sx:{my:2}}),(0,i.jsx)(c.Z,{variant:"subtitle2",sx:{fontWeight:"medium"},children:"Loại đ\xea"}),(0,i.jsx)(g.Z,{spacing:1.5,sx:{width:"100%",my:1},children:n.map((e,t)=>(0,i.jsx)(x.Z,{sx:{width:"100%"},children:(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5},children:[(0,i.jsx)(c.Z,{variant:"body2",children:e.label}),(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(c.Z,{variant:"body2",fontWeight:"medium",children:e.value}),(0,i.jsx)(c.Z,{variant:"body2",sx:{mx:.5},children:"/"}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed sự cố tr\xean bản đồ",children:(0,i.jsx)(c.Z,{variant:"body2",color:"error.main",fontWeight:"bold",onClick:()=>P(e.label),sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:e.incident})}),(0,i.jsx)(c.Z,{variant:"body2",sx:{ml:.5},children:"KM"})]})]})},t))}),(0,i.jsx)(u.Z,{sx:{my:2}}),(0,i.jsx)(c.Z,{variant:"subtitle2",sx:{fontWeight:"medium"},children:"Ph\xe2n cấp đ\xea"}),(0,i.jsx)(g.Z,{spacing:1.5,sx:{width:"100%",my:1},children:r.map((e,t)=>(0,i.jsx)(x.Z,{sx:{width:"100%"},children:(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5},children:[(0,i.jsx)(c.Z,{variant:"body2",children:e.label}),(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(c.Z,{variant:"body2",fontWeight:"medium",children:e.value}),(0,i.jsx)(c.Z,{variant:"body2",sx:{mx:.5},children:"/"}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed sự cố tr\xean bản đồ",children:(0,i.jsx)(c.Z,{variant:"body2",color:"error.main",fontWeight:"bold",onClick:()=>P(void 0,e.label),sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:e.incident})}),(0,i.jsx)(c.Z,{variant:"body2",sx:{ml:.5},children:"KM"})]})]})},t))}),(0,i.jsx)(u.Z,{sx:{my:2}}),(0,i.jsxs)(x.Z,{sx:{mt:2},children:[(0,i.jsx)(c.Z,{variant:"subtitle2",sx:{fontWeight:"medium",mb:1},children:"Ghi ch\xfa"}),(0,i.jsx)(x.Z,{sx:{backgroundColor:"rgba(0, 0, 0, 0.04)",p:1.5,borderRadius:1},children:(0,i.jsxs)(c.Z,{variant:"caption",children:["- Chiều d\xe0i đ\xea / chiều d\xe0i",(0,i.jsx)(x.Z,{component:"span",sx:{color:"error.main",fontWeight:"bold"},children:"sự cố"})]})})]}),(0,i.jsxs)(p.Z,{open:l,onClose:()=>d(!1),maxWidth:"md",fullWidth:!0,children:[(0,i.jsxs)(m.Z,{children:[a,(0,i.jsx)(b.Z,{"aria-label":"close",onClick:()=>d(!1),sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,i.jsx)(N.Z,{})})]}),(0,i.jsx)(j.Z,{dividers:!0,sx:{p:0,position:"relative",display:"flex",flexDirection:"column",height:"80vh"},children:F?(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",flexDirection:"column",gap:2},children:[(0,i.jsx)(y.Z,{}),(0,i.jsx)(c.Z,{children:"Đang tải dữ liệu bản đồ..."})]}):(0,i.jsxs)(x.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[" ",(0,i.jsx)(x.Z,{sx:{height:"60%",width:"100%",overflow:"hidden",padding:2},children:l&&(0,i.jsx)(A,{incidents:T,title:a,onSelectIncident:z})}),(0,i.jsxs)(x.Z,{sx:{p:2,flex:1,overflowY:"auto"},children:[(0,i.jsx)(c.Z,{variant:"h6",gutterBottom:!0,children:"Danh s\xe1ch sự cố"}),(0,i.jsx)(Z.Z,{children:(0,i.jsxs)(f.Z,{size:"small",children:[(0,i.jsx)(v.Z,{children:(0,i.jsxs)(k.Z,{sx:{backgroundColor:"#f5f5f5"},children:[(0,i.jsx)(C.Z,{children:"ID"}),(0,i.jsx)(C.Z,{children:"T\xean sự cố"}),(0,i.jsx)(C.Z,{children:"Loại"}),(0,i.jsx)(C.Z,{align:"center",children:"Mức độ"}),(0,i.jsx)(C.Z,{align:"center",children:"Ng\xe0y ph\xe1t hiện"})]})})," ",(0,i.jsx)(w.Z,{children:T.map(e=>(0,i.jsxs)(k.Z,{hover:!0,onClick:()=>z(e),sx:{cursor:"pointer",backgroundColor:W&&W.id===e.id?"rgba(25, 118, 210, 0.08)":"inherit"},children:[(0,i.jsx)(C.Z,{children:e.id}),(0,i.jsx)(C.Z,{children:e.name}),(0,i.jsx)(C.Z,{children:e.type}),(0,i.jsx)(C.Z,{align:"center",children:(0,i.jsx)(x.Z,{component:"span",sx:{px:1.5,py:.5,borderRadius:1,fontSize:"0.75rem",fontWeight:"medium",color:"white",backgroundColor:"serious"===e.status?"#EF5350":"moderate"===e.status?"#FFA726":"#4CAF50"},children:"serious"===e.status?"Nghi\xeam trọng":"moderate"===e.status?"Trung b\xecnh":"Nhẹ"})}),(0,i.jsx)(C.Z,{align:"center",children:e.date})]},e.id))})]})})]})]})})]})]})};let F=T()(()=>Promise.all([n.e(4028),n.e(9269),n.e(2573),n.e(5539)]).then(n.bind(n,55539)),{loadableGenerated:{webpack:()=>[55539]},ssr:!1});var S=e=>{let{keStructures:t,culvertStructures:n,gatewayStructures:r}=e,[l,d]=(0,s.useState)(!1),[a,g]=(0,s.useState)(""),[R,T]=(0,s.useState)([]),[A,B]=(0,s.useState)(!1),[S,W]=(0,s.useState)(null),I={Kè:[{id:"1",position:[20.67,106.075],name:"Sự cố k\xe8 l\xe1t m\xe1i tại Khu vực 1",description:"K\xe8 bị sạt lở sau đợt mưa lớn",status:"moderate",type:"K\xe8 l\xe1t m\xe1i",date:"10/05/2025"},{id:"2",position:[20.675,106.08],name:"Sự cố k\xe8 mỏ h\xe0n tại Khu vực 2",description:"K\xe8 bị hư hỏng, cần sửa chữa",status:"serious",type:"K\xe8 mỏ h\xe0n",date:"12/05/2025"}],Cống:[{id:"3",position:[20.678,106.085],name:"Sự cố cống tại Khu vực 3",description:"Cống bị r\xf2 rỉ nước",status:"normal",type:"R\xf2 rỉ",date:"15/05/2025"}],"Cửa khẩu":[{id:"4",position:[20.679,106.09],name:"Sự cố cửa khẩu tại Khu vực 4",description:"Cửa khẩu bị kẹt kh\xf4ng đ\xf3ng được",status:"moderate",type:"Kẹt cửa",date:"18/05/2025"}]},K=(0,s.useCallback)(e=>{B(!0);setTimeout(()=>{let t=I[e]||[];g("Vị tr\xed sự cố ".concat(e)),T(t),W(null),B(!1),d(!0)},500)},[I]),P=(0,s.useCallback)(e=>{W(e)},[]);return(0,i.jsxs)(o.Z,{elevation:2,sx:{p:3,borderRadius:2},children:[(0,i.jsx)(c.Z,{variant:"h6",align:"center",gutterBottom:!0,children:"C\xf4ng tr\xecnh tr\xean đ\xea"}),(0,i.jsx)(x.Z,{sx:{width:"100%",mb:2},children:(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5},children:[(0,i.jsx)(c.Z,{variant:"subtitle2",fontWeight:"bold",children:t.label}),(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(c.Z,{variant:"subtitle2",fontWeight:"medium",children:t.value}),(0,i.jsx)(c.Z,{variant:"subtitle2",sx:{mx:.5},children:"/"}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed sự cố tr\xean bản đồ",children:(0,i.jsx)(c.Z,{variant:"subtitle2",color:"error.main",fontWeight:"bold",onClick:()=>K("K\xe8"),sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:t.incident})})]})]})}),(0,i.jsx)(u.Z,{sx:{my:2}}),(0,i.jsx)(x.Z,{sx:{width:"100%",mb:2},children:(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5},children:[(0,i.jsx)(c.Z,{variant:"subtitle2",fontWeight:"bold",children:n.label}),(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(c.Z,{variant:"subtitle2",fontWeight:"medium",children:n.value}),(0,i.jsx)(c.Z,{variant:"subtitle2",sx:{mx:.5},children:"/"}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed sự cố tr\xean bản đồ",children:(0,i.jsx)(c.Z,{variant:"subtitle2",color:"error.main",fontWeight:"bold",onClick:()=>K("Cống"),sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:n.incident})})]})]})}),(0,i.jsx)(u.Z,{sx:{my:2}}),(0,i.jsx)(x.Z,{sx:{width:"100%",mb:2},children:(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5},children:[(0,i.jsx)(c.Z,{variant:"subtitle2",fontWeight:"bold",children:r.label}),(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(c.Z,{variant:"subtitle2",fontWeight:"medium",children:r.value}),(0,i.jsx)(c.Z,{variant:"subtitle2",sx:{mx:.5},children:"/"}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed sự cố tr\xean bản đồ",children:(0,i.jsx)(c.Z,{variant:"subtitle2",color:"error.main",fontWeight:"bold",onClick:()=>K("Cửa khẩu"),sx:{cursor:"pointer","&:hover":{textDecoration:"underline"}},children:r.incident})})]})]})}),(0,i.jsx)(u.Z,{sx:{my:2}}),(0,i.jsxs)(x.Z,{sx:{mt:2},children:[(0,i.jsx)(c.Z,{variant:"subtitle2",sx:{fontWeight:"medium",mb:1},children:"Ghi ch\xfa"}),(0,i.jsx)(x.Z,{sx:{backgroundColor:"rgba(0, 0, 0, 0.04)",p:1.5,borderRadius:1},children:(0,i.jsxs)(c.Z,{variant:"caption",children:["- Số lượng c\xf4ng tr\xecnh / số lượng"," ",(0,i.jsx)(x.Z,{component:"span",sx:{color:"error.main",fontWeight:"bold"},children:"sự cố"})," "]})})]})," ",(0,i.jsxs)(p.Z,{open:l,onClose:()=>d(!1),maxWidth:"md",fullWidth:!0,children:[(0,i.jsxs)(m.Z,{sx:{position:"relative",pr:6},children:[a,(0,i.jsx)(b.Z,{onClick:()=>d(!1),size:"small",sx:{position:"absolute",top:8,right:8,color:"text.secondary"},children:(0,i.jsx)(N.Z,{})})]}),(0,i.jsx)(j.Z,{dividers:!0,sx:{p:0,position:"relative",display:"flex",flexDirection:"column",height:"80vh"},children:A?(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",flexDirection:"column",gap:2},children:[(0,i.jsx)(y.Z,{}),(0,i.jsx)(c.Z,{children:"Đang tải dữ liệu bản đồ..."})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.Z,{sx:{height:"60%",width:"100%",overflow:"hidden",padding:2},children:l&&(0,i.jsx)(F,{incidents:R,title:a,onSelectIncident:P})}),(0,i.jsxs)(x.Z,{sx:{p:2,height:"40%",overflowY:"auto"},children:[(0,i.jsx)(c.Z,{variant:"h6",gutterBottom:!0,children:"Danh s\xe1ch sự cố"}),(0,i.jsx)(Z.Z,{children:(0,i.jsxs)(f.Z,{size:"small",children:[(0,i.jsx)(v.Z,{children:(0,i.jsxs)(k.Z,{sx:{backgroundColor:"#f5f5f5"},children:[(0,i.jsx)(C.Z,{children:"ID"}),(0,i.jsx)(C.Z,{children:"T\xean sự cố"}),(0,i.jsx)(C.Z,{children:"Loại"}),(0,i.jsx)(C.Z,{align:"center",children:"Mức độ"}),(0,i.jsx)(C.Z,{align:"center",children:"Ng\xe0y ph\xe1t hiện"})]})}),(0,i.jsx)(w.Z,{children:R.map(e=>(0,i.jsxs)(k.Z,{hover:!0,onClick:()=>P(e),sx:{cursor:"pointer",backgroundColor:S&&S.id===e.id?"rgba(25, 118, 210, 0.08)":"inherit"},children:[(0,i.jsx)(C.Z,{children:e.id}),(0,i.jsx)(C.Z,{children:e.name}),(0,i.jsx)(C.Z,{children:e.type}),(0,i.jsx)(C.Z,{align:"center",children:(0,i.jsx)(x.Z,{component:"span",sx:{px:1.5,py:.5,borderRadius:1,fontSize:"0.75rem",fontWeight:"medium",color:"white",backgroundColor:"serious"===e.status?"#EF5350":"moderate"===e.status?"#FFA726":"#4CAF50"},children:"serious"===e.status?"Nghi\xeam trọng":"moderate"===e.status?"Trung b\xecnh":"Nhẹ"})}),(0,i.jsx)(C.Z,{align:"center",children:e.date})]},e.id))})]})})]})]})})]})]})};let W=T()(()=>Promise.all([n.e(4028),n.e(9269),n.e(2573),n.e(5539)]).then(n.bind(n,55539)),{loadableGenerated:{webpack:()=>[55539]},ssr:!1});var I=e=>{let{criticalPointsByEmbankment:t}=e,n=t.reduce((e,t)=>e+t.totalPoints,0),r=t.reduce((e,t)=>e+t.totalLength,0),[l,d]=(0,s.useState)(!1),[a,R]=(0,s.useState)(""),[T,A]=(0,s.useState)([]),[B,F]=(0,s.useState)(!1),[S,I]=(0,s.useState)(null),K=[{id:"1",position:[20.67,106.075],name:"Điểm xung yếu 1 - Đ\xea tả Hồng H\xe0 I",description:"Điểm xung yếu c\xf3 nguy cơ sạt lở cao",status:"serious",type:"Sạt lở",date:"10/05/2025",embankmentName:"Đ\xea tả Hồng H\xe0 I"},{id:"2",position:[20.675,106.08],name:"Điểm xung yếu 2 - Đ\xea tả Hồng H\xe0 II",description:"Điểm xung yếu c\xf3 nguy cơ thẩm lậu",status:"moderate",type:"Thẩm lậu",date:"12/05/2025",embankmentName:"Đ\xea tả Hồng H\xe0 II"},{id:"3",position:[20.678,106.085],name:"Điểm xung yếu 3 - Đ\xea tả Tr\xe0 L\xfd",description:"Điểm xung yếu c\xf3 nguy cơ sụt l\xfan",status:"normal",type:"Sụt l\xfan",date:"15/05/2025",embankmentName:"Đ\xea tả Tr\xe0 L\xfd"},{id:"4",position:[20.679,106.09],name:"Điểm xung yếu 4 - Đ\xea hữu Tr\xe0 L\xfd",description:"Điểm xung yếu c\xf3 nguy cơ tr\xe0n",status:"serious",type:"Tr\xe0n",date:"18/05/2025",embankmentName:"Đ\xea hữu Tr\xe0 L\xfd"},{id:"5",position:[20.672,106.082],name:"Điểm xung yếu 5 - Đ\xea hữu Luộc",description:"Điểm xung yếu c\xf3 nguy cơ sạt lở",status:"moderate",type:"Sạt lở",date:"20/05/2025",embankmentName:"Đ\xea hữu Luộc"}],P=(0,s.useCallback)(e=>{F(!0);let t="Vị tr\xed c\xe1c điểm trọng điểm xung yếu";setTimeout(()=>{let n=e?K.filter(t=>t.embankmentName===e):K;e&&(t="Vị tr\xed c\xe1c điểm trọng điểm xung yếu - ".concat(e)),R(t),A(n),I(null),F(!1),d(!0)},500)},[K]),z=(0,s.useCallback)(e=>{I(e)},[]);return(0,i.jsxs)(o.Z,{elevation:2,sx:{p:3,borderRadius:2},children:[(0,i.jsx)(x.Z,{sx:{display:"flex",alignItems:"center",mb:2},children:(0,i.jsx)(c.Z,{variant:"h6",fontWeight:"medium",children:"Trọng điểm xung yếu"})}),(0,i.jsxs)(x.Z,{sx:{width:"100%",mb:2},children:[(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:.5},children:[(0,i.jsx)(c.Z,{variant:"subtitle2",fontWeight:"bold",children:"Tổng điểm"}),(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",children:(0,i.jsx)(c.Z,{variant:"subtitle2",fontWeight:"medium",onClick:()=>P(),sx:{cursor:"pointer","&:hover":{textDecoration:"underline",color:"primary.main"}},children:n})}),(0,i.jsx)(c.Z,{variant:"body2",sx:{ml:.5},children:"điểm"})]})]}),(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,i.jsx)(c.Z,{variant:"subtitle2",fontWeight:"bold",children:"Tổng chiều d\xe0i"}),(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(c.Z,{variant:"subtitle2",fontWeight:"medium",children:r.toFixed(1)}),(0,i.jsx)(c.Z,{variant:"body2",sx:{ml:.5},children:"KM"})]})]})]}),(0,i.jsx)(u.Z,{}),(0,i.jsx)(g.Z,{spacing:1,sx:{width:"100%",my:1.5,maxHeight:"230px",overflow:"auto"},children:t.map((e,t)=>(0,i.jsxs)(x.Z,{sx:{width:"100%"},children:[(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsx)(x.Z,{sx:{display:"flex",alignItems:"center"},children:(0,i.jsx)(c.Z,{variant:"subtitle2",fontWeight:"bold",sx:{ml:1},children:e.embankmentName})}),(0,i.jsx)(x.Z,{sx:{display:"flex",alignItems:"center"},children:(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",children:(0,i.jsxs)(c.Z,{variant:"subtitle2",fontWeight:"medium",sx:{mr:.5,cursor:"pointer","&:hover":{textDecoration:"underline",color:"primary.main"}},onClick:()=>P(e.embankmentName),children:[e.totalPoints," điểm / ",e.totalLength.toFixed(1)," KM"]})})})]},t),(0,i.jsx)(u.Z,{sx:{my:2}})]},t))}),(0,i.jsxs)(p.Z,{open:l,onClose:()=>d(!1),maxWidth:"md",fullWidth:!0,children:[(0,i.jsxs)(m.Z,{sx:{position:"relative",pr:6},children:[a,(0,i.jsx)(b.Z,{onClick:()=>d(!1),size:"small",sx:{position:"absolute",top:8,right:8,color:"text.secondary"},children:(0,i.jsx)(N.Z,{})})]}),(0,i.jsx)(j.Z,{dividers:!0,sx:{p:0,position:"relative",display:"flex",flexDirection:"column",height:"80vh"},children:B?(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",flexDirection:"column",gap:2},children:[(0,i.jsx)(y.Z,{}),(0,i.jsx)(c.Z,{children:"Đang tải dữ liệu bản đồ..."})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.Z,{sx:{height:"60%",width:"100%",overflow:"hidden",padding:2},children:l&&(0,i.jsx)(W,{incidents:T,title:a,onSelectIncident:z})}),(0,i.jsxs)(x.Z,{sx:{p:2,height:"40%",overflowY:"auto"},children:[(0,i.jsx)(c.Z,{variant:"h6",gutterBottom:!0,children:"Danh s\xe1ch điểm trọng yếu"}),(0,i.jsx)(Z.Z,{children:(0,i.jsxs)(f.Z,{size:"small",children:[(0,i.jsx)(v.Z,{children:(0,i.jsxs)(k.Z,{sx:{backgroundColor:"#f5f5f5"},children:[(0,i.jsx)(C.Z,{children:"ID"}),(0,i.jsx)(C.Z,{children:"T\xean điểm trọng yếu"}),(0,i.jsx)(C.Z,{children:"Loại"}),(0,i.jsx)(C.Z,{align:"center",children:"Mức độ"}),(0,i.jsx)(C.Z,{align:"center",children:"Ng\xe0y ph\xe1t hiện"})]})}),(0,i.jsx)(w.Z,{children:T.map(e=>(0,i.jsxs)(k.Z,{hover:!0,onClick:()=>z(e),sx:{cursor:"pointer",backgroundColor:S&&S.id===e.id?"rgba(25, 118, 210, 0.08)":"inherit"},children:[(0,i.jsx)(C.Z,{children:e.id}),(0,i.jsx)(C.Z,{children:e.name}),(0,i.jsx)(C.Z,{children:e.type}),(0,i.jsx)(C.Z,{align:"center",children:(0,i.jsx)(x.Z,{component:"span",sx:{px:1.5,py:.5,borderRadius:1,fontSize:"0.75rem",fontWeight:"medium",color:"white",backgroundColor:"serious"===e.status?"#EF5350":"moderate"===e.status?"#FFA726":"#4CAF50"},children:"serious"===e.status?"Nghi\xeam trọng":"moderate"===e.status?"Trung b\xecnh":"Nhẹ"})}),(0,i.jsx)(C.Z,{align:"center",children:e.date})]},e.id))})]})})]})]})})]})]})};let K={label:"Tổng chiều d\xe0i",value:"300",total:300,incident:5},P=[{label:"Đ\xea s\xf4ng/cửa s\xf4ng",value:"180",total:180,incident:3},{label:"Đ\xea biển",value:"120",total:120,incident:1.5},{label:"Đ\xea bối",value:"15",total:15,incident:.5}],z=[{label:"Đ\xea cấp I",value:"60",total:60,incident:.5},{label:"Đ\xea cấp II",value:"75",total:75,incident:1},{label:"Đ\xea cấp III",value:"45",total:45,incident:1.5},{label:"Đ\xea cấp IV",value:"30",total:30,incident:.8},{label:"Đ\xea cấp V",value:"45",total:45,incident:.7},{label:"Đ\xea chưa ph\xe2n cấp",value:"30",total:30,incident:.5}],L={label:"K\xe8",value:120,incident:8},D={label:"Cống",value:85,incident:6},H={label:"Cửa khẩu",value:42,incident:3},M=[{embankmentName:"Đ\xea tả Hồng H\xe0 I",totalPoints:8,totalLength:2.1,criticalByRisk:{high:{count:3,length:.9},medium:{count:4,length:.8},low:{count:1,length:.4}}},{embankmentName:"Đ\xea tả Hồng H\xe0 II",totalPoints:12,totalLength:3.5,criticalByRisk:{high:{count:5,length:1.5},medium:{count:4,length:1.2},low:{count:3,length:.8}}},{embankmentName:"Đ\xea tả Tr\xe0 L\xfd",totalPoints:10,totalLength:2.8,criticalByRisk:{high:{count:4,length:1.2},medium:{count:3,length:.9},low:{count:3,length:.7}}},{embankmentName:"Đ\xea hữu Tr\xe0 L\xfd",totalPoints:7,totalLength:1.9,criticalByRisk:{high:{count:2,length:.7},medium:{count:3,length:.8},low:{count:2,length:.4}}},{embankmentName:"Đ\xea hữu Luộc",totalPoints:5,totalLength:1.2,criticalByRisk:{high:{count:1,length:.4},medium:{count:2,length:.5},low:{count:2,length:.3}}}];var q=n(44513),$=n(28907),G=n(60762),V=n(71919),E=n(81873),X=n(64715),Y=n(9984),_=n(67017),O=n(25615),J=n(88793),Q=n(24570),U=n(78042),ee=n(31536),et=n(98660),en=n(92054),ei=n(14489),er=n(66854),el=n(69252),es=n(77109),ed=n(62134),ea=()=>(0,i.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,i.jsx)(a.ZP,{item:!0,xs:12,children:(0,i.jsxs)(o.Z,{elevation:2,sx:{p:2,mb:3,borderRadius:2},children:[(0,i.jsxs)(c.Z,{variant:"h6",gutterBottom:!0,color:"primary",sx:{mb:2,fontWeight:"bold",display:"flex",alignItems:"center"},children:[(0,i.jsx)(ed.Z,{sx:{mr:1}})," Tổng quan đ\xea"]}),(0,i.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(G.Z,{variant:"outlined",sx:{height:"100%"},children:(0,i.jsxs)(V.Z,{children:[(0,i.jsx)(c.Z,{variant:"subtitle1",color:"primary",gutterBottom:!0,fontWeight:"bold",children:"Th\xf4ng tin chung"}),(0,i.jsx)(c.Z,{variant:"body2",paragraph:!0,children:"Hệ thống đ\xea điều tỉnh Hưng Y\xean bao gồm 5 tuyến đ\xea ch\xednh với tổng chiều d\xe0i 202.4 km, đảm bảo khả năng ph\xf2ng chống lũ cho to\xe0n bộ diện t\xedch canh t\xe1c v\xe0 sinh sống của người d\xe2n tr\xean địa b\xe0n tỉnh."}),(0,i.jsx)(c.Z,{variant:"body2",paragraph:!0,children:"T\xf9y theo vị tr\xed v\xe0 tầm quan trọng, c\xe1c tuyến đ\xea được ph\xe2n th\xe0nh c\xe1c cấp từ I đến III, với đ\xea cấp I c\xf3 ti\xeau chuẩn kỹ thuật v\xe0 y\xeau cầu bảo vệ cao nhất."}),(0,i.jsxs)(x.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[(0,i.jsxs)(g.Z,{direction:"row",spacing:1,sx:{mb:1},children:[(0,i.jsx)(E.Z,{color:"error",size:"small",label:"Cấp I"}),(0,i.jsx)(c.Z,{variant:"body2",children:": 1 tuyến"})]}),(0,i.jsxs)(g.Z,{direction:"row",spacing:1,sx:{mb:1},children:[(0,i.jsx)(E.Z,{color:"primary",size:"small",label:"Cấp II"}),(0,i.jsx)(c.Z,{variant:"body2",children:": 2 tuyến"})]}),(0,i.jsxs)(g.Z,{direction:"row",spacing:1,children:[(0,i.jsx)(E.Z,{color:"warning",size:"small",label:"Cấp III"}),(0,i.jsx)(c.Z,{variant:"body2",children:": 2 tuyến"})]})]})]})})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(G.Z,{variant:"outlined",sx:{height:"100%"},children:(0,i.jsxs)(V.Z,{children:[(0,i.jsx)(c.Z,{variant:"subtitle1",color:"primary",gutterBottom:!0,fontWeight:"bold",children:"T\xecnh trạng hiện tại"}),(0,i.jsxs)(x.Z,{sx:{mb:2},children:[(0,i.jsxs)(c.Z,{variant:"body2",gutterBottom:!0,sx:{display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("span",{children:"Tổng chiều d\xe0i c\xe1c tuyến đ\xea:"}),(0,i.jsx)("span",{children:(0,i.jsx)("b",{children:"202.4 km"})})]}),(0,i.jsxs)(c.Z,{variant:"body2",gutterBottom:!0,sx:{display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("span",{children:"Đ\xe3 ho\xe0n thiện mặt đ\xea:"}),(0,i.jsx)("span",{children:(0,i.jsx)("b",{children:"202.4 km (100%)"})})]}),(0,i.jsx)(u.Z,{sx:{my:1}}),(0,i.jsxs)(c.Z,{variant:"body2",gutterBottom:!0,sx:{display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("span",{children:"Mặt đ\xea b\xea t\xf4ng:"}),(0,i.jsx)("span",{children:(0,i.jsx)("b",{children:"60.6 km (29.9%)"})})]}),(0,i.jsxs)(c.Z,{variant:"body2",gutterBottom:!0,sx:{display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("span",{children:"Mặt đ\xea nhựa đ\xe1:"}),(0,i.jsx)("span",{children:(0,i.jsx)("b",{children:"141.8 km (70.1%)"})})]}),(0,i.jsxs)(c.Z,{variant:"body2",gutterBottom:!0,sx:{display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("span",{children:"Đoạn cần duy tu bảo dưỡng:"}),(0,i.jsx)("span",{children:(0,i.jsx)("b",{children:"38.7 km (19.1%)"})})]})]})]})})})]})]})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:8,children:(0,i.jsxs)(o.Z,{elevation:2,sx:{p:2,mb:3,borderRadius:2},children:[(0,i.jsxs)(c.Z,{variant:"h6",gutterBottom:!0,color:"primary",sx:{mb:2,fontWeight:"bold",display:"flex",alignItems:"center"},children:[(0,i.jsx)(er.Z,{sx:{mr:1}})," Biểu đồ ph\xe2n bố cấu tr\xfac mặt đ\xea"]}),(0,i.jsx)(x.Z,{sx:{maxWidth:"100%",height:400},children:(0,i.jsx)(X.h,{width:"100%",height:"100%",children:(0,i.jsxs)(Y.v,{data:[{name:"Đ\xea tả Hồng H\xe0 I","B\xea t\xf4ng":7.6,"Nhựa đ\xe1":9.4,"Cản duy tu":3.11,"Tổng chiều d\xe0i":17},{name:"Đ\xea tả Hồng H\xe0 II","B\xea t\xf4ng":9.88,"Nhựa đ\xe1":40.52,"Cản duy tu":7.81,"Tổng chiều d\xe0i":50.4},{name:"Đ\xea tả Tr\xe0 L\xfd","B\xea t\xf4ng":11.2,"Nhựa đ\xe1":39.8,"Cản duy tu":6.9,"Tổng chiều d\xe0i":51},{name:"Đ\xea hữu Tr\xe0 L\xfd","B\xea t\xf4ng":18.145,"Nhựa đ\xe1":28.855,"Cản duy tu":12.63,"Tổng chiều d\xe0i":47},{name:"Đ\xea hữu Luộc","B\xea t\xf4ng":13.77,"Nhựa đ\xe1":23.23,"Cản duy tu":8.22,"Tổng chiều d\xe0i":37}],margin:{top:20,right:30,left:20,bottom:10},stackOffset:"none",children:[(0,i.jsx)(_.q,{strokeDasharray:"3 3",strokeOpacity:.5}),(0,i.jsx)(O.K,{dataKey:"name",height:60,tick:{textAnchor:"middle",fontSize:12}}),(0,i.jsx)(J.B,{label:{value:"Chiều d\xe0i (km)",angle:-90,position:"insideLeft",fontSize:12}}),(0,i.jsx)(Q.u,{formatter:(e,t,n)=>["".concat(e," km (").concat((Number(e)/Number(n.payload["Tổng chiều d\xe0i"])*100).toFixed(1),"%)"),t],contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",border:"none"}}),(0,i.jsx)(U.D,{wrapperStyle:{paddingTop:20}}),(0,i.jsx)(ee.$,{dataKey:"B\xea t\xf4ng",stackId:"a",fill:"#3F51B5",barSize:60,radius:[4,4,0,0]}),(0,i.jsx)(ee.$,{dataKey:"Nhựa đ\xe1",stackId:"a",fill:"#4CAF50",barSize:60,radius:[4,4,0,0]}),(0,i.jsx)(ee.$,{dataKey:"Cản duy tu",stackId:"a",fill:"#FFC107",barSize:60,radius:[4,4,0,0]})]})})})]})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,i.jsxs)(o.Z,{elevation:2,sx:{p:2,mb:3,borderRadius:2,height:"100%"},children:[(0,i.jsxs)(c.Z,{variant:"h6",gutterBottom:!0,color:"primary",sx:{mb:2,fontWeight:"bold",display:"flex",alignItems:"center"},children:[(0,i.jsx)(el.Z,{sx:{mr:1}})," Tỷ lệ cấu tr\xfac mặt đ\xea"]}),(0,i.jsx)(x.Z,{sx:{height:400,display:"flex",flexDirection:"column",justifyContent:"center"},children:(0,i.jsx)(X.h,{width:"100%",height:"100%",children:(0,i.jsxs)(et.u,{children:[(0,i.jsx)(en.b,{data:[{name:"B\xea t\xf4ng",value:60.595,fill:"#3F51B5"},{name:"Nhựa đ\xe1",value:141.805,fill:"#4CAF50"},{name:"Cản duy tu",value:38.67,fill:"#FFC107"}],cx:"50%",cy:"50%",innerRadius:70,outerRadius:120,paddingAngle:1,dataKey:"value",label:e=>{let{name:t,percent:n}=e;return"".concat(t,": ").concat((100*n).toFixed(1),"%")},labelLine:!1,children:[{name:"B\xea t\xf4ng",value:60.595,fill:"#3F51B5"},{name:"Nhựa đ\xe1",value:141.805,fill:"#4CAF50"},{name:"Cản duy tu",value:38.67,fill:"#FFC107"}].map((e,t)=>(0,i.jsx)(ei.b,{fill:e.fill},"cell-".concat(t)))}),(0,i.jsx)(Q.u,{formatter:e=>["".concat(e," km (").concat((Number(e)/241.07*100).toFixed(1),"%)"),"Chiều d\xe0i"],contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",border:"none"}}),(0,i.jsx)(U.D,{verticalAlign:"bottom"})]})})})]})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,children:(0,i.jsxs)(o.Z,{elevation:2,sx:{p:2,mb:3,borderRadius:2},children:[(0,i.jsxs)(c.Z,{variant:"h6",gutterBottom:!0,color:"primary",sx:{mb:2,fontWeight:"bold",display:"flex",alignItems:"center"},children:[(0,i.jsx)(es.Z,{sx:{mr:1}})," Bảng thống k\xea đặc điểm đ\xea"]}),(0,i.jsx)(Z.Z,{children:(0,i.jsxs)(f.Z,{sx:{minWidth:650},"aria-label":"Bảng thống k\xea đặc điểm đ\xea",children:[(0,i.jsx)(v.Z,{children:(0,i.jsxs)(k.Z,{children:[(0,i.jsx)(C.Z,{sx:{fontWeight:"bold",backgroundColor:"#f5f7fa"},children:"T\xean đ\xea"}),(0,i.jsx)(C.Z,{align:"center",sx:{fontWeight:"bold",backgroundColor:"#f5f7fa"},children:"Chiều d\xe0i (km)"}),(0,i.jsx)(C.Z,{align:"center",sx:{fontWeight:"bold",backgroundColor:"#f5f7fa"},children:"Cấp đ\xea"}),(0,i.jsx)(C.Z,{align:"center",sx:{fontWeight:"bold",backgroundColor:"#f5f7fa"},children:"B\xea t\xf4ng (km)"}),(0,i.jsx)(C.Z,{align:"center",sx:{fontWeight:"bold",backgroundColor:"#f5f7fa"},children:"Nhựa đ\xe1 (km)"}),(0,i.jsx)(C.Z,{align:"center",sx:{fontWeight:"bold",backgroundColor:"#f5f7fa"},children:"Cản duy tu (km)"})]})}),(0,i.jsxs)(w.Z,{children:[(0,i.jsxs)(k.Z,{hover:!0,children:[(0,i.jsx)(C.Z,{component:"th",scope:"row",children:"Đ\xea tả Hồng H\xe0 I"}),(0,i.jsx)(C.Z,{align:"center",children:"17.0"}),(0,i.jsx)(C.Z,{align:"center",children:(0,i.jsx)(E.Z,{color:"primary",size:"small",label:"II"})}),(0,i.jsx)(C.Z,{align:"center",children:"7.6"}),(0,i.jsx)(C.Z,{align:"center",children:"9.4"}),(0,i.jsx)(C.Z,{align:"center",children:"3.11"})]}),(0,i.jsxs)(k.Z,{hover:!0,children:[(0,i.jsx)(C.Z,{component:"th",scope:"row",children:"Đ\xea tả Hồng H\xe0 II"}),(0,i.jsx)(C.Z,{align:"center",children:"50.4"}),(0,i.jsx)(C.Z,{align:"center",children:(0,i.jsx)(E.Z,{color:"error",size:"small",label:"I"})}),(0,i.jsx)(C.Z,{align:"center",children:"9.88"}),(0,i.jsx)(C.Z,{align:"center",children:"40.52"}),(0,i.jsx)(C.Z,{align:"center",children:"7.81"})]}),(0,i.jsxs)(k.Z,{hover:!0,children:[(0,i.jsx)(C.Z,{component:"th",scope:"row",children:"Đ\xea tả Tr\xe0 L\xfd"}),(0,i.jsx)(C.Z,{align:"center",children:"51.0"}),(0,i.jsx)(C.Z,{align:"center",children:(0,i.jsx)(E.Z,{color:"warning",size:"small",label:"III"})}),(0,i.jsx)(C.Z,{align:"center",children:"11.2"}),(0,i.jsx)(C.Z,{align:"center",children:"39.8"}),(0,i.jsx)(C.Z,{align:"center",children:"6.9"})]}),(0,i.jsxs)(k.Z,{hover:!0,children:[(0,i.jsx)(C.Z,{component:"th",scope:"row",children:"Đ\xea hữu Tr\xe0 L\xfd"}),(0,i.jsx)(C.Z,{align:"center",children:"47.0"}),(0,i.jsx)(C.Z,{align:"center",children:(0,i.jsx)(E.Z,{color:"primary",size:"small",label:"II"})}),(0,i.jsx)(C.Z,{align:"center",children:"18.145"}),(0,i.jsx)(C.Z,{align:"center",children:"28.855"}),(0,i.jsx)(C.Z,{align:"center",children:"12.63"})]}),(0,i.jsxs)(k.Z,{hover:!0,children:[(0,i.jsx)(C.Z,{component:"th",scope:"row",children:"Đ\xea hữu Luộc"}),(0,i.jsx)(C.Z,{align:"center",children:"37.0"}),(0,i.jsx)(C.Z,{align:"center",children:(0,i.jsx)(E.Z,{color:"warning",size:"small",label:"III"})}),(0,i.jsx)(C.Z,{align:"center",children:"13.77"}),(0,i.jsx)(C.Z,{align:"center",children:"23.23"}),(0,i.jsx)(C.Z,{align:"center",children:"8.22"})]})]})]})})]})})]});let eo=T()(()=>Promise.all([n.e(4028),n.e(9269),n.e(2573),n.e(861)]).then(n.bind(n,80861)),{loadableGenerated:{webpack:()=>[80861]},ssr:!1}),ec=[{embankmentName:"Đ\xea tả Hồng H\xe0 I",structures:[{type:"K\xe8 l\xe1t m\xe1i",normal:8,needRepair:6,needNew:1,total:15},{type:"Cống",normal:12,needRepair:3,needNew:2,total:17},{type:"Cửa khẩu",normal:0,needRepair:1,needNew:0,total:1},{type:"Đ\xea bối",normal:2,needRepair:1,needNew:0,total:3}]},{embankmentName:"Đ\xea tả Hồng H\xe0 II",structures:[{type:"K\xe8 l\xe1t m\xe1i",normal:12,needRepair:10,needNew:2,total:24},{type:"Cống",normal:18,needRepair:4,needNew:1,total:23},{type:"Cửa khẩu",normal:1,needRepair:0,needNew:0,total:1},{type:"Đ\xea bối",normal:4,needRepair:1,needNew:0,total:5}]},{embankmentName:"Đ\xea tả Tr\xe0 L\xfd",structures:[{type:"K\xe8 l\xe1t m\xe1i",normal:10,needRepair:8,needNew:1,total:19},{type:"Cống",normal:16,needRepair:5,needNew:2,total:23},{type:"Cửa khẩu",normal:0,needRepair:0,needNew:0,total:0},{type:"Đ\xea bối",normal:3,needRepair:1,needNew:0,total:4}]},{embankmentName:"Đ\xea hữu Tr\xe0 L\xfd",structures:[{type:"K\xe8 l\xe1t m\xe1i",normal:5,needRepair:6,needNew:2,total:13},{type:"Cống",normal:10,needRepair:2,needNew:1,total:13},{type:"Cửa khẩu",normal:0,needRepair:0,needNew:0,total:0},{type:"Đ\xea bối",normal:2,needRepair:1,needNew:0,total:3}]},{embankmentName:"Đ\xea hữu Luộc",structures:[{type:"K\xe8 l\xe1t m\xe1i",normal:3,needRepair:2,needNew:0,total:5},{type:"Cống",normal:9,needRepair:1,needNew:0,total:10},{type:"Cửa khẩu",normal:0,needRepair:0,needNew:0,total:0},{type:"Đ\xea bối",normal:2,needRepair:0,needNew:0,total:2}]}];var ex=()=>{let[e,t]=(0,s.useState)(!1),[n,r]=(0,s.useState)(""),[l,d]=(0,s.useState)([]),[Z,f]=(0,s.useState)(!1),v={"K\xe8 l\xe1t m\xe1i":[{id:"1",position:[20.67,106.075],name:"Sự cố k\xe8 l\xe1t m\xe1i tại Khu vực 1",description:"K\xe8 bị sạt lở sau đợt mưa lớn",status:"serious",type:"Sạt lở k\xe8",date:"10/05/2025"},{id:"2",position:[20.665,106.08],name:"Sự cố k\xe8 l\xe1t m\xe1i tại Khu vực 2",description:"Nứt k\xe8 tr\xean đoạn d\xe0i 20m",status:"moderate",type:"Nứt k\xe8",date:"12/05/2025"},{id:"3",position:[20.68,106.085],name:"Sự cố k\xe8 l\xe1t m\xe1i tại Khu vực 3",description:"L\xfan nền k\xe8",status:"moderate",type:"L\xfan k\xe8",date:"14/05/2025"}],Cống:[{id:"4",position:[20.675,106.09],name:"Sự cố cống tại Khu vực 1",description:"Cống bị tắc nghẽn do r\xe1c thải",status:"moderate",type:"Tắc nghẽn",date:"08/05/2025"},{id:"5",position:[20.685,106.078],name:"Sự cố cống tại Khu vực 2",description:"Hư hỏng van cống",status:"serious",type:"Hư hỏng cơ kh\xed",date:"11/05/2025"}],"Cửa khẩu":[{id:"6",position:[20.672,106.088],name:"Sự cố cửa khẩu tại Khu vực 1",description:"Cửa khẩu bị hư hỏng kh\xf4ng đ\xf3ng mở được",status:"serious",type:"Hỏng cơ cấu",date:"09/05/2025"}],"Đ\xea bối":[{id:"7",position:[20.668,106.075],name:"Sự cố đ\xea bối tại Khu vực 1",description:"Đ\xea bị thẩm thấu nước",status:"moderate",type:"Thẩm thấu",date:"13/05/2025"},{id:"8",position:[20.678,106.082],name:"Sự cố đ\xea bối tại Khu vực 2",description:"Đ\xea bị sụt l\xfan nhẹ",status:"normal",type:"Sụt l\xfan",date:"15/05/2025"}],"Tổng hợp":[]},k=(0,s.useCallback)((e,n)=>{f(!0);let i=[],l="";setTimeout(()=>{if("Tổng hợp"===e)i=[...v["K\xe8 l\xe1t m\xe1i"],...v["Cống"],...v["Cửa khẩu"],...v["Đ\xea bối"]],l="Tổng hợp vị tr\xed sự cố c\xf4ng tr\xecnh phụ trợ";else if(v[e]&&(i=v[e],l="Vị tr\xed sự cố ".concat(e),n)){let e={"B\xecnh thường":"normal","Cần sửa chữa":"moderate","Cần x\xe2y mới":"serious"};e[n]&&(i=i.filter(t=>t.status===e[n]),l+=" - ".concat(n))}r(l),d(i),f(!1),t(!0)},500)},[v]),C={keLatMai:{normal:ec.reduce((e,t)=>{let n=t.structures.find(e=>"K\xe8 l\xe1t m\xe1i"===e.type);return e+(n?n.normal:0)},0),needRepair:ec.reduce((e,t)=>{let n=t.structures.find(e=>"K\xe8 l\xe1t m\xe1i"===e.type);return e+(n?n.needRepair:0)},0),needNew:ec.reduce((e,t)=>{let n=t.structures.find(e=>"K\xe8 l\xe1t m\xe1i"===e.type);return e+(n?n.needNew:0)},0),get total(){return this.normal+this.needRepair+this.needNew}},cong:{normal:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Cống"===e.type);return e+(n?n.normal:0)},0),needRepair:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Cống"===e.type);return e+(n?n.needRepair:0)},0),needNew:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Cống"===e.type);return e+(n?n.needNew:0)},0),get total(){return this.normal+this.needRepair+this.needNew}},cuaKhau:{normal:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Cửa khẩu"===e.type);return e+(n?n.normal:0)},0),needRepair:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Cửa khẩu"===e.type);return e+(n?n.needRepair:0)},0),needNew:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Cửa khẩu"===e.type);return e+(n?n.needNew:0)},0),get total(){return this.normal+this.needRepair+this.needNew}},deBoi:{normal:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Đ\xea bối"===e.type);return e+(n?n.normal:0)},0),needRepair:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Đ\xea bối"===e.type);return e+(n?n.needRepair:0)},0),needNew:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Đ\xea bối"===e.type);return e+(n?n.needNew:0)},0),get total(){return this.normal+this.needRepair+this.needNew}}},w=C.keLatMai.total+C.cong.total+C.cuaKhau.total+C.deBoi.total,R=C.keLatMai.normal+C.cong.normal+C.cuaKhau.normal+C.deBoi.normal,T=C.keLatMai.needRepair+C.cong.needRepair+C.cuaKhau.needRepair+C.deBoi.needRepair,A=C.keLatMai.needNew+C.cong.needNew+C.cuaKhau.needNew+C.deBoi.needNew,B=[{name:"K\xe8 l\xe1t m\xe1i",value:C.keLatMai.total,fill:"#8884d8"},{name:"Cống",value:C.cong.total,fill:"#FF8A65"},{name:"Cửa khẩu",value:C.cuaKhau.total,fill:"#64B5F6"},{name:"Đ\xea bối",value:C.deBoi.total,fill:"#FFD54F"}],F=[{name:"B\xecnh thường",value:R,fill:"#4CAF50"},{name:"Cần sửa chữa",value:T,fill:"#FF9800"},{name:"Cần x\xe2y mới",value:A,fill:"#F44336"}];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.Z,{elevation:2,sx:{p:2,mb:3,borderRadius:2},children:[(0,i.jsx)(c.Z,{variant:"h6",gutterBottom:!0,color:"primary",sx:{mb:2,fontWeight:"bold"},children:"Tổng quan c\xf4ng tr\xecnh phụ trợ"}),(0,i.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(G.Z,{variant:"outlined",sx:{height:"100%"},children:(0,i.jsxs)(V.Z,{children:[(0,i.jsx)(c.Z,{variant:"subtitle1",color:"primary",gutterBottom:!0,fontWeight:"bold",children:"Thống k\xea c\xf4ng tr\xecnh phụ trợ"}),(0,i.jsxs)(x.Z,{sx:{mb:2},children:[(0,i.jsxs)(c.Z,{variant:"body2",gutterBottom:!0,sx:{display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("span",{children:"Tổng số c\xf4ng tr\xecnh phụ trợ:"}),(0,i.jsx)("span",{children:(0,i.jsxs)("b",{children:[w," c\xf4ng tr\xecnh"]})})]}),(0,i.jsx)(u.Z,{sx:{my:1}})," ",(0,i.jsxs)(c.Z,{variant:"body2",gutterBottom:!0,sx:{display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("span",{children:"K\xe8 l\xe1t m\xe1i:"}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)(x.Z,{component:"span",onClick:()=>k("K\xe8 l\xe1t m\xe1i"),sx:{cursor:"pointer","&:hover":{textDecoration:"underline",color:"primary.main"}},children:(0,i.jsxs)("b",{children:[C.keLatMai.total," c\xf4ng tr\xecnh (",Math.round(C.keLatMai.total/w*100),"%)"]})})})]})," ",(0,i.jsxs)(c.Z,{variant:"body2",gutterBottom:!0,sx:{display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("span",{children:"Cống:"}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)(x.Z,{component:"span",onClick:()=>k("Cống"),sx:{cursor:"pointer","&:hover":{textDecoration:"underline",color:"primary.main"}},children:(0,i.jsxs)("b",{children:[C.cong.total," c\xf4ng tr\xecnh (",Math.round(C.cong.total/w*100),"%)"]})})})]})," ",(0,i.jsxs)(c.Z,{variant:"body2",gutterBottom:!0,sx:{display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("span",{children:"Cửa khẩu:"}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)(x.Z,{component:"span",onClick:()=>k("Cửa khẩu"),sx:{cursor:"pointer","&:hover":{textDecoration:"underline",color:"primary.main"}},children:(0,i.jsxs)("b",{children:[C.cuaKhau.total," c\xf4ng tr\xecnh (",Math.round(C.cuaKhau.total/w*100),"%)"]})})})]})," ",(0,i.jsxs)(c.Z,{variant:"body2",gutterBottom:!0,sx:{display:"flex",justifyContent:"space-between"},children:[(0,i.jsx)("span",{children:"Đ\xea bối:"}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)(x.Z,{component:"span",onClick:()=>k("Đ\xea bối"),sx:{cursor:"pointer","&:hover":{textDecoration:"underline",color:"primary.main"}},children:(0,i.jsxs)("b",{children:[C.deBoi.total," c\xf4ng tr\xecnh (",Math.round(C.deBoi.total/w*100),"%)"]})})})]})]})]})})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,i.jsx)(G.Z,{variant:"outlined",sx:{height:"100%"},children:(0,i.jsxs)(V.Z,{children:[(0,i.jsx)(c.Z,{variant:"subtitle1",color:"primary",gutterBottom:!0,fontWeight:"bold",children:"T\xecnh trạng hiện tại"}),(0,i.jsxs)(x.Z,{sx:{mb:2},children:[(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,i.jsxs)(g.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,i.jsx)(E.Z,{size:"small",sx:{bgcolor:"#4CAF50",color:"white"},label:""}),(0,i.jsx)(c.Z,{variant:"body2",children:"B\xecnh thường:"})]}),(0,i.jsx)(c.Z,{variant:"body2",children:(0,i.jsxs)("b",{children:[R," c\xf4ng tr\xecnh (",Math.round(R/w*100),"%)"]})})]})," ",(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,i.jsxs)(g.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,i.jsx)(E.Z,{size:"small",sx:{bgcolor:"#FF9800",color:"white"},label:""}),(0,i.jsx)(c.Z,{variant:"body2",children:"Cần sửa chữa:"})]}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)(c.Z,{variant:"body2",sx:{cursor:"pointer","&:hover":{textDecoration:"underline",color:"primary.main"}},onClick:()=>k("Tổng hợp","Cần sửa chữa"),children:(0,i.jsxs)("b",{children:[T," c\xf4ng tr\xecnh (",Math.round(T/w*100),"%)"]})})})]}),(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,i.jsxs)(g.Z,{direction:"row",spacing:1,alignItems:"center",children:[(0,i.jsx)(E.Z,{size:"small",sx:{bgcolor:"#F44336",color:"white"},label:""}),(0,i.jsx)(c.Z,{variant:"body2",children:"Cần x\xe2y mới:"})]}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)(c.Z,{variant:"body2",sx:{cursor:"pointer","&:hover":{textDecoration:"underline",color:"primary.main"}},onClick:()=>k("Tổng hợp","Cần x\xe2y mới"),children:(0,i.jsxs)("b",{children:[A," c\xf4ng tr\xecnh (",Math.round(A/w*100),"%)"]})})})]}),(0,i.jsx)(u.Z,{sx:{my:1}}),(0,i.jsxs)(c.Z,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Tỷ lệ c\xf4ng tr\xecnh cần sửa chữa v\xe0 x\xe2y mới:"," ",(0,i.jsxs)("b",{children:[Math.round((T+A)/w*100),"%"]})]})]})]})})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(x.Z,{sx:{height:260},children:[(0,i.jsx)(c.Z,{variant:"subtitle1",gutterBottom:!0,align:"center",children:"Ph\xe2n bố theo loại c\xf4ng tr\xecnh"}),(0,i.jsx)(X.h,{width:"100%",height:"100%",children:(0,i.jsxs)(et.u,{children:[(0,i.jsx)(en.b,{data:B,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",label:e=>{let{name:t,percent:n}=e;return"".concat(t,": ").concat((100*n).toFixed(0),"%")},children:B.map((e,t)=>(0,i.jsx)(ei.b,{fill:e.fill},"cell-".concat(t)))}),(0,i.jsx)(Q.u,{formatter:e=>["".concat(e," c\xf4ng tr\xecnh"),""]})]})})]})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(x.Z,{sx:{height:260},children:[(0,i.jsx)(c.Z,{variant:"subtitle1",gutterBottom:!0,align:"center",children:"Ph\xe2n bố theo t\xecnh trạng"}),(0,i.jsx)(X.h,{width:"100%",height:"100%",children:(0,i.jsxs)(et.u,{children:[(0,i.jsx)(en.b,{data:F,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:2,dataKey:"value",label:e=>{let{name:t,percent:n}=e;return"".concat(t,": ").concat((100*n).toFixed(0),"%")},children:F.map((e,t)=>(0,i.jsx)(ei.b,{fill:e.fill},"cell-".concat(t)))}),(0,i.jsx)(Q.u,{formatter:e=>["".concat(e," c\xf4ng tr\xecnh"),""]})]})})]})})]})]}),(0,i.jsx)(c.Z,{variant:"h6",gutterBottom:!0,children:"Biểu đồ c\xf4ng tr\xecnh phụ trợ theo tuyến đ\xea"}),(0,i.jsx)(x.Z,{sx:{maxWidth:"100%",height:500,mb:4},children:(0,i.jsx)(X.h,{width:"100%",height:"100%",children:(0,i.jsxs)(Y.v,{data:ec.map(e=>{let t=e.structures.find(e=>"K\xe8 l\xe1t m\xe1i"===e.type)||{normal:0,needRepair:0,needNew:0,total:0},n=e.structures.find(e=>"Cống"===e.type)||{normal:0,needRepair:0,needNew:0,total:0},i=e.structures.find(e=>"Cửa khẩu"===e.type)||{normal:0,needRepair:0,needNew:0,total:0},r=e.structures.find(e=>"Đ\xea bối"===e.type)||{normal:0,needRepair:0,needNew:0,total:0};return{name:e.embankmentName,"K\xe8 l\xe1t m\xe1i":t.total||t.normal+t.needRepair+t.needNew,Cống:n.total||n.normal+n.needRepair+n.needNew,"Cửa khẩu":i.total||i.normal+i.needRepair+i.needNew,"Đ\xea bối":r.total||r.normal+r.needRepair+r.needNew}}),margin:{top:20,right:30,left:20,bottom:5},barGap:8,barSize:20,layout:"vertical",children:[(0,i.jsx)(_.q,{strokeDasharray:"3 3"}),(0,i.jsx)(O.K,{type:"number"}),(0,i.jsx)(J.B,{dataKey:"name",type:"category",width:150,tick:{fontSize:12}}),(0,i.jsx)(Q.u,{formatter:(e,t,n)=>{let i=n.payload.name,r=ec.find(e=>e.embankmentName===i);if(r){let n=r.structures.find(e=>e.type===t);if(n){let i=n.normal,r=n.needRepair,l=n.needNew;return["".concat(e," c\xf4ng tr\xecnh (BT: ").concat(i,", TS: ").concat(r,", XM: ").concat(l,")"),t]}}return["".concat(e," c\xf4ng tr\xecnh"),t]},isAnimationActive:!1,contentStyle:{backgroundColor:"#f5f5f5",border:"1px solid #ddd",borderRadius:"4px",padding:"10px"}}),(0,i.jsx)(U.D,{layout:"horizontal",verticalAlign:"top",align:"center",wrapperStyle:{paddingTop:"10px",paddingBottom:"20px"}}),(0,i.jsx)(ee.$,{dataKey:"K\xe8 l\xe1t m\xe1i",name:"K\xe8 l\xe1t m\xe1i",fill:"#8884d8",radius:[0,4,4,0],onClick:()=>k("K\xe8 l\xe1t m\xe1i"),cursor:"pointer"}),(0,i.jsx)(ee.$,{dataKey:"Cống",name:"Cống",fill:"#FF8A65",radius:[0,4,4,0],onClick:()=>k("Cống"),cursor:"pointer"}),(0,i.jsx)(ee.$,{dataKey:"Cửa khẩu",name:"Cửa khẩu",fill:"#64B5F6",radius:[0,4,4,0],onClick:()=>k("Cửa khẩu"),cursor:"pointer"}),(0,i.jsx)(ee.$,{dataKey:"Đ\xea bối",name:"Đ\xea bối",fill:"#FFD54F",radius:[0,4,4,0],onClick:()=>k("Đ\xea bối"),cursor:"pointer"})]})})}),(0,i.jsx)(c.Z,{variant:"h6",gutterBottom:!0,children:"Thống k\xea c\xf4ng tr\xecnh phụ trợ theo tuyến đ\xea"}),(0,i.jsx)(x.Z,{sx:{overflowX:"auto"},children:(0,i.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,i.jsxs)("thead",{children:[(0,i.jsxs)("tr",{style:{backgroundColor:"#f5f5f5"},children:[(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #ddd",textAlign:"left"},children:"T\xean đ\xea"}),(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #ddd",textAlign:"center"},colSpan:3,children:"K\xe8 l\xe1t m\xe1i"}),(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #ddd",textAlign:"center"},colSpan:3,children:"Cống"}),(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #ddd",textAlign:"center"},colSpan:3,children:"Cửa khẩu"}),(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #ddd",textAlign:"center"},colSpan:3,children:"Đ\xea bối"})]}),(0,i.jsxs)("tr",{style:{backgroundColor:"#f5f5f5"},children:[(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #ddd",textAlign:"left"}}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontSize:"0.9rem"},children:"BT"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontSize:"0.9rem"},children:"TS"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontSize:"0.9rem"},children:"XM"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontSize:"0.9rem"},children:"BT"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontSize:"0.9rem"},children:"TS"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontSize:"0.9rem"},children:"XM"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontSize:"0.9rem"},children:"BT"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontSize:"0.9rem"},children:"TS"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontSize:"0.9rem"},children:"XM"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontSize:"0.9rem"},children:"BT"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontSize:"0.9rem"},children:"TS"}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontSize:"0.9rem"},children:"XM"})]})]}),(0,i.jsx)("tbody",{children:ec.map((e,t)=>{let n=e.structures.find(e=>"K\xe8 l\xe1t m\xe1i"===e.type)||{normal:0,needRepair:0,needNew:0},r=e.structures.find(e=>"Cống"===e.type)||{normal:0,needRepair:0,needNew:0},l=e.structures.find(e=>"Cửa khẩu"===e.type)||{normal:0,needRepair:0,needNew:0},s=e.structures.find(e=>"Đ\xea bối"===e.type)||{normal:0,needRepair:0,needNew:0};return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{style:{padding:"12px",border:"1px solid #ddd",fontWeight:"medium"},children:e.embankmentName}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",color:"#4CAF50",cursor:n.normal>0?"pointer":"default"},onClick:()=>n.normal>0&&k("K\xe8 l\xe1t m\xe1i","B\xecnh thường"),children:n.normal})}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",color:n.needRepair>0?"#FF9800":"inherit",fontWeight:n.needRepair>0?"bold":"normal",cursor:n.needRepair>0?"pointer":"default"},onClick:()=>n.needRepair>0&&k("K\xe8 l\xe1t m\xe1i","Cần sửa chữa"),children:n.needRepair})}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",color:n.needNew>0?"#F44336":"inherit",fontWeight:n.needNew>0?"bold":"normal",cursor:n.needNew>0?"pointer":"default"},onClick:()=>n.needNew>0&&k("K\xe8 l\xe1t m\xe1i","Cần x\xe2y mới"),children:n.needNew})}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",color:"#4CAF50",cursor:r.normal>0?"pointer":"default"},onClick:()=>r.normal>0&&k("Cống","B\xecnh thường"),children:r.normal})}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",color:r.needRepair>0?"#FF9800":"inherit",fontWeight:r.needRepair>0?"bold":"normal",cursor:r.needRepair>0?"pointer":"default"},onClick:()=>r.needRepair>0&&k("Cống","Cần sửa chữa"),children:r.needRepair})}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",color:r.needNew>0?"#F44336":"inherit",fontWeight:r.needNew>0?"bold":"normal",cursor:r.needNew>0?"pointer":"default"},onClick:()=>r.needNew>0&&k("Cống","Cần x\xe2y mới"),children:r.needNew})}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",color:"#4CAF50",cursor:l.normal>0?"pointer":"default"},onClick:()=>l.normal>0&&k("Cửa khẩu","B\xecnh thường"),children:l.normal})}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",color:l.needRepair>0?"#FF9800":"inherit",fontWeight:l.needRepair>0?"bold":"normal",cursor:l.needRepair>0?"pointer":"default"},onClick:()=>l.needRepair>0&&k("Cửa khẩu","Cần sửa chữa"),children:l.needRepair})}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",color:l.needNew>0?"#F44336":"inherit",fontWeight:l.needNew>0?"bold":"normal",cursor:l.needNew>0?"pointer":"default"},onClick:()=>l.needNew>0&&k("Cửa khẩu","Cần x\xe2y mới"),children:l.needNew})}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",color:"#4CAF50",cursor:s.normal>0?"pointer":"default"},onClick:()=>s.normal>0&&k("Đ\xea bối","B\xecnh thường"),children:s.normal})}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",color:s.needRepair>0?"#FF9800":"inherit",fontWeight:s.needRepair>0?"bold":"normal",cursor:s.needRepair>0?"pointer":"default"},onClick:()=>s.needRepair>0&&k("Đ\xea bối","Cần sửa chữa"),children:s.needRepair})}),(0,i.jsx)(h.Z,{title:"Nhấn để xem vị tr\xed tr\xean bản đồ",arrow:!0,placement:"top",children:(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",color:s.needNew>0?"#F44336":"inherit",fontWeight:s.needNew>0?"bold":"normal",cursor:s.needNew>0?"pointer":"default"},onClick:()=>s.needNew>0&&k("Đ\xea bối","Cần x\xe2y mới"),children:s.needNew})})]},t)})}),(0,i.jsx)("tfoot",{children:(0,i.jsxs)("tr",{style:{backgroundColor:"#f9f9f9"},children:[(0,i.jsx)("td",{style:{padding:"12px",border:"1px solid #ddd",fontWeight:"bold"},children:"Tổng cộng"}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",fontWeight:"bold",color:"#4CAF50"},children:ec.reduce((e,t)=>{let n=t.structures.find(e=>"K\xe8 l\xe1t m\xe1i"===e.type);return e+(n?n.normal:0)},0)}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",fontWeight:"bold",color:"#FF9800"},children:ec.reduce((e,t)=>{let n=t.structures.find(e=>"K\xe8 l\xe1t m\xe1i"===e.type);return e+(n?n.needRepair:0)},0)}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",fontWeight:"bold",color:"#F44336"},children:ec.reduce((e,t)=>{let n=t.structures.find(e=>"K\xe8 l\xe1t m\xe1i"===e.type);return e+(n?n.needNew:0)},0)}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",fontWeight:"bold",color:"#4CAF50"},children:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Cống"===e.type);return e+(n?n.normal:0)},0)}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",fontWeight:"bold",color:"#FF9800"},children:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Cống"===e.type);return e+(n?n.needRepair:0)},0)}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",fontWeight:"bold",color:"#F44336"},children:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Cống"===e.type);return e+(n?n.needNew:0)},0)}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",fontWeight:"bold",color:"#4CAF50"},children:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Cửa khẩu"===e.type);return e+(n?n.normal:0)},0)}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",fontWeight:"bold",color:"#FF9800"},children:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Cửa khẩu"===e.type);return e+(n?n.needRepair:0)},0)}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",fontWeight:"bold",color:"#F44336"},children:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Cửa khẩu"===e.type);return e+(n?n.needNew:0)},0)}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",fontWeight:"bold",color:"#4CAF50"},children:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Đ\xea bối"===e.type);return e+(n?n.normal:0)},0)}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",fontWeight:"bold",color:"#FF9800"},children:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Đ\xea bối"===e.type);return e+(n?n.needRepair:0)},0)}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center",fontWeight:"bold",color:"#F44336"},children:ec.reduce((e,t)=>{let n=t.structures.find(e=>"Đ\xea bối"===e.type);return e+(n?n.needNew:0)},0)})]})})]})}),(0,i.jsxs)(x.Z,{sx:{mt:2,p:2,backgroundColor:"rgba(0, 0, 0, 0.04)",borderRadius:1},children:[(0,i.jsxs)(c.Z,{variant:"body2",children:[(0,i.jsx)("strong",{children:"Ch\xfa th\xedch:"})," BT - B\xecnh thường, TS - Cần sửa chữa, XM - Cần x\xe2y mới"]}),(0,i.jsxs)(c.Z,{variant:"body2",sx:{mt:1},children:[(0,i.jsx)("strong",{children:"Ghi ch\xfa:"})," Số liệu được cập nhật từ b\xe1o c\xe1o kiểm tra t\xecnh trạng c\xf4ng tr\xecnh phụ trợ ng\xe0y 15/05/2025"]})]}),(0,i.jsxs)(p.Z,{open:e,onClose:()=>t(!1),fullWidth:!0,maxWidth:"md","aria-labelledby":"incident-map-dialog-title",children:[(0,i.jsxs)(m.Z,{id:"incident-map-dialog-title",sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n,(0,i.jsx)(b.Z,{"aria-label":"close",onClick:()=>t(!1),sx:{color:e=>e.palette.grey[500]},children:(0,i.jsx)(N.Z,{})})]}),(0,i.jsx)(j.Z,{dividers:!0,sx:{height:"80vh",p:0,position:"relative"},children:Z?(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",flexDirection:"column",gap:2},children:[(0,i.jsx)(y.Z,{}),(0,i.jsx)(c.Z,{children:"Đang tải dữ liệu bản đồ..."})]}):e&&(0,i.jsx)(eo,{incidents:l,title:n})})]})]})};let eh=T()(()=>Promise.all([n.e(4028),n.e(9269),n.e(2573),n.e(861)]).then(n.bind(n,80861)),{loadableGenerated:{webpack:()=>[80861]},ssr:!1}),eu=[{name:"Đ\xea tả Hồng H\xe0 I",value:7},{name:"Đ\xea tả Hồng H\xe0 II",value:12},{name:"Đ\xea tả Tr\xe0 L\xfd",value:14},{name:"Đ\xea hữu Tr\xe0 L\xfd",value:13},{name:"Đ\xea hữu Luộc",value:6}],eg=[{name:"Thấm lậu",value:25,color:"#4CAF50"},{name:"D\xfan sụt",value:12,color:"#FFA726"},{name:"Sạt lở th\xe2n đ\xea",value:8,color:"#EF5350"},{name:"Sạt lở m\xe1i k\xe8",value:5,color:"#42A5F5"},{name:"Tr\xe0n qua c\xe1nh phải",value:2,color:"#AB47BC"}],ep=[{id:1,embankmentName:"Đ\xea tả Hồng H\xe0 I",location:"K5+200",type:"Thấm lậu",area:"120m\xb2",date:"12/03/2025",severity:"Trung b\xecnh",status:"Đ\xe3 xử l\xfd"},{id:2,embankmentName:"Đ\xea tả Hồng H\xe0 I",location:"K7+800",type:"D\xfan sụt",area:"45m\xb2",date:"20/03/2025",severity:"Nhẹ",status:"Đ\xe3 xử l\xfd"},{id:3,embankmentName:"Đ\xea tả Hồng H\xe0 II",location:"K2+150",type:"Sạt lở th\xe2n đ\xea",area:"200m\xb2",date:"05/02/2025",severity:"Nặng",status:"Đang xử l\xfd"},{id:4,embankmentName:"Đ\xea tả Tr\xe0 L\xfd",location:"K10+300",type:"Thấm lậu",area:"60m\xb2",date:"18/04/2025",severity:"Trung b\xecnh",status:"Đ\xe3 xử l\xfd"},{id:5,embankmentName:"Đ\xea hữu Tr\xe0 L\xfd",location:"K4+500",type:"Sạt lở m\xe1i k\xe8",area:"80m\xb2",date:"22/03/2025",severity:"Nặng",status:"Đang xử l\xfd"},{id:6,embankmentName:"Đ\xea hữu Luộc",location:"K8+750",type:"Tr\xe0n qua c\xe1nh phải",area:"30m\xb2",date:"10/01/2025",severity:"Nhẹ",status:"Đ\xe3 xử l\xfd"}];var em=()=>{let[e,t]=(0,s.useState)(!1),[n,r]=(0,s.useState)(""),[l,d]=(0,s.useState)([]),[o,h]=(0,s.useState)(!1),u=[{id:"1",position:[20.67,106.075],name:"Sự cố thấm lậu tại K5+200",description:"Thấm lậu ph\xe1t hiện tại ch\xe2n đ\xea, diện t\xedch 120m\xb2",status:"moderate",type:"Thấm lậu",date:"12/03/2025"},{id:"2",position:[20.675,106.08],name:"Sự cố d\xfan sụt tại K7+800",description:"D\xfan sụt tr\xean mặt đ\xea, diện t\xedch 45m\xb2",status:"normal",type:"D\xfan sụt",date:"20/03/2025"},{id:"3",position:[20.68,106.085],name:"Sự cố sạt lở th\xe2n đ\xea tại K2+150",description:"Sạt lở th\xe2n đ\xea sau trận mưa lớn, diện t\xedch 200m\xb2",status:"serious",type:"Sạt lở th\xe2n đ\xea",date:"05/02/2025"},{id:"4",position:[20.685,106.078],name:"Sự cố thấm lậu tại K10+300",description:"Thấm lậu tại m\xe1i đ\xea, diện t\xedch 60m\xb2",status:"moderate",type:"Thấm lậu",date:"18/04/2025"},{id:"5",position:[20.678,106.082],name:"Sự cố sạt lở m\xe1i k\xe8 tại K4+500",description:"Sạt lở m\xe1i k\xe8 ph\xeda s\xf4ng, diện t\xedch 80m\xb2",status:"serious",type:"Sạt lở m\xe1i k\xe8",date:"22/03/2025"},{id:"6",position:[20.672,106.088],name:"Sự cố tr\xe0n qua c\xe1nh phải tại K8+750",description:"Tr\xe0n qua c\xe1nh phải g\xe2y ngập \xfang, diện t\xedch 30m\xb2",status:"normal",type:"Tr\xe0n qua c\xe1nh phải",date:"10/01/2025"}],g=(0,s.useCallback)((e,n,i)=>{h(!0);let l=[...u],s="Vị tr\xed sự cố đ\xea điều";setTimeout(()=>{if(e&&(l=l.filter(t=>t.type===e),s="Vị tr\xed sự cố ".concat(e)),n){let e={Nặng:"serious","Trung b\xecnh":"moderate",Nhẹ:"normal"};e[n]&&(l=l.filter(t=>t.status===e[n]),s+=" - ".concat(n))}if(i){let e={"Đ\xe3 xử l\xfd":"normal","Đang xử l\xfd":"serious"};e[i]&&(l=l.filter(t=>t.status===e[i]),s+=" - ".concat(i))}r(s),d(l),h(!1),t(!0)},500)},[u]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{variant:"h6",gutterBottom:!0,children:"Biểu đồ thống k\xea sự cố theo tuyến đ\xea"}),(0,i.jsxs)(x.Z,{sx:{p:2,border:"1px solid #eee",borderRadius:1,mb:4},children:[(0,i.jsx)(c.Z,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold"},children:"Tổng quan sự cố"}),(0,i.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(x.Z,{children:[(0,i.jsxs)(c.Z,{variant:"body1",sx:{mb:1.5,fontSize:"1.1rem"},children:["Tổng số sự cố:"," ",(0,i.jsx)(x.Z,{component:"span",sx:{fontWeight:"bold",fontSize:"1.2rem",cursor:"pointer","&:hover":{textDecoration:"underline",color:"primary.main"}},onClick:()=>g(),title:"Nhấn để xem vị tr\xed tr\xean bản đồ",children:eu.reduce((e,t)=>e+t.value,0)})]})," ",(0,i.jsxs)(c.Z,{variant:"body1",sx:{mb:1,display:"flex",alignItems:"center"},children:[(0,i.jsx)(x.Z,{component:"span",sx:{width:10,height:10,borderRadius:"50%",mr:1,bgcolor:"#4CAF50"}}),"Đ\xe3 xử l\xfd:"," ",(0,i.jsx)(x.Z,{component:"span",sx:{fontWeight:"bold",color:"#4CAF50",ml:1,cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>g(void 0,void 0,"Đ\xe3 xử l\xfd"),title:"Nhấn để xem vị tr\xed tr\xean bản đồ",children:ep.filter(e=>"Đ\xe3 xử l\xfd"===e.status).length})]}),(0,i.jsxs)(c.Z,{variant:"body1",sx:{mb:1,display:"flex",alignItems:"center"},children:[(0,i.jsx)(x.Z,{component:"span",sx:{width:10,height:10,borderRadius:"50%",mr:1,bgcolor:"#FFA726"}}),"Đang xử l\xfd:"," ",(0,i.jsx)(x.Z,{component:"span",sx:{fontWeight:"bold",color:"#FFA726",ml:1,cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>g(void 0,void 0,"Đang xử l\xfd"),title:"Nhấn để xem vị tr\xed tr\xean bản đồ",children:ep.filter(e=>"Đang xử l\xfd"===e.status).length})]})]})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(x.Z,{children:[(0,i.jsx)(c.Z,{variant:"subtitle1",gutterBottom:!0,children:"Mức độ"}),(0,i.jsxs)(c.Z,{variant:"body1",sx:{mb:1,display:"flex",alignItems:"center"},children:[(0,i.jsx)(x.Z,{component:"span",sx:{width:10,height:10,borderRadius:"50%",mr:1,bgcolor:"#EF5350"}}),"Nặng:"," ",(0,i.jsx)(x.Z,{component:"span",sx:{fontWeight:"bold",color:"#EF5350",ml:1,cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>g(void 0,"Nặng"),title:"Nhấn để xem vị tr\xed tr\xean bản đồ",children:ep.filter(e=>"Nặng"===e.severity).length})]}),(0,i.jsxs)(c.Z,{variant:"body1",sx:{mb:1,display:"flex",alignItems:"center"},children:[(0,i.jsx)(x.Z,{component:"span",sx:{width:10,height:10,borderRadius:"50%",mr:1,bgcolor:"#FFA726"}}),"Trung b\xecnh:"," ",(0,i.jsx)(x.Z,{component:"span",sx:{fontWeight:"bold",color:"#FFA726",ml:1,cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>g(void 0,"Trung b\xecnh"),title:"Nhấn để xem vị tr\xed tr\xean bản đồ",children:ep.filter(e=>"Trung b\xecnh"===e.severity).length})]}),(0,i.jsxs)(c.Z,{variant:"body1",sx:{mb:1,display:"flex",alignItems:"center"},children:[(0,i.jsx)(x.Z,{component:"span",sx:{width:10,height:10,borderRadius:"50%",mr:1,bgcolor:"#4CAF50"}}),"Nhẹ:"," ",(0,i.jsx)(x.Z,{component:"span",sx:{fontWeight:"bold",color:"#4CAF50",ml:1,cursor:"pointer","&:hover":{textDecoration:"underline"}},onClick:()=>g(void 0,"Nhẹ"),title:"Nhấn để xem vị tr\xed tr\xean bản đồ",children:ep.filter(e=>"Nhẹ"===e.severity).length})]})]})})]})]}),(0,i.jsxs)(a.ZP,{container:!0,spacing:4,children:[(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(x.Z,{sx:{p:2,border:"1px solid #eee",borderRadius:1,height:"100%"},children:[(0,i.jsx)(c.Z,{variant:"h6",gutterBottom:!0,children:"Biểu đồ sự cố theo tuyến đ\xea"}),(0,i.jsx)(x.Z,{sx:{maxWidth:"100%",height:350},children:(0,i.jsx)(X.h,{width:"100%",height:"100%",children:(0,i.jsxs)(Y.v,{data:eu,margin:{top:20,right:30,left:20,bottom:5},children:[(0,i.jsx)(_.q,{strokeDasharray:"3 3"}),(0,i.jsx)(O.K,{dataKey:"name"}),(0,i.jsx)(J.B,{}),(0,i.jsx)(Q.u,{formatter:(e,t)=>["".concat(e," sự cố"),"value"===t?"Số lượng":t],isAnimationActive:!1,contentStyle:{backgroundColor:"#f5f5f5",border:"1px solid #ddd",borderRadius:"4px",padding:"10px"}}),(0,i.jsx)(ee.$,{dataKey:"value",fill:"#8884d8",name:"Số sự cố",barSize:45})]})})})]})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(x.Z,{sx:{p:2,border:"1px solid #eee",borderRadius:1,height:"100%"},children:[(0,i.jsx)(c.Z,{variant:"h6",gutterBottom:!0,children:"Ph\xe2n loại sự cố"}),(0,i.jsx)(x.Z,{sx:{maxWidth:"100%",height:350},children:(0,i.jsx)(X.h,{width:"100%",height:"100%",children:(0,i.jsxs)(et.u,{children:[" ",(0,i.jsx)(en.b,{data:eg,cx:"50%",cy:"50%",labelLine:!0,outerRadius:120,fill:"#8884d8",dataKey:"value",nameKey:"name",label:e=>"".concat(e.name,": ").concat(e.value),onClick:e=>g(e.name),cursor:"pointer",children:eg.map((e,t)=>(0,i.jsx)(ei.b,{fill:e.color},"cell-".concat(t)))}),(0,i.jsx)(Q.u,{formatter:(e,t)=>["".concat(e," sự cố"),t],isAnimationActive:!1,contentStyle:{backgroundColor:"#f5f5f5",border:"1px solid #ddd",borderRadius:"4px",padding:"10px"}}),(0,i.jsx)(U.D,{layout:"horizontal",verticalAlign:"bottom",align:"center"})," "]})})})]})})]}),(0,i.jsx)(c.Z,{variant:"h6",gutterBottom:!0,sx:{mt:4},children:"Bảng chi tiết sự cố"}),(0,i.jsx)(x.Z,{sx:{overflowX:"auto",border:"1px solid #eee",borderRadius:1},children:(0,i.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{style:{backgroundColor:"#f5f5f5"},children:[(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #ddd",textAlign:"center"},children:"STT"}),(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #ddd",textAlign:"left"},children:"Tuyến đ\xea"}),(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #ddd",textAlign:"center"},children:"Vị tr\xed"}),(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #ddd",textAlign:"left"},children:"Loại sự cố"}),(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #ddd",textAlign:"center"},children:"Diện t\xedch"}),(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #ddd",textAlign:"center"},children:"Ng\xe0y ph\xe1t hiện"}),(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #ddd",textAlign:"center"},children:"Mức độ"}),(0,i.jsx)("th",{style:{padding:"12px",border:"1px solid #ddd",textAlign:"center"},children:"Trạng th\xe1i"})]})}),(0,i.jsx)("tbody",{children:ep.map(e=>(0,i.jsxs)("tr",{style:{backgroundColor:e.id%2==0?"#f9f9f9":"white",cursor:"pointer"},onClick:()=>g(e.type,e.severity),title:"Nhấn để xem vị tr\xed tr\xean bản đồ",children:[(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center"},children:e.id}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",fontWeight:"medium"},children:e.embankmentName}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center"},children:e.location}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd"},children:e.type}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center"},children:e.area}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center"},children:e.date}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center"},children:(0,i.jsx)(x.Z,{component:"span",sx:{px:2,py:.5,borderRadius:1,color:"white",backgroundColor:"Nặng"===e.severity?"#EF5350":"Trung b\xecnh"===e.severity?"#FFA726":"#4CAF50",fontWeight:"Nặng"===e.severity?"bold":"medium"},children:e.severity})}),(0,i.jsx)("td",{style:{padding:"10px",border:"1px solid #ddd",textAlign:"center"},children:(0,i.jsx)(x.Z,{component:"span",sx:{px:2,py:.5,borderRadius:1,color:(e.status,"white"),backgroundColor:"Đ\xe3 xử l\xfd"===e.status?"#4CAF50":"#FFA726"},children:e.status})})]},e.id))})]})}),(0,i.jsxs)(x.Z,{sx:{mt:2,p:2,backgroundColor:"rgba(0, 0, 0, 0.04)",borderRadius:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsx)(c.Z,{variant:"body2",sx:{fontStyle:"italic"},children:"Số liệu cập nhật ng\xe0y: 20/05/2025"}),(0,i.jsxs)(c.Z,{variant:"caption",sx:{color:"text.secondary"},children:["Tổng số: ",ep.length," sự cố"]})]}),(0,i.jsxs)(p.Z,{open:e,onClose:()=>t(!1),maxWidth:"md",fullWidth:!0,PaperProps:{sx:{p:2,borderRadius:2,position:"relative",overflow:"hidden"}},children:[(0,i.jsx)(b.Z,{onClick:()=>t(!1),size:"small",sx:{position:"absolute",top:8,right:8,color:"text.secondary"},children:(0,i.jsx)(N.Z,{})}),(0,i.jsx)(m.Z,{sx:{fontSize:"1.25rem",fontWeight:"medium",color:"text.primary",borderBottom:"1px solid #eee",pb:1.5},children:n}),(0,i.jsx)(j.Z,{sx:{pt:1},children:o?(0,i.jsx)(x.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:300},children:(0,i.jsx)(y.Z,{size:24})}):(0,i.jsxs)(x.Z,{sx:{position:"relative",width:"100%",height:300},children:[" ",(0,i.jsx)(eh,{incidents:l,title:n})]})})]})]})},eb=n(32702),ej=n(78233),ey=()=>{let e=M.reduce((e,t)=>e+t.totalPoints,0),t=M.reduce((e,t)=>e+t.totalLength,0),n=M.reduce((e,t)=>e+t.criticalByRisk.high.count,0),r=M.reduce((e,t)=>e+t.criticalByRisk.medium.count,0),l=M.reduce((e,t)=>e+t.criticalByRisk.low.count,0),s=Math.round(n/e*100),d=Math.round(r/e*100),h=Math.round(l/e*100),g=M.map(e=>({name:e.embankmentName,Cao:e.criticalByRisk.high.length,"Trung b\xecnh":e.criticalByRisk.medium.length,Thấp:e.criticalByRisk.low.length,"Tổng chiều d\xe0i":e.totalLength}));return(0,i.jsxs)(o.Z,{elevation:2,sx:{p:3,borderRadius:2},children:[(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:[(0,i.jsx)(ej.Z,{color:"warning",sx:{mr:1}}),(0,i.jsx)(c.Z,{variant:"h6",align:"center",gutterBottom:!0,children:"Thống k\xea trọng điểm xung yếu theo tuyến đ\xea"})]}),(0,i.jsx)(x.Z,{sx:{mb:4},children:(0,i.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(o.Z,{variant:"outlined",sx:{p:2,height:"100%",borderRadius:2},children:[(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,i.jsx)(eb.Z,{sx:{mr:1,color:"#1976d2"}}),(0,i.jsx)(c.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Tổng quan"})]}),(0,i.jsx)(u.Z,{sx:{mb:2}}),(0,i.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(a.ZP,{item:!0,xs:6,children:(0,i.jsxs)(x.Z,{sx:{textAlign:"center",p:2,backgroundColor:"rgba(25, 118, 210, 0.1)",borderRadius:2},children:[(0,i.jsx)(c.Z,{variant:"body2",color:"text.secondary",children:"Tổng số điểm xung yếu"}),(0,i.jsx)(c.Z,{variant:"h4",sx:{fontWeight:"bold",color:"#1976d2",mt:1},children:e}),(0,i.jsx)(c.Z,{variant:"caption",color:"text.secondary",children:"điểm"})]})}),(0,i.jsx)(a.ZP,{item:!0,xs:6,children:(0,i.jsxs)(x.Z,{sx:{textAlign:"center",p:2,backgroundColor:"rgba(25, 118, 210, 0.1)",borderRadius:2},children:[(0,i.jsx)(c.Z,{variant:"body2",color:"text.secondary",children:"Tổng chiều d\xe0i"}),(0,i.jsx)(c.Z,{variant:"h4",sx:{fontWeight:"bold",color:"#1976d2",mt:1},children:t.toFixed(1)}),(0,i.jsx)(c.Z,{variant:"caption",color:"text.secondary",children:"km"})]})})]}),(0,i.jsx)(x.Z,{sx:{mt:2,p:1,backgroundColor:"rgba(0, 0, 0, 0.04)",borderRadius:1},children:(0,i.jsxs)(c.Z,{variant:"body2",sx:{fontStyle:"italic"},children:["Chiều d\xe0i trung b\xecnh: ",(t/e).toFixed(2)," km/điểm"]})})]})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,children:(0,i.jsxs)(o.Z,{variant:"outlined",sx:{p:2,height:"100%",borderRadius:2},children:[(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,i.jsx)(eb.Z,{sx:{mr:1,color:"#ed6c02"}}),(0,i.jsx)(c.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Ph\xe2n loại theo mức độ rủi ro"})]}),(0,i.jsx)(u.Z,{sx:{mb:2}}),(0,i.jsxs)(a.ZP,{container:!0,spacing:1,children:[(0,i.jsx)(a.ZP,{item:!0,xs:4,children:(0,i.jsx)(x.Z,{sx:{textAlign:"center",p:1},children:(0,i.jsxs)(x.Z,{sx:{p:1,backgroundColor:"rgba(211, 47, 47, 0.1)",borderRadius:2,border:"1px solid rgba(211, 47, 47, 0.2)"},children:[(0,i.jsx)(E.Z,{label:"Cao",color:"error",size:"small",sx:{mb:1}}),(0,i.jsx)(c.Z,{variant:"h5",sx:{fontWeight:"bold",color:"#d32f2f"},children:n}),(0,i.jsxs)(c.Z,{variant:"caption",color:"text.secondary",children:[s,"% tổng số"]})]})})}),(0,i.jsx)(a.ZP,{item:!0,xs:4,children:(0,i.jsx)(x.Z,{sx:{textAlign:"center",p:1},children:(0,i.jsxs)(x.Z,{sx:{p:1,backgroundColor:"rgba(237, 108, 2, 0.1)",borderRadius:2,border:"1px solid rgba(237, 108, 2, 0.2)"},children:[(0,i.jsx)(E.Z,{label:"Trung b\xecnh",color:"warning",size:"small",sx:{mb:1}}),(0,i.jsx)(c.Z,{variant:"h5",sx:{fontWeight:"bold",color:"#ed6c02"},children:r}),(0,i.jsxs)(c.Z,{variant:"caption",color:"text.secondary",children:[d,"% tổng số"]})]})})}),(0,i.jsx)(a.ZP,{item:!0,xs:4,children:(0,i.jsx)(x.Z,{sx:{textAlign:"center",p:1},children:(0,i.jsxs)(x.Z,{sx:{p:1,backgroundColor:"rgba(46, 125, 50, 0.1)",borderRadius:2,border:"1px solid rgba(46, 125, 50, 0.2)"},children:[(0,i.jsx)(E.Z,{label:"Thấp",color:"success",size:"small",sx:{mb:1}}),(0,i.jsx)(c.Z,{variant:"h5",sx:{fontWeight:"bold",color:"#2e7d32"},children:l}),(0,i.jsxs)(c.Z,{variant:"caption",color:"text.secondary",children:[h,"% tổng số"]})]})})})]})]})})]})})," ",(0,i.jsxs)(o.Z,{variant:"outlined",sx:{p:2,mb:4,borderRadius:2},children:[(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(ej.Z,{color:"warning",sx:{mr:1}}),(0,i.jsx)(c.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Biểu đồ trọng điểm xung yếu theo tuyến đ\xea"})]}),(0,i.jsxs)(x.Z,{sx:{display:"flex",gap:1},children:[(0,i.jsx)(E.Z,{size:"small",label:"Cao",color:"error"}),(0,i.jsx)(E.Z,{size:"small",label:"Trung b\xecnh",color:"warning"}),(0,i.jsx)(E.Z,{size:"small",label:"Thấp",color:"success"})]})]}),(0,i.jsx)(x.Z,{sx:{height:350},children:(0,i.jsx)(X.h,{width:"100%",height:"100%",children:(0,i.jsxs)(Y.v,{data:g,margin:{top:20,right:30,left:20,bottom:5},children:[(0,i.jsx)(_.q,{strokeDasharray:"3 3"}),(0,i.jsx)(O.K,{dataKey:"name",tick:{fontSize:12},interval:0,angle:0,textAnchor:"middle"}),(0,i.jsx)(J.B,{label:{value:"Chiều d\xe0i (km)",angle:-90,position:"insideLeft",style:{textAnchor:"middle"}},tickFormatter:e=>e.toFixed(1)}),(0,i.jsx)(Q.u,{formatter:(e,t)=>["".concat(e," km"),t],cursor:{fill:"rgba(0, 0, 0, 0.05)"},contentStyle:{borderRadius:8,boxShadow:"0 4px 8px rgba(0,0,0,0.1)",border:"none"}}),(0,i.jsx)(U.D,{verticalAlign:"top",align:"center",wrapperStyle:{paddingBottom:15}}),(0,i.jsx)(ee.$,{dataKey:"Cao",fill:"#d32f2f",stackId:"a",radius:[4,4,0,0],animationDuration:1500}),(0,i.jsx)(ee.$,{dataKey:"Trung b\xecnh",fill:"#ed6c02",stackId:"a",radius:[0,0,0,0],animationDuration:1500,animationBegin:300}),(0,i.jsx)(ee.$,{dataKey:"Thấp",fill:"#2e7d32",stackId:"a",radius:[0,0,4,4],animationDuration:1500,animationBegin:600})]})})}),(0,i.jsx)(c.Z,{variant:"caption",sx:{display:"block",mt:2,color:"text.secondary",textAlign:"center"},children:"* Chiều d\xe0i t\xednh theo km, c\xe1c đoạn được ph\xe2n loại theo mức độ rủi ro"})]})," ",(0,i.jsxs)(o.Z,{variant:"outlined",sx:{p:2,mb:3,borderRadius:2},children:[(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,i.jsx)(eb.Z,{color:"primary",sx:{mr:1}}),(0,i.jsx)(c.Z,{variant:"subtitle1",sx:{fontWeight:"bold"},children:"Chi tiết trọng điểm xung yếu theo tuyến đ\xea"})]}),(0,i.jsx)(x.Z,{sx:{overflowX:"auto"},children:(0,i.jsxs)("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0,borderRadius:8,overflow:"hidden"},children:[(0,i.jsxs)("thead",{children:[(0,i.jsxs)("tr",{style:{backgroundColor:"#f5f5f5"},children:[(0,i.jsx)("th",{style:{padding:"14px",border:"1px solid #eee",borderBottom:"2px solid #ddd",textAlign:"left"},children:"Tuyến đ\xea"}),(0,i.jsx)("th",{style:{padding:"14px",border:"1px solid #eee",borderBottom:"2px solid #ddd",textAlign:"center"},children:"Tổng điểm"}),(0,i.jsx)("th",{style:{padding:"14px",border:"1px solid #eee",borderBottom:"2px solid #ddd",textAlign:"center"},children:"Tổng chiều d\xe0i"}),(0,i.jsx)("th",{colSpan:2,style:{padding:"14px",border:"1px solid #eee",borderBottom:"2px solid #ddd",textAlign:"center",backgroundColor:"rgba(211, 47, 47, 0.05)"},children:(0,i.jsx)(x.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(E.Z,{size:"small",label:"Cao",color:"error",sx:{mr:1}})})}),(0,i.jsx)("th",{colSpan:2,style:{padding:"14px",border:"1px solid #eee",borderBottom:"2px solid #ddd",textAlign:"center",backgroundColor:"rgba(237, 108, 2, 0.05)"},children:(0,i.jsx)(x.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(E.Z,{size:"small",label:"Trung b\xecnh",color:"warning",sx:{mr:1}})})}),(0,i.jsx)("th",{colSpan:2,style:{padding:"14px",border:"1px solid #eee",borderBottom:"2px solid #ddd",textAlign:"center",backgroundColor:"rgba(46, 125, 50, 0.05)"},children:(0,i.jsx)(x.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(E.Z,{size:"small",label:"Thấp",color:"success",sx:{mr:1}})})})]}),(0,i.jsxs)("tr",{style:{backgroundColor:"#f9f9f9"},children:[(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #eee",textAlign:"left"}}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #eee",textAlign:"center"}}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #eee",textAlign:"center"},children:(0,i.jsx)(c.Z,{variant:"caption",children:"km"})}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #eee",textAlign:"center",backgroundColor:"rgba(211, 47, 47, 0.05)"},children:(0,i.jsx)(c.Z,{variant:"caption",children:"Số điểm"})}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #eee",textAlign:"center",backgroundColor:"rgba(211, 47, 47, 0.05)"},children:(0,i.jsx)(c.Z,{variant:"caption",children:"Chiều d\xe0i"})}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #eee",textAlign:"center",backgroundColor:"rgba(237, 108, 2, 0.05)"},children:(0,i.jsx)(c.Z,{variant:"caption",children:"Số điểm"})}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #eee",textAlign:"center",backgroundColor:"rgba(237, 108, 2, 0.05)"},children:(0,i.jsx)(c.Z,{variant:"caption",children:"Chiều d\xe0i"})}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #eee",textAlign:"center",backgroundColor:"rgba(46, 125, 50, 0.05)"},children:(0,i.jsx)(c.Z,{variant:"caption",children:"Số điểm"})}),(0,i.jsx)("th",{style:{padding:"8px",border:"1px solid #eee",textAlign:"center",backgroundColor:"rgba(46, 125, 50, 0.05)"},children:(0,i.jsx)(c.Z,{variant:"caption",children:"Chiều d\xe0i"})})]})]}),(0,i.jsx)("tbody",{children:M.map((e,t)=>(0,i.jsxs)("tr",{style:{backgroundColor:t%2==0?"white":"#f9f9f9"},children:[(0,i.jsx)("td",{style:{padding:"12px",border:"1px solid #eee",fontWeight:"medium"},children:e.embankmentName}),(0,i.jsx)("td",{style:{padding:"12px",border:"1px solid #eee",textAlign:"center"},children:(0,i.jsx)(c.Z,{sx:{fontWeight:"bold"},children:e.totalPoints})}),(0,i.jsx)("td",{style:{padding:"12px",border:"1px solid #eee",textAlign:"center"},children:(0,i.jsx)(c.Z,{sx:{fontWeight:"bold"},children:e.totalLength.toFixed(1)})}),(0,i.jsx)("td",{style:{padding:"12px",border:"1px solid #eee",textAlign:"center",backgroundColor:e.criticalByRisk.high.count>0?"rgba(211, 47, 47, 0.05)":"inherit"},children:e.criticalByRisk.high.count>0?(0,i.jsx)(E.Z,{size:"small",label:e.criticalByRisk.high.count,sx:{bgcolor:"rgba(211, 47, 47, 0.15)",color:"#d32f2f",fontWeight:"bold"}}):"0"}),(0,i.jsx)("td",{style:{padding:"12px",border:"1px solid #eee",textAlign:"center",backgroundColor:e.criticalByRisk.high.count>0?"rgba(211, 47, 47, 0.05)":"inherit"},children:(0,i.jsxs)(c.Z,{sx:{fontWeight:e.criticalByRisk.high.length>0?"bold":"normal",color:"#d32f2f"},children:[e.criticalByRisk.high.length.toFixed(1)," km"]})}),(0,i.jsx)("td",{style:{padding:"12px",border:"1px solid #eee",textAlign:"center",backgroundColor:e.criticalByRisk.medium.count>0?"rgba(237, 108, 2, 0.05)":"inherit"},children:e.criticalByRisk.medium.count>0?(0,i.jsx)(E.Z,{size:"small",label:e.criticalByRisk.medium.count,sx:{bgcolor:"rgba(237, 108, 2, 0.15)",color:"#ed6c02",fontWeight:"bold"}}):"0"}),(0,i.jsx)("td",{style:{padding:"12px",border:"1px solid #eee",textAlign:"center",backgroundColor:e.criticalByRisk.medium.count>0?"rgba(237, 108, 2, 0.05)":"inherit"},children:(0,i.jsxs)(c.Z,{sx:{fontWeight:e.criticalByRisk.medium.length>0?"bold":"normal",color:"#ed6c02"},children:[e.criticalByRisk.medium.length.toFixed(1)," km"]})}),(0,i.jsx)("td",{style:{padding:"12px",border:"1px solid #eee",textAlign:"center",backgroundColor:e.criticalByRisk.low.count>0?"rgba(46, 125, 50, 0.05)":"inherit"},children:e.criticalByRisk.low.count>0?(0,i.jsx)(E.Z,{size:"small",label:e.criticalByRisk.low.count,sx:{bgcolor:"rgba(46, 125, 50, 0.15)",color:"#2e7d32",fontWeight:"bold"}}):"0"}),(0,i.jsx)("td",{style:{padding:"12px",border:"1px solid #eee",textAlign:"center",backgroundColor:e.criticalByRisk.low.count>0?"rgba(46, 125, 50, 0.05)":"inherit"},children:(0,i.jsxs)(c.Z,{sx:{fontWeight:e.criticalByRisk.low.length>0?"bold":"normal",color:"#2e7d32"},children:[e.criticalByRisk.low.length.toFixed(1)," km"]})})]},t))}),(0,i.jsx)("tfoot",{children:(0,i.jsxs)("tr",{style:{backgroundColor:"#f5f5f5"},children:[(0,i.jsx)("td",{style:{padding:"14px",border:"1px solid #eee",fontWeight:"bold",borderTop:"2px solid #ddd"},children:"Tổng số"}),(0,i.jsx)("td",{style:{padding:"14px",border:"1px solid #eee",textAlign:"center",fontWeight:"bold",borderTop:"2px solid #ddd"},children:e}),(0,i.jsx)("td",{style:{padding:"14px",border:"1px solid #eee",textAlign:"center",fontWeight:"bold",borderTop:"2px solid #ddd"},children:t.toFixed(1)}),(0,i.jsx)("td",{style:{padding:"14px",border:"1px solid #eee",textAlign:"center",fontWeight:"bold",borderTop:"2px solid #ddd",backgroundColor:"rgba(211, 47, 47, 0.05)"},children:(0,i.jsx)(E.Z,{size:"small",label:n,sx:{bgcolor:"rgba(211, 47, 47, 0.2)",color:"#d32f2f",fontWeight:"bold"}})}),(0,i.jsxs)("td",{style:{padding:"14px",border:"1px solid #eee",textAlign:"center",fontWeight:"bold",color:"#d32f2f",borderTop:"2px solid #ddd",backgroundColor:"rgba(211, 47, 47, 0.05)"},children:[M.reduce((e,t)=>e+t.criticalByRisk.high.length,0).toFixed(1)," ","km"]}),(0,i.jsx)("td",{style:{padding:"14px",border:"1px solid #eee",textAlign:"center",fontWeight:"bold",borderTop:"2px solid #ddd",backgroundColor:"rgba(237, 108, 2, 0.05)"},children:(0,i.jsx)(E.Z,{size:"small",label:r,sx:{bgcolor:"rgba(237, 108, 2, 0.2)",color:"#ed6c02",fontWeight:"bold"}})}),(0,i.jsxs)("td",{style:{padding:"14px",border:"1px solid #eee",textAlign:"center",fontWeight:"bold",color:"#ed6c02",borderTop:"2px solid #ddd",backgroundColor:"rgba(237, 108, 2, 0.05)"},children:[M.reduce((e,t)=>e+t.criticalByRisk.medium.length,0).toFixed(1)," ","km"]}),(0,i.jsx)("td",{style:{padding:"14px",border:"1px solid #eee",textAlign:"center",fontWeight:"bold",borderTop:"2px solid #ddd",backgroundColor:"rgba(46, 125, 50, 0.05)"},children:(0,i.jsx)(E.Z,{size:"small",label:l,sx:{bgcolor:"rgba(46, 125, 50, 0.2)",color:"#2e7d32",fontWeight:"bold"}})}),(0,i.jsxs)("td",{style:{padding:"14px",border:"1px solid #eee",textAlign:"center",fontWeight:"bold",color:"#2e7d32",borderTop:"2px solid #ddd",backgroundColor:"rgba(46, 125, 50, 0.05)"},children:[M.reduce((e,t)=>e+t.criticalByRisk.low.length,0).toFixed(1)," ","km"]})]})})]})})]}),(0,i.jsxs)(x.Z,{sx:{mt:2,p:3,backgroundColor:"rgba(0, 0, 0, 0.04)",borderRadius:2},children:[(0,i.jsx)(x.Z,{sx:{display:"flex",alignItems:"center",mb:1},children:(0,i.jsx)(c.Z,{variant:"subtitle2",sx:{fontWeight:"medium"},children:"Ghi ch\xfa"})}),(0,i.jsx)(c.Z,{variant:"body2",sx:{color:"text.secondary"},children:"- C\xe1c điểm trọng điểm xung yếu được ph\xe2n loại theo mức độ rủi ro: Cao, Trung b\xecnh v\xe0 Thấp"}),(0,i.jsxs)(c.Z,{variant:"body2",sx:{color:"text.secondary",mt:.5},children:["- Tổng chiều d\xe0i trọng điểm xung yếu: ",t.toFixed(1)," km (",M.reduce((e,t)=>e+t.criticalByRisk.high.length,0).toFixed(1)," km mức Cao, ",M.reduce((e,t)=>e+t.criticalByRisk.medium.length,0).toFixed(1)," ","km mức Trung b\xecnh,"," ",M.reduce((e,t)=>e+t.criticalByRisk.low.length,0).toFixed(1)," km mức Thấp)"]}),(0,i.jsx)(c.Z,{variant:"body2",sx:{fontStyle:"italic",mt:2,color:"text.secondary",display:"flex",justifyContent:"flex-end"},children:"Số liệu cập nhật ng\xe0y: 20/05/2025"})]})]})},eZ=n(14959),ef=()=>{let e=[{name:"B\xea t\xf4ng h\xf3a mặt đ\xea",value:32,fill:"#8884d8"},{name:"Sửa chữa cống",value:24,fill:"#83a6ed"},{name:"Gia cố m\xe1i đ\xea",value:18,fill:"#8dd1e1"},{name:"Duy tu đường giao th\xf4ng",value:16,fill:"#82ca9d"},{name:"Kh\xe1c",value:10,fill:"#a4de6c"}],t=e=>{switch(e){case"on-track":return"#4CAF50";case"delayed":return"#FF9800";case"at-risk":return"#f44336";default:return"#757575"}},n=e=>{switch(e){case"on-track":return"Đ\xfang tiến độ";case"delayed":return"Chậm tiến độ";case"at-risk":return"Nguy cơ chậm";default:return"Kh\xf4ng x\xe1c định"}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,{variant:"h6",gutterBottom:!0,children:"Tiến độ bảo dưỡng c\xf4ng tr\xecnh theo tuyến đ\xea"}),(0,i.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,i.jsx)(a.ZP,{item:!0,xs:12,md:7,children:(0,i.jsx)(o.Z,{elevation:2,sx:{p:2,mb:3,borderRadius:2},children:(0,i.jsx)(x.Z,{sx:{mb:3},children:[{name:"Đ\xea tả Hồng H\xe0 I",completed:82,total:100,deadline:"15/06/2025",status:"on-track"},{name:"Đ\xea tả Hồng H\xe0 II",completed:95,total:100,deadline:"30/05/2025",status:"on-track"},{name:"Đ\xea tả Tr\xe0 L\xfd",completed:68,total:100,deadline:"20/06/2025",status:"delayed"},{name:"Đ\xea hữu Tr\xe0 L\xfd",completed:78,total:100,deadline:"10/06/2025",status:"on-track"},{name:"Đ\xea hữu Luộc",completed:63,total:100,deadline:"25/06/2025",status:"delayed"}].map((e,r)=>(0,i.jsxs)(x.Z,{sx:{mb:2.5},children:[(0,i.jsxs)(x.Z,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,i.jsx)(c.Z,{variant:"body1",fontWeight:500,children:e.name}),(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsxs)(c.Z,{variant:"body2",sx:{mr:1},children:["Hạn: ",e.deadline]}),(0,i.jsx)(E.Z,{label:n(e.status),size:"small",sx:{backgroundColor:"".concat(t(e.status),"20"),color:t(e.status),fontWeight:500,fontSize:"0.75rem"}})]})]}),(0,i.jsxs)(x.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(x.Z,{sx:{width:"100%",mr:1},children:(0,i.jsx)(eZ.Z,{variant:"determinate",value:e.completed,sx:{height:10,borderRadius:5,backgroundColor:"#e0e0e0","& .MuiLinearProgress-bar":{borderRadius:5,backgroundColor:t(e.status)}}})}),(0,i.jsx)(x.Z,{sx:{minWidth:35},children:(0,i.jsxs)(c.Z,{variant:"body2",color:"textSecondary",children:[e.completed,"%"]})})]})]},r))})})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:5,children:(0,i.jsxs)(o.Z,{elevation:2,sx:{p:2,mb:3,borderRadius:2},children:[(0,i.jsx)(c.Z,{variant:"subtitle1",gutterBottom:!0,fontWeight:"medium",children:"Tỷ lệ bảo dưỡng theo loại c\xf4ng việc"}),(0,i.jsx)(x.Z,{sx:{height:300},children:(0,i.jsx)(X.h,{width:"100%",height:"100%",children:(0,i.jsxs)(et.u,{children:[(0,i.jsx)(en.b,{data:e,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",label:e=>{let{name:t,percent:n}=e;return"".concat(t,": ").concat((100*n).toFixed(1),"%")},labelLine:{stroke:"#666",strokeWidth:1,strokeDasharray:"2 2"},children:e.map((e,t)=>(0,i.jsx)(ei.b,{fill:e.fill},"cell-".concat(t)))}),(0,i.jsx)(Q.u,{formatter:e=>["".concat(e,"%"),"Tỷ lệ c\xf4ng việc"],contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",border:"none"}})]})})})]})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,children:(0,i.jsxs)(o.Z,{elevation:2,sx:{p:2,borderRadius:2},children:[(0,i.jsx)(c.Z,{variant:"subtitle1",gutterBottom:!0,fontWeight:"medium",children:"Chi tiết c\xf4ng việc bảo dưỡng theo th\xe1ng"}),(0,i.jsx)(x.Z,{sx:{height:400},children:(0,i.jsx)(X.h,{width:"100%",height:"100%",children:(0,i.jsxs)(Y.v,{data:[{name:"Th\xe1ng 1","Đ\xe3 ho\xe0n th\xe0nh":10,"Đang thực hiện":5,"Chưa thực hiện":3},{name:"Th\xe1ng 2","Đ\xe3 ho\xe0n th\xe0nh":15,"Đang thực hiện":3,"Chưa thực hiện":2},{name:"Th\xe1ng 3","Đ\xe3 ho\xe0n th\xe0nh":20,"Đang thực hiện":8,"Chưa thực hiện":2},{name:"Th\xe1ng 4","Đ\xe3 ho\xe0n th\xe0nh":25,"Đang thực hiện":7,"Chưa thực hiện":3},{name:"Th\xe1ng 5","Đ\xe3 ho\xe0n th\xe0nh":17,"Đang thực hiện":10,"Chưa thực hiện":8},{name:"Th\xe1ng 6","Đ\xe3 ho\xe0n th\xe0nh":0,"Đang thực hiện":12,"Chưa thực hiện":18}],margin:{top:20,right:30,left:20,bottom:5},children:[(0,i.jsx)(_.q,{strokeDasharray:"3 3"}),(0,i.jsx)(O.K,{dataKey:"name"}),(0,i.jsx)(J.B,{}),(0,i.jsx)(Q.u,{formatter:(e,t)=>["".concat(e," c\xf4ng việc"),t],contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.15)",border:"none"}}),(0,i.jsx)(U.D,{}),(0,i.jsx)(ee.$,{dataKey:"Đ\xe3 ho\xe0n th\xe0nh",stackId:"a",fill:"#4CAF50",radius:[4,4,0,0]}),(0,i.jsx)(ee.$,{dataKey:"Đang thực hiện",stackId:"a",fill:"#2196F3",radius:[4,4,0,0]}),(0,i.jsx)(ee.$,{dataKey:"Chưa thực hiện",stackId:"a",fill:"#FFC107",radius:[4,4,0,0]})]})})})]})})]})]})};function ev(e){let{children:t,value:n,index:r,...l}=e;return(0,i.jsx)("div",{role:"tabpanel",hidden:n!==r,id:"tabpanel-".concat(r),"aria-labelledby":"tab-".concat(r),...l,children:n===r&&(0,i.jsx)(x.Z,{sx:{p:3},children:t})})}var ek=()=>{let[e,t]=s.useState(0);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(q.Z,{value:e,onChange:(e,n)=>t(n),variant:"scrollable",scrollButtons:"auto","aria-label":"Th\xf4ng tin đ\xea điều tabs",sx:{borderBottom:1,borderColor:"divider",mb:2},children:[(0,i.jsx)($.Z,{label:"Đặc điểm đ\xea",id:"tab-0","aria-controls":"tabpanel-0"}),(0,i.jsx)($.Z,{label:"C\xf4ng tr\xecnh phụ trợ",id:"tab-1","aria-controls":"tabpanel-1"}),(0,i.jsx)($.Z,{label:"Sự cố",id:"tab-2","aria-controls":"tabpanel-2"}),(0,i.jsx)($.Z,{label:"Trọng điểm xung yếu",id:"tab-3","aria-controls":"tabpanel-3"}),(0,i.jsx)($.Z,{label:"Tiến độ bảo dưỡng c\xf4ng tr\xecnh",id:"tab-4","aria-controls":"tabpanel-4"})]}),(0,i.jsx)(ev,{value:e,index:0,children:(0,i.jsx)(ea,{})}),(0,i.jsx)(ev,{value:e,index:1,children:(0,i.jsx)(ex,{})}),(0,i.jsx)(ev,{value:e,index:2,children:(0,i.jsx)(em,{})}),(0,i.jsx)(ev,{value:e,index:3,children:(0,i.jsx)(ey,{})}),(0,i.jsx)(ev,{value:e,index:4,children:(0,i.jsx)(ef,{})})]})};let eC=T()(()=>Promise.all([n.e(4028),n.e(9269),n.e(9043),n.e(2573),n.e(3952)]).then(n.bind(n,55006)),{loadableGenerated:{webpack:()=>[55006]},ssr:!1}),ew=T()(()=>Promise.all([n.e(4028),n.e(9774),n.e(9269),n.e(9043),n.e(3490),n.e(1528),n.e(4063)]).then(n.bind(n,21528)),{loadableGenerated:{webpack:()=>[21528]},ssr:!1});var eN=()=>(0,i.jsx)(d.Z,{maxWidth:"xl",sx:{height:"100%"},children:(0,i.jsxs)(a.ZP,{container:!0,spacing:2,sx:{height:"100%"},children:[(0,i.jsx)(a.ZP,{item:!0,xs:2.5,children:(0,i.jsxs)(o.Z,{sx:{p:2,height:"100%"},children:[(0,i.jsx)(c.Z,{variant:"subtitle1",children:"Th\xf4ng tin tổng quan"}),(0,i.jsxs)(a.ZP,{container:!0,spacing:2,sx:{mt:2},children:[(0,i.jsx)(a.ZP,{item:!0,xs:12,children:(0,i.jsx)(B,{totalEmbankment:K,embankmentByType:P,embankmentByClass:z})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,sx:{mt:2},children:(0,i.jsx)(S,{keStructures:L,culvertStructures:D,gatewayStructures:H})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,sx:{mt:2},children:(0,i.jsx)(I,{criticalPointsByEmbankment:M})})]})]})}),(0,i.jsx)(a.ZP,{item:!0,xs:9.5,children:(0,i.jsxs)(a.ZP,{container:!0,spacing:2,sx:{height:"100%"},children:[(0,i.jsx)(a.ZP,{item:!0,xs:12,children:(0,i.jsx)(o.Z,{sx:{p:2,height:"100%"},children:(0,i.jsx)(ek,{})})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,children:(0,i.jsxs)(o.Z,{sx:{p:2,height:"800px"},children:[(0,i.jsx)(c.Z,{variant:"h6",gutterBottom:!0,children:"Bản đồ ph\xf2ng chống thi\xean tai"}),(0,i.jsx)(x.Z,{sx:{mt:2,height:"calc(100% - 50px)"},children:(0,i.jsx)(eC,{})})]})})," ",(0,i.jsx)(a.ZP,{item:!0,xs:12,children:(0,i.jsxs)(o.Z,{sx:{p:2,height:"800px"},children:[(0,i.jsx)(c.Z,{variant:"h6",gutterBottom:!0,children:"Bản đồ sự cố c\xf4ng tr\xecnh"}),(0,i.jsx)(x.Z,{sx:{mt:2,height:"calc(100% - 50px)"},children:(0,i.jsx)(ew,{})})]})})]})})]})}),eR=()=>{let{page:e,type:t}=(0,r.useRouter)().query;return e?(0,i.jsx)(l.default,{page:e,type:t}):(0,i.jsx)(eN,{})}}}]);