"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9711,7318],{68963:function(n,l,e){var i=e(13077),s=e(85893);l.Z=(0,i.Z)((0,s.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},96727:function(n,l,e){e.d(l,{Z:function(){return b}});var i=e(63366),s=e(87462),t=e(67294),a=e(8780),o=e(94780),r=e(77527),c=e(44001),d=e(1588),m=e(34867);function h(n){return(0,m.ZP)("MuiDialogActions",n)}(0,d.Z)("MuiDialogActions",["root","spacing"]);var x=e(85893);let g=["className","disableSpacing"],u=n=>{let{classes:l,disableSpacing:e}=n;return(0,o.Z)({root:["root",!e&&"spacing"]},h,l)},j=(0,r.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(n,l)=>{let{ownerState:e}=n;return[l.root,!e.disableSpacing&&l.spacing]}})(n=>{let{ownerState:l}=n;return(0,s.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!l.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})});var b=t.forwardRef(function(n,l){let e=(0,c.i)({props:n,name:"MuiDialogActions"}),{className:t,disableSpacing:o=!1}=e,r=(0,i.Z)(e,g),d=(0,s.Z)({},e,{disableSpacing:o}),m=u(d);return(0,x.jsx)(j,(0,s.Z)({className:(0,a.Z)(m.root,t),ownerState:d,ref:l},r))})},37318:function(n,l,e){var i=e(85893),s=e(96788);let t=n=>parseFloat(null==n?void 0:n.toFixed(2));l.Z=(n,l)=>{let e=t(n);return(0,i.jsx)(s.Z,{style:{color:e<0?"red":"inherit",fontSize:"0.875rem"},children:l?"".concat(l,": ").concat(e):e})}},29711:function(n,l,e){e.r(l),e.d(l,{default:function(){return p}});var i=e(85893),s=e(67294),t=e(5152),a=e.n(t),o=e(64577),r=e(60990),c=e(68573),d=e(96788),m=e(93454),h=e(39892),x=e(68963),g=e(50333),u=e(40492),j=e(97182),b=e(96727),f=e(51015),Z=e(37318),T=n=>{let{data:l,setPostSuccess:e}=n,[t,a]=(0,s.useState)(!1),[m,h]=(0,s.useState)([]),[T,C]=(0,s.useState)([]),[p,v]=(0,s.useState)(null),[N,S]=(0,s.useState)({id:(null==l?void 0:l.id)||0,idHoChua:(null==l?void 0:l.idHoChua)||0,idMucPL:(null==l?void 0:l.idMucPL)||0,cnnBOD:(null==l?void 0:l.cnnBOD)||0,cnnCOD:(null==l?void 0:l.cnnCOD)||0,cnnAmoni:(null==l?void 0:l.cnnAmoni)||0,cnnTongN:(null==l?void 0:l.cnnTongN)||0,cnnTongP:(null==l?void 0:l.cnnTongP)||0,cnnTSS:(null==l?void 0:l.cnnTSS)||0,cnnColiform:(null==l?void 0:l.cnnColiform)||0,vh:(null==l?void 0:l.vh)||0,fs:(null==l?void 0:l.fs)||0});(0,s.useEffect)(()=>{a(!0),(async()=>{try{let n=await (0,o.getData)("cong-trinh/danh-sach",{loai_ct:5}),l=await (0,o.getData)("ThongSoCLNDuBao/danhsach");h(n),C(l)}catch(n){console.log(n)}finally{a(!1)}})()},[]);let[P,D]=(0,s.useState)(!1),y=n=>l=>{S({...N,[n]:l})},O=async n=>{n.preventDefault(),(async()=>{v(null),D(!0);try{let n=await (0,o.saveData)("DuBaoKNTNNuocAo/du-bao",N);console.log(n),n&&(console.log(n),v(n),S({id:0,idHoChua:0,idMucPL:0,cnnBOD:0,cnnCOD:0,cnnAmoni:0,cnnTongN:0,cnnTongP:0,cnnTSS:0,cnnColiform:0,vh:0,fs:0}),"function"==typeof e&&e(!0))}catch(n){console.log(n)}finally{D(!1)}})()};return(0,i.jsxs)(r.Z,{children:[(0,i.jsxs)(c.ZP,{container:!0,spacing:3,children:[(0,i.jsx)(c.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(g.Z,{size:"small",options:m,getOptionLabel:n=>"".concat(n.tenCT," "),value:(null==m?void 0:m.find(n=>n.id===N.idHoChua))||null,onChange:(n,l)=>y("idHoChua")((null==l?void 0:l.id)||0),renderInput:n=>(0,i.jsx)(u.Z,{...n,fullWidth:!0,label:"Chọn hồ chứa",InputProps:{...n.InputProps,endAdornment:(0,i.jsxs)(s.Fragment,{children:[t&&(0,i.jsx)(j.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,i.jsx)(c.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(g.Z,{size:"small",options:T,getOptionLabel:n=>"".concat(n.mucPLCLNuoc," "),value:(null==T?void 0:T.find(n=>n.id===N.idMucPL))||null,onChange:(n,l)=>y("idMucPL")((null==l?void 0:l.id)||0),renderInput:n=>(0,i.jsx)(u.Z,{...n,fullWidth:!0,label:"Chọn mức ph\xe2n loại chất lượng nước theo QCVN08/2023",InputProps:{...n.InputProps,endAdornment:(0,i.jsxs)(s.Fragment,{children:[t&&(0,i.jsx)(j.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,i.jsx)(c.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,i.jsxs)(c.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(c.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(u.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:N.cnnBOD||"",onChange:n=>y("cnnBOD")(n.target.value)})}),(0,i.jsx)(c.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(u.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:N.cnnCOD||"",onChange:n=>y("cnnCOD")(n.target.value)})}),(0,i.jsx)(c.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(u.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:N.cnnAmoni||"",onChange:n=>y("cnnAmoni")(n.target.value)})}),(0,i.jsx)(c.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(u.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:N.cnnTongN||"",onChange:n=>y("cnnTongN")(n.target.value)})}),(0,i.jsx)(c.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(u.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:N.cnnTongP||"",onChange:n=>y("cnnTongP")(n.target.value)})}),(0,i.jsx)(c.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(u.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:N.cnnTSS||"",onChange:n=>y("cnnTSS")(n.target.value)})}),(0,i.jsx)(c.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(u.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:N.cnnColiform||"",onChange:n=>y("cnnColiform")(n.target.value)})}),(0,i.jsx)(c.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(u.Z,{size:"small",type:"text",label:"Dung t\xedch hồ",fullWidth:!0,placeholder:"",value:N.vh||"",onChange:n=>y("vh")(n.target.value)})}),(0,i.jsx)(c.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(u.Z,{size:"small",type:"text",label:"Hệ số FS",fullWidth:!0,placeholder:"",value:N.fs||"",onChange:n=>y("fs")(n.target.value)})}),(0,i.jsx)(c.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(b.Z,{children:(0,i.jsxs)(f.Z,{disabled:P,className:"btn saveBtn",onClick:O,children:[P?(0,i.jsx)(j.Z,{color:"inherit",size:20}):(0,i.jsx)(x.Z,{})," Dự b\xe1o"]})})})]})})]}),p&&(0,i.jsxs)(c.ZP,{item:!0,xs:12,children:[(0,i.jsx)(d.Z,{variant:"h6",color:"primary",children:"Kết quả dự b\xe1o:"}),(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(d.Z,{variant:"body1",children:(0,Z.Z)(p.mtnBOD,"BOD")}),(0,i.jsx)(d.Z,{variant:"body1",children:(0,Z.Z)(p.mtnCOD,"COD")}),(0,i.jsx)(d.Z,{variant:"body1",children:(0,Z.Z)(p.mtnAmoni,"Amoni")}),(0,i.jsx)(d.Z,{className:"text-dubao",variant:"body1",children:(0,Z.Z)(p.mtnTongN,"Tổng N")}),(0,i.jsx)(d.Z,{className:"text-dubao",variant:"body1",children:(0,Z.Z)(p.mtnTongP,"Tổng P")}),(0,i.jsx)(d.Z,{className:"text-dubao",variant:"body1",children:(0,Z.Z)(p.mtnTSS,"TSS")}),(0,i.jsx)(d.Z,{className:"text-dubao",variant:"body1",children:(0,Z.Z)(p.mtnColiform,"Coliform")})]})]})]})};let C=a()(()=>Promise.all([e.e(4028),e.e(6002),e.e(9269),e.e(3701),e.e(649),e.e(6578),e.e(7679),e.e(7531),e.e(723),e.e(776),e.e(2573),e.e(3355),e.e(3385),e.e(2038)]).then(e.bind(e,3385)),{loadableGenerated:{webpack:()=>[3385]},ssr:!1});var p=()=>{let[n,l]=(0,s.useState)(!1);function e(n){return parseFloat(null==n?void 0:n.toFixed(2))}let t=[{id:"stt",label:"STT"},{id:"tenCT",label:"T\xean c\xf4ng tr\xecnh",align:"left",minWidth:200,elm:n=>(0,i.jsx)("span",{children:n.cT_ThongTin.tenCT})},{id:"#",label:"Vị tr\xed",align:"left",minWidth:200,elm:n=>(0,i.jsx)("span",{children:n.cT_ThongTin.viTriCT})},{id:"vh",label:"Vh(m3)",align:"left",minWidth:100},{id:"fs",label:"Hệ số Fs",align:"left",minWidth:100},{id:"#",label:"KẾT QUẢ PH\xc2N T\xcdCH TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC MẶT(Cnn)",align:"left",children:[{id:"cnnBOD",label:(0,i.jsxs)(r.Z,{children:["BOD5 ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"cnnCOD",label:(0,i.jsxs)(r.Z,{children:["COD ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"cnnAmoni",label:(0,i.jsxs)(r.Z,{children:["Amoni ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"cnnTongN",label:(0,i.jsxs)(r.Z,{children:["Tổng N ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"cnnTongP",label:(0,i.jsxs)(r.Z,{children:["Tổng P ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"cnnTSS",label:(0,i.jsxs)(r.Z,{children:["Tổng ",(0,i.jsx)("br",{})," chất rắn ",(0,i.jsx)("br",{})," lơ lửng ",(0,i.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"cnnColiform",label:(0,i.jsxs)(r.Z,{children:["Tổng ",(0,i.jsx)("br",{})," coliform",(0,i.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"thongSoCLNDuBao",label:" GI\xc1 TRỊ GIỚI HẠN TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC MẶT HỒ CHỨA THEO QCVN08/2023 Cqc (mg/l)	",align:"left",children:[{id:"bod",label:(0,i.jsxs)(r.Z,{children:["BOD5 ",(0,i.jsx)("br",{}),"(mg/l)"]}),elm:n=>(0,i.jsx)("span",{children:n.thongSoCLNDuBao.bod}),align:"left"},{id:"cod",label:(0,i.jsxs)(r.Z,{children:["COD ",(0,i.jsx)("br",{}),"(mg/l)"]}),elm:n=>(0,i.jsx)("span",{children:n.thongSoCLNDuBao.cod}),align:"left"},{id:"cghAmoni",label:(0,i.jsxs)(r.Z,{children:["Amoni ",(0,i.jsx)("br",{}),"(mg/l)"]}),elm:n=>(0,i.jsx)("span",{children:n.thongSoCLNDuBao.amoni}),align:"left"},{id:"cghTongN",label:(0,i.jsxs)(r.Z,{children:["Tổng N ",(0,i.jsx)("br",{}),"(mg/l)"]}),elm:n=>(0,i.jsx)("span",{children:n.thongSoCLNDuBao.tongN}),align:"left"},{id:"cghTongP",label:(0,i.jsxs)(r.Z,{children:["Tổng P ",(0,i.jsx)("br",{}),"(mg/l)"]}),elm:n=>(0,i.jsx)("span",{children:n.thongSoCLNDuBao.tongP}),align:"left"},{id:"cghTSS",label:(0,i.jsxs)(r.Z,{children:["Tổng ",(0,i.jsx)("br",{})," chất rắn ",(0,i.jsx)("br",{})," lơ lửng ",(0,i.jsx)("br",{})," TSS(mg/l)"]}),elm:n=>(0,i.jsx)("span",{children:n.thongSoCLNDuBao.tss}),align:"left"},{id:"cghColiform",label:(0,i.jsxs)(r.Z,{children:["Tổng ",(0,i.jsx)("br",{})," coliform",(0,i.jsx)("br",{})," (MPN/100ml)"]}),elm:n=>(0,i.jsx)("span",{children:n.thongSoCLNDuBao.tongColiform}),align:"left"}]},{id:"#",label:"DỰ B\xc1O KHẢ NĂNG TIẾP NHẬN NƯỚC THẢI, SỨC CHỊU TẢI CỦA HỒ CHỨA Mtn (kg)",align:"left",children:[{id:"mtnBod",label:(0,i.jsxs)(r.Z,{children:["BOD5 ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left",elm:n=>e(n.mtnBOD)},{id:"mtnCod",label:(0,i.jsxs)(r.Z,{children:["COD ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left",elm:n=>e(n.mtnCOD)},{id:"mtnAmoni",label:(0,i.jsxs)(r.Z,{children:["Amoni ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left",elm:n=>e(n.mtnAmoni)},{id:"mtnTongN",label:(0,i.jsxs)(r.Z,{children:["Tổng N ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left",elm:n=>e(n.mtnTongN)},{id:"mtnTongP",label:(0,i.jsxs)(r.Z,{children:["Tổng P ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left",elm:n=>e(n.mtnTongP)},{id:"mtnTSS",label:(0,i.jsxs)(r.Z,{children:["Tổng ",(0,i.jsx)("br",{})," chất rắn ",(0,i.jsx)("br",{})," lơ lửng ",(0,i.jsx)("br",{})," TSS(mg/l)"]}),align:"left",elm:n=>e(n.mtnTSS)},{id:"mtnColiform",label:(0,i.jsxs)(r.Z,{children:["Tổng ",(0,i.jsx)("br",{})," Coliform",(0,i.jsx)("br",{})," (MPN/100ml)"]}),align:"left",elm:n=>e(n.mtnColiform)}]}],[a]=(0,s.useState)([15.012172,108.676488]),[x]=(0,s.useState)(9),[g,u]=(0,s.useState)([]);console.log(g);let[j,b]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{(async function(){b(!0),await (0,o.getData)("DuBaoKNTNNuocAo/danh-sach").then(n=>{u(n)}).catch(n=>{console.log(n)}).finally(()=>{b(!1)})})()},[n]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.ZP,{children:(0,i.jsx)(d.Z,{textAlign:"center",variant:"h6",children:"T\xednh Dự B\xe1o Khả Năng Tiếp Nhận Nước Thải"})}),(0,i.jsxs)(c.ZP,{container:!0,spacing:5,children:[(0,i.jsx)(c.ZP,{item:!0,xs:12,md:4,sm:12,sx:{my:2},children:(0,i.jsx)(T,{setPostSuccess:()=>{l(n=>!n)}})}),(0,i.jsx)(c.ZP,{item:!0,xs:12,md:8,sm:12,sx:{my:2},children:(0,i.jsx)(C,{center:a,zoom:x,mapData:[]})})]}),(0,i.jsx)(m.Z,{elevation:3,sx:{p:0,height:"100%"},children:(0,i.jsx)(h.Z,{columns:t,rows:g,loading:j,pagination:!0})})]})}}}]);