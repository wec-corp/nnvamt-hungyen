"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1419],{448:function(n,l,e){var a=e(85893),i=e(89090),s=e(21038),t=e(60990),o=e(52857),c=e(51423),r=e(44723),h=e(49986),d=e(51015),g=e(67294),x=e(64577);l.Z=n=>{let{url:l,data:e,setPostSuccess:u}=n,[m,j]=(0,g.useState)(null),T=!!m,b=()=>{j(null)},Z=async n=>{let e=n.id;await (0,x.deleteData)("".concat(l),e),"function"==typeof u&&u(!0)},S=(0,g.useRef)(!0);return(0,g.useEffect)(()=>(S.current=!0,()=>{S.current=!1}),[]),(0,a.jsx)(s.Z,{title:"X\xf3a bản ghi?",children:(0,a.jsxs)(t.Z,{children:[(0,a.jsx)(o.Z,{"aria-describedby":null==e?void 0:e.id,className:"tableActionBtn deleteBtn",onClick:n=>{j(n.currentTarget)},"data-row-id":null==e?void 0:e.id,size:"small",children:(0,a.jsx)(i.Z,{})}),(0,a.jsx)(c.ZP,{id:T?null==e?void 0:e.id:void 0,open:T,anchorEl:m,onClose:b,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,a.jsxs)(r.Z,{severity:"warning",children:["X\xf3a bản ghi n\xe0y ?",(0,a.jsx)(t.Z,{sx:{justifyContent:"center",paddingTop:4,width:"100%"},children:(0,a.jsxs)(h.Z,{variant:"outlined","aria-label":"outlined button group",children:[(0,a.jsx)(d.Z,{size:"small",onClick:()=>{m&&e&&Z(e),j(null)},children:"Đ\xfang"}),(0,a.jsx)(d.Z,{color:"error",size:"small",onClick:b,children:"Hủy"})]})})]})})]})})}},1419:function(n,l,e){e.r(l),e.d(l,{default:function(){return nS}});var a=e(85893),i=e(67294),s=e(5152),t=e.n(s),o=e(64577),c=e(96788),r=e(60990),h=e(68573),d=e(93454),g=e(56894),x=e(65806),u=e(12166),m=e(39892),j=e(23759),T=e(6897),b=n=>{let{onChange:l}=n;console.log(l);let[e,s]=(0,i.useState)([]),t=n=>{let a=n.target.value,i=n.target.checked,t=[];s(t=i?[...e,a]:e.filter(n=>n!==a)),l(t)};return(0,a.jsx)(T.Z,{component:"fieldset",children:(0,a.jsxs)(g.Z,{children:[(0,a.jsx)(x.Z,{control:(0,a.jsx)(u.Z,{checked:e.includes("Khu C\xf4ng Nghiệp"),onChange:t,value:"Khu C\xf4ng Nghiệp"}),label:(0,a.jsx)(c.Z,{variant:"overline",sx:{fontWeight:"bold",display:"flex",alignItems:"center"},children:(0,a.jsx)("span",{children:"\xa0Khu c\xf4ng nghiệp"})})}),(0,a.jsx)(x.Z,{control:(0,a.jsx)(u.Z,{checked:e.includes("CCN"),onChange:t,value:"CCN"}),label:(0,a.jsxs)(c.Z,{variant:"overline",sx:{fontWeight:"bold",display:"flex",alignItems:"center"},children:[(0,a.jsx)("img",{src:"/images/icon/cumcn.png",alt:"icon",width:20}),(0,a.jsx)("span",{children:"\xa0Cụm C\xf4ng Nghiệp"})]})}),(0,a.jsx)(x.Z,{control:(0,a.jsx)(u.Z,{checked:e.includes("Thuydien"),onChange:t,value:"Thuydien"}),label:(0,a.jsxs)(c.Z,{variant:"overline",sx:{fontWeight:"bold",display:"flex",alignItems:"center"},children:[(0,a.jsx)("img",{src:"/images/icon/thuydien.png",alt:"icon",width:20}),(0,a.jsx)("span",{children:"\xa0Thủy điện"})]})}),(0,a.jsx)(x.Z,{control:(0,a.jsx)(u.Z,{checked:e.includes("yte"),onChange:t,value:"yte"}),label:(0,a.jsxs)(c.Z,{variant:"overline",sx:{fontWeight:"bold",display:"flex",alignItems:"center"},children:[(0,a.jsx)("img",{src:"/images/icon/cs_benhvien.png",alt:"icon",width:20}),(0,a.jsx)("span",{children:"\xa0Y tế"})]})}),(0,a.jsx)(x.Z,{control:(0,a.jsx)(u.Z,{checked:e.includes("cang"),onChange:t,value:"cang"}),label:(0,a.jsxs)(c.Z,{variant:"overline",sx:{fontWeight:"bold",display:"flex",alignItems:"center"},children:[(0,a.jsx)("img",{src:"/images/icon/cang.png",alt:"icon",width:20}),(0,a.jsx)("span",{children:"\xa0Cảng"})]})}),(0,a.jsx)(x.Z,{control:(0,a.jsx)(u.Z,{checked:e.includes("Congty"),onChange:t,value:"Congty"}),label:(0,a.jsxs)(c.Z,{variant:"overline",sx:{fontWeight:"bold",display:"flex",alignItems:"center"},children:[(0,a.jsx)("img",{src:"/images/icon/congty.png",alt:"icon",width:20}),(0,a.jsx)("span",{children:"\xa0C\xf4ng ty"})]})}),(0,a.jsx)(x.Z,{control:(0,a.jsx)(u.Z,{checked:e.includes("khachsan"),onChange:t,value:"khachsan"}),label:(0,a.jsxs)(c.Z,{variant:"overline",sx:{fontWeight:"bold",display:"flex",alignItems:"center"},children:[(0,a.jsx)("img",{src:"/images/icon/khachsan.png",alt:"icon",width:20}),(0,a.jsx)("span",{children:"\xa0Kh\xe1ch sạn"})]})}),(0,a.jsx)(x.Z,{control:(0,a.jsx)(u.Z,{checked:e.includes("tttm"),onChange:t,value:"tttm"}),label:(0,a.jsxs)(c.Z,{variant:"overline",sx:{fontWeight:"bold",display:"flex",alignItems:"center"},children:[(0,a.jsx)("img",{src:"/images/icon/tttm.png",alt:"icon",width:20}),(0,a.jsx)("span",{children:"\xa0Trung t\xe2m thương mại"})]})}),(0,a.jsx)(x.Z,{control:(0,a.jsx)(u.Z,{checked:e.includes("khudancu"),onChange:t,value:"khudancu"}),label:(0,a.jsxs)(c.Z,{variant:"overline",sx:{fontWeight:"bold",display:"flex",alignItems:"center"},children:[(0,a.jsx)("img",{src:"/images/icon/khudancu.png",alt:"icon",width:20}),(0,a.jsx)("span",{children:"\xa0Khu d\xe2n cư"})]})})]})})},Z=e(68963),S=e(17071),p=e(53839),f=e(50333),C=e(40492),y=e(97182),v=e(96727),D=e(51015),P=e(21038),N=e(52857),L=e(38138);let G=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,c]=(0,i.useState)(!1),[d,g]=(0,i.useState)([]),[x,u]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||0,luuLuongXaThai:(null==l?void 0:l.luuLuongXaThai)||"",ctdiemBOD:(null==l?void 0:l.ctdiemBOD)||0,ctdiemCOD:(null==l?void 0:l.ctdiemCOD)||0,ctdiemAmoni:(null==l?void 0:l.ctdiemAmoni)||0,ctdiemTongN:(null==l?void 0:l.ctdiemTongN)||0,ctdiemTongP:(null==l?void 0:l.ctdiemTongP)||0,ctdiemTSS:(null==l?void 0:l.ctdiemTSS)||0,ctdiemColiform:(null==l?void 0:l.ctdiemColiform)||0,ghiChu:(null==l?void 0:l.ghiChu)||"",nguonThaiCongTrinh:(null==l?void 0:l.nguonThaiCongTrinh)||"",toaDoX:(null==l?void 0:l.toaDoX)||0,toaDoY:(null==l?void 0:l.toaDoY)||0}),[m,j]=(0,i.useState)(!1),T=n=>l=>{u({...x,[n]:l})};(0,i.useEffect)(()=>{c(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{c(!1)}})()},[]);let b=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiDiem/luu",x)&&(u({id:0,idPhanDoanSong:0,luuLuongXaThai:0,ctdiemBOD:0,ctdiemCOD:0,ctdiemAmoni:0,ctdiemTongN:0,ctdiemTongP:0,ctdiemTSS:0,ctdiemColiform:0,ghiChu:"",nguonThaiCongTrinh:"",toaDoX:0,toaDoY:0}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(r.Z,{children:[(0,a.jsxs)(h.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(f.Z,{size:"small",options:d,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==d?void 0:d.find(n=>n.id===x.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(C.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(y.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Nguồn thải c\xf4ng tr\xecnh",fullWidth:!0,placeholder:"",value:x.nguonThaiCongTrinh||"",onChange:n=>T("nguonThaiCongTrinh")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:4,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tọa độ X",fullWidth:!0,placeholder:"",value:x.toaDoX||"",onChange:n=>T("toaDoX")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:4,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tọa độ y",fullWidth:!0,placeholder:"",value:x.toaDoY||"",onChange:n=>T("toaDoY")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:4,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Lưu lương xả thải max",fullWidth:!0,placeholder:"",value:x.luuLuongXaThai||"",onChange:n=>T("luuLuongXaThai")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải điểm"}),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:x.ctdiemBOD||"",onChange:n=>T("ctdiemBOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:x.ctdiemCOD||"",onChange:n=>T("ctdiemCOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:x.ctdiemAmoni||"",onChange:n=>T("ctdiemAmoni")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:x.ctdiemTongN||"",onChange:n=>T("ctdiemTongN")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:x.ctdiemTongP||"",onChange:n=>T("ctdiemTongP")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:x.ctdiemTSS||"",onChange:n=>T("ctdiemTSS")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:x.ctdiemColiform||"",onChange:n=>T("ctdiemColiform")(n.target.value)})})]})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Ghi ch\xfa",fullWidth:!0,placeholder:"",value:x.ghiChu||"",onChange:n=>T("ghiChu")(n.target.value)})})]}),(0,a.jsxs)(v.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(D.Z,{size:"small",onClick:()=>{u({id:0,idPhanDoanSong:0,luuLuongXaThai:0,ctdiemBOD:0,ctdiemCOD:0,ctdiemAmoni:0,ctdiemTongN:0,ctdiemTongP:0,ctdiemTSS:0,ctdiemColiform:0,ghiChu:"",nguonThaiCongTrinh:"",toaDoX:0,toaDoY:0}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(D.Z,{disabled:m,className:"btn saveBtn",onClick:b,children:[" ",m?(0,a.jsx)(y.Z,{color:"inherit",size:20}):(0,a.jsx)(Z.Z,{})," \xa0 Lưu"," "]})]})]})};var O=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Th\xeam mới";return(0,a.jsx)(L.Z,{children:(n,t)=>(0,a.jsx)(r.Z,{children:i?(0,a.jsx)(P.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(N.Z,{onClick:()=>n((0,a.jsx)(G,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(S.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(D.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(p.Z,{}),onClick:()=>n((0,a.jsx)(G,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})},B=e(448),w=e(11461);let z=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var I=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,T]=(0,i.useState)(!1),[Z,S]=(0,i.useState)(9.8),[p,f]=(0,i.useState)(),[C,y]=(0,i.useState)(!1),[v,D]=(0,i.useState)([]),[P,N]=(0,i.useState)([]),[L,G]=(0,i.useState)([]),[I,H]=(0,i.useState)(!1),W=()=>{H(n=>!n)},A=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(c.Z,{className:"btnShowFilePdf",onClick:()=>E(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:"S\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)("span",{children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.song})}},{id:"#",label:(0,a.jsxs)(r.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:150,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(r.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (km)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"nguonThaiCongTrinh",label:(0,a.jsxs)(r.Z,{children:["Nguồn thải",(0,a.jsx)("br",{})," c\xf4ng tr\xecnh XT ",(0,a.jsx)("br",{})]}),rowspan:2,align:"left",minWidth:550},{id:"#",label:(0,a.jsxs)(r.Z,{children:["Tọa độ vị tr\xed ",(0,a.jsx)("br",{})," xả thải ",(0,a.jsx)("br",{})," của c\xf4ng tr\xecnh XT"]}),align:"left",children:[{id:"toaDoX",label:(0,a.jsxs)(r.Z,{children:["Tọa độ ",(0,a.jsx)("br",{}),"X"]}),align:"left"},{id:"toaDoY",label:(0,a.jsxs)(r.Z,{children:["Tọa độ ",(0,a.jsx)("br",{}),"Y"]}),align:"left"}]},{id:"luuLuongXaThai",label:(0,a.jsxs)(r.Z,{children:["Lưu lượng ",(0,a.jsx)("br",{})," xả max ",(0,a.jsx)("br",{})," Qxt ",(0,a.jsx)("br",{})," (m\xb3/s)"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(r.Z,{children:[" ","KẾT QUẢ PH\xc2N T\xcdCH TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC NGUỒN THẢI ĐIỂM ",(0,a.jsx)("br",{}),"Ct_diem[-]"]}),align:"left",children:[{id:"ctdiemBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctdiemCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctdiemAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctdiemTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctdiemTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctdiemTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctdiemColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI ĐIỂM",(0,a.jsx)("br",{})," Lt_diem (kg/ng\xe0y)"]}),align:"left",children:[{id:"ltdiemBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltdiemCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltdiemAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltdiemTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltdiemTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltdiemTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltdiemColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"ghiChu",label:"Ghi ch\xfa",rowspan:2,align:"left"},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],[k,R]=(0,i.useState)({phanDoan:""}),M=(0,i.useRef)(null),E=(0,i.useCallback)(async n=>{f(n);try{let l=await (0,j.N)("".concat(n.phanDoanSong.fileKML)),e=(0,j.M)(l);e&&(s([e.center[0],e.center[1]]),S(e.zoom)),M.current&&M.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){y(!0);try{let[n,e]=await Promise.all([(0,o.getData)("DuLieuNguonNuocThaiDiem/danh-sach",k),(0,o.getData)("NguonThaiDiem/danh-sach")]);l(n),D(e)}catch(n){console.log(n)}finally{y(!1)}})()},[p,I,k]),(0,i.useEffect)(()=>{p||(s([15.012172,108.676488]),S(9))},[p]),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,ref:M,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsxs)(d.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:[(0,a.jsxs)(r.Z,{className:"map-legend",sx:{background:"white",px:2,zIndex:999,height:"auto",top:"15px"},children:[(0,a.jsx)(g.Z,{children:(0,a.jsx)(x.Z,{sx:{m:0},control:(0,a.jsx)(u.Z,{sx:{p:1},onClick:()=>T(!t)}),label:"Hiển thị t\xean đoạn s\xf4ng"})}),(0,a.jsx)(b,{onChange:n=>{let l=v.filter(l=>n.some(n=>{var e;return null===(e=l.loai)||void 0===e?void 0:e.toString().toLowerCase().includes(n.toLowerCase())}));G(n.includes("Khu C\xf4ng Nghiệp")?["/kml/doansong/KCN_Point.kml","/kml/doansong/KCN_Test.kml"]:[]),N(l)}})]}),(0,a.jsx)(z,{center:e,zoom:Z,mapData:p,selectedKmlFile:p?p.phanDoanSong.fileKML:null,loading:C,filterData:P,industrialZoneKmlFiles:L,dischargeData:n,showLabel:t})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,children:(0,a.jsxs)(d.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsx)(w.Z,{onChange:(n,l)=>{R(n),void 0!==l&&H(l)},tabId:"nnn"}),(0,a.jsx)(m.Z,{columns:A,rows:n,id:"phan_doan_song",loading:C,pagination:!0,actions:n=>(0,a.jsxs)(r.Z,{className:"group_btn",children:[(0,a.jsx)(O,{isEdit:!0,data:n,setPostSuccess:W}),(0,a.jsx)(B.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:W})]})})]})})]})},H=e(82431);let W=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,c]=(0,i.useState)(!1),[d,g]=(0,i.useState)([]),[x,u]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||"",soDan:(null==l?void 0:l.soDan)||0,heSoSuyGiam:(null==l?void 0:l.heSoSuyGiam)||0,ctSinhHoatBOD:(null==l?void 0:l.ctSinhHoatBOD)||0,ctSinhHoatCOD:(null==l?void 0:l.ctSinhHoatCOD)||0,ctSinhHoatAmoni:(null==l?void 0:l.ctSinhHoatAmoni)||0,ctSinhHoatTongN:(null==l?void 0:l.ctSinhHoatTongN)||0,ctSinhHoatTongP:(null==l?void 0:l.ctSinhHoatTongP)||0,ctSinhHoatTSS:(null==l?void 0:l.ctSinhHoatTSS)||0,ctSinhHoatColiform:(null==l?void 0:l.ctSinhHoatColiform)||0,ghiChu:(null==l?void 0:l.ghiChu)||""}),[m,j]=(0,i.useState)(!1),T=n=>l=>{u({...x,[n]:l})};(0,i.useEffect)(()=>{c(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{c(!1)}})()},[]);let b=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiSinhHoat/luu",x)&&(u({id:0,idPhanDoanSong:0,soDan:0,heSoSuyGiam:0,ctSinhHoatBOD:0,ctSinhHoatCOD:0,ctSinhHoatAmoni:0,ctSinhHoatTongN:0,ctSinhHoatTongP:0,ctSinhHoatTSS:0,ctSinhHoatColiform:0,ghiChu:""}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(r.Z,{children:[(0,a.jsxs)(h.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(f.Z,{size:"small",options:d,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==d?void 0:d.find(n=>n.id===x.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(C.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(y.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Số d\xe2n",fullWidth:!0,placeholder:"",value:x.soDan||"",onChange:n=>T("soDan")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Hệ số suy giảm dọc đường hay hệ số d\xf2ng chảy",fullWidth:!0,placeholder:"",value:x.heSoSuyGiam||"",onChange:n=>T("heSoSuyGiam")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải sinh hoạt"}),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:x.ctSinhHoatBOD||"",onChange:n=>T("ctSinhHoatBOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:x.ctSinhHoatCOD||"",onChange:n=>T("ctSinhHoatCOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:x.ctSinhHoatAmoni||"",onChange:n=>T("ctSinhHoatAmoni")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:x.ctSinhHoatTongN||"",onChange:n=>T("ctSinhHoatTongN")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:x.ctSinhHoatTongP||"",onChange:n=>T("ctSinhHoatTongP")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:x.ctSinhHoatTSS||"",onChange:n=>T("ctSinhHoatTSS")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:x.ctSinhHoatColiform||"",onChange:n=>T("ctSinhHoatColiform")(n.target.value)})})]})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Ghi ch\xfa",fullWidth:!0,placeholder:"",value:x.ghiChu||"",onChange:n=>T("ghiChu")(n.target.value)})})]}),(0,a.jsxs)(v.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(D.Z,{size:"small",onClick:()=>{u({id:0,idPhanDoanSong:0,soDan:0,heSoSuyGiam:0,ctSinhHoatBOD:0,ctSinhHoatCOD:0,ctSinhHoatAmoni:0,ctSinhHoatTongN:0,ctSinhHoatTongP:0,ctSinhHoatTSS:0,ctSinhHoatColiform:0,ghiChu:""}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(D.Z,{disabled:m,className:"btn saveBtn",onClick:b,children:[" ",m?(0,a.jsx)(y.Z,{color:"inherit",size:20}):(0,a.jsx)(Z.Z,{})," \xa0 Lưu"," "]})]})]})};var A=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Th\xeam mới";return(0,a.jsx)(L.Z,{children:(n,t)=>(0,a.jsx)(r.Z,{children:i?(0,a.jsx)(P.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(N.Z,{onClick:()=>n((0,a.jsx)(W,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(S.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(D.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(p.Z,{}),onClick:()=>n((0,a.jsx)(W,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let k=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var R=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,T]=(0,i.useState)(9.8),[b,Z]=(0,i.useState)(),[S,p]=(0,i.useState)(!1),[f,C]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),D=()=>{v(n=>!n)},P=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(c.Z,{className:"btnShowFilePdf",onClick:()=>L(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:(0,a.jsxs)(r.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(r.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (km)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"soDan",label:(0,a.jsxs)(r.Z,{children:["Số d\xe2n",(0,a.jsx)("br",{})," (người) ",(0,a.jsx)("br",{})]}),rowspan:2,align:"left",minWidth:100},{id:"heSoSuyGiam",label:(0,a.jsxs)(r.Z,{children:["Hệ số suy giảm dọc đường ",(0,a.jsx)("br",{})," hay hệ số d\xf2ng chảy"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG \xd4 NHIỄM (PLU) NGUỒN THẢI DIỆN (SINH HOẠT) ",(0,a.jsx)("br",{}),"(g/người/ng\xe0y)"]}),align:"left",children:[{id:"ctSinhHoatBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctSinhHoatCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctSinhHoatAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctSinhHoatTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctSinhHoatTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctSinhHoatTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctSinhHoatColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI DIỆN (SINH HOẠT)",(0,a.jsx)("br",{})," Lt_dien_sinhhoat (kg/ng\xe0y)"]}),align:"left",children:[{id:"ltSinhHoatBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltSinhHoatCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltSinhHoatAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltSinhHoatTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltSinhHoatTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltSinhHoatTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltSinhHoatColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"ghiChu",label:"Ghi ch\xfa",rowspan:2,align:"left"},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],N=(0,i.useRef)(null),L=(0,i.useCallback)(async n=>{Z(n);try{let l=await (0,j.N)("".concat(n.phanDoanSong.fileKML)),e=(0,j.M)(l);e&&(s([e.center[0],e.center[1]]),T(e.zoom)),N.current&&N.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){p(!0),await (0,o.getData)("DuLieuNguonNuocThaiSinhHoat/danh-sach").then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{p(!1)})})()},[y]),(0,i.useEffect)(()=>{b||(s([15.012172,108.676488]),T(9))},[b]),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,ref:N,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsxs)(d.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:[(0,a.jsx)(r.Z,{className:"map-legend",sx:{background:"white",px:2,zIndex:999,height:"auto",top:"15px"},children:(0,a.jsx)(g.Z,{children:(0,a.jsx)(x.Z,{sx:{m:0},control:(0,a.jsx)(u.Z,{sx:{p:1},onClick:()=>C(!f)}),label:"Hiển thị t\xean đoạn s\xf4ng"})})}),(0,a.jsx)(k,{center:e,zoom:t,mapData:b,selectedKmlFile:b?b.phanDoanSong.fileKML:null,loading:S,showLabel:f,dischargeData:n})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,children:(0,a.jsxs)(d.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(h.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(h.ZP,{item:!0,children:(0,a.jsx)(H.Z,{tableId:"du-lieu-nguon-thai-gia-cam",filename:"dulieuthaigiacam.csv"})}),(0,a.jsx)(h.ZP,{item:!0,children:(0,a.jsx)(A,{isEdit:!1,setPostSuccess:D})})]}),(0,a.jsx)(m.Z,{columns:P,rows:n,id:"phan_doan_song",loading:S,pagination:!0,actions:n=>(0,a.jsxs)(r.Z,{className:"group_btn",children:[(0,a.jsx)(A,{isEdit:!0,data:n,setPostSuccess:D}),(0,a.jsx)(B.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:D})]})})]})})]})};let M=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,c]=(0,i.useState)(!1),[d,g]=(0,i.useState)([]);console.log(l);let[x,u]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||"",soTrau:(null==l?void 0:l.soTrau)||0,soBo:(null==l?void 0:l.soBo)||0,heSoSuyGiam:(null==l?void 0:l.heSoSuyGiam)||0,ctTrauBoBOD:(null==l?void 0:l.ctTrauBoBOD)||0,ctTrauBoCOD:(null==l?void 0:l.ctTrauBoCOD)||0,ctTrauBoAmoni:(null==l?void 0:l.ctTrauBoAmoni)||0,ctTrauBoTongN:(null==l?void 0:l.ctTrauBoTongN)||0,ctTrauBoTongP:(null==l?void 0:l.ctTrauBoTongP)||0,ctTrauBoTSS:(null==l?void 0:l.ctTrauBoTSS)||0,ctTrauBoColiform:(null==l?void 0:l.ctTrauBoColiform)||0,ghiChu:(null==l?void 0:l.ghiChu)||""}),[m,j]=(0,i.useState)(!1),T=n=>l=>{u({...x,[n]:l})};(0,i.useEffect)(()=>{c(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{c(!1)}})()},[]);let b=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiTrauBo/luu",x)&&(u({id:0,idPhanDoanSong:0,soTrau:0,soBo:0,heSoSuyGiam:0,ctTrauBoBOD:0,ctTrauBoCOD:0,ctTrauBoAmoni:0,ctTrauBoTongN:0,ctTrauBoTongP:0,ctTrauBoTSS:0,ctTrauBoColiform:0,ghiChu:""}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(r.Z,{children:[(0,a.jsxs)(h.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(f.Z,{size:"small",options:d,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==d?void 0:d.find(n=>n.id===x.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(C.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(y.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Số tr\xe2u",fullWidth:!0,placeholder:"",value:x.soTrau||"",onChange:n=>T("soTrau")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Số b\xf2",fullWidth:!0,placeholder:"",value:x.soBo||"",onChange:n=>T("soBo")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Hệ số suy giảm dọc đường hay hệ số d\xf2ng chảy",fullWidth:!0,placeholder:"",value:x.heSoSuyGiam||"",onChange:n=>T("heSoSuyGiam")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải sinh hoạt"}),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:x.ctTrauBoBOD||"",onChange:n=>T("ctTrauBoBOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:x.ctTrauBoCOD||"",onChange:n=>T("ctTrauBoCOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:x.ctTrauBoAmoni||"",onChange:n=>T("ctTrauBoAmoni")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:x.ctTrauBoTongN||"",onChange:n=>T("ctTrauBoTongN")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:x.ctTrauBoTongP||"",onChange:n=>T("ctTrauBoTongP")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:x.ctTrauBoTSS||"",onChange:n=>T("ctTrauBoTSS")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:x.ctTrauBoColiform||"",onChange:n=>T("ctTrauBoColiform")(n.target.value)})})]})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Ghi ch\xfa",fullWidth:!0,placeholder:"",value:x.ghiChu||"",onChange:n=>T("ghiChu")(n.target.value)})})]}),(0,a.jsxs)(v.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(D.Z,{size:"small",onClick:()=>{u({id:0,idPhanDoanSong:0,soTrau:0,soBo:0,heSoSuyGiam:0,ctTrauBoBOD:0,ctTrauBoCOD:0,ctTrauBoAmoni:0,ctTrauBoTongN:0,ctTrauBoTongP:0,ctTrauBoTSS:0,ctTrauBoColiform:0,ghiChu:""}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(D.Z,{disabled:m,className:"btn saveBtn",onClick:b,children:[" ",m?(0,a.jsx)(y.Z,{color:"inherit",size:20}):(0,a.jsx)(Z.Z,{})," \xa0 Lưu"," "]})]})]})};var E=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Th\xeam mới";return(0,a.jsx)(L.Z,{children:(n,t)=>(0,a.jsx)(r.Z,{children:i?(0,a.jsx)(P.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(N.Z,{onClick:()=>n((0,a.jsx)(M,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(S.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(D.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(p.Z,{}),onClick:()=>n((0,a.jsx)(M,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let K=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var _=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,T]=(0,i.useState)(9.8),[b,Z]=(0,i.useState)(),[S,p]=(0,i.useState)(!1),[f,C]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),D=()=>{v(n=>!n)},P=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(c.Z,{className:"btnShowFilePdf",onClick:()=>L(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:(0,a.jsxs)(r.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(r.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (km)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"soTrau",label:(0,a.jsxs)(r.Z,{children:["Số tr\xe2u",(0,a.jsx)("br",{})," (con) ",(0,a.jsx)("br",{})]}),rowspan:2,align:"left",minWidth:100},{id:"soBo",label:(0,a.jsxs)(r.Z,{children:["Số b\xf2",(0,a.jsx)("br",{})," (con) ",(0,a.jsx)("br",{})]}),rowspan:2,align:"left",minWidth:100},{id:"heSoSuyGiam",label:(0,a.jsxs)(r.Z,{children:["Hệ số suy giảm dọc đường ",(0,a.jsx)("br",{})," hay hệ số d\xf2ng chảy"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG \xd4 NHIỄM (PLU) NGUỒN THẢI DIỆN (TR\xc2U, B\xd2, LỢN,...) ",(0,a.jsx)("br",{}),"(g/người/ng\xe0y)"]}),align:"left",children:[{id:"ctTrauBoBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrauBoCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrauBoAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrauBoTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrauBoTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrauBoTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctTrauBoColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI DIỆN (CHĂN NU\xd4I GIA S\xdaC)",(0,a.jsx)("br",{})," Lt_dien_TrauBo (kg/ng\xe0y)"]}),align:"left",children:[{id:"ltTrauBoBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrauBoCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrauBoAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrauBoTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrauBoTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrauBoTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltTrauBoColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"ghiChu",label:"Ghi ch\xfa",rowspan:2,align:"left"},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],N=(0,i.useRef)(null),L=(0,i.useCallback)(async n=>{Z(n);try{let l=await (0,j.N)("".concat(n.phanDoanSong.fileKML)),e=(0,j.M)(l);e&&(s([e.center[0],e.center[1]]),T(e.zoom)),N.current&&N.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){p(!0),await (0,o.getData)("DuLieuNguonNuocThaiTrauBo/danh-sach").then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{p(!1)})})()},[y]),(0,i.useEffect)(()=>{b||(s([15.012172,108.676488]),T(9))},[b]),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,ref:N,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsxs)(d.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:[(0,a.jsx)(r.Z,{className:"map-legend",sx:{background:"white",px:2,zIndex:999,height:"auto",top:"15px"},children:(0,a.jsx)(g.Z,{children:(0,a.jsx)(x.Z,{sx:{m:0},control:(0,a.jsx)(u.Z,{sx:{p:1},onClick:()=>C(!f)}),label:"Hiển thị t\xean đoạn s\xf4ng"})})}),(0,a.jsx)(K,{center:e,zoom:t,mapData:b,selectedKmlFile:b?b.phanDoanSong.fileKML:null,loading:S,showLabel:f,dischargeData:n})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,children:(0,a.jsxs)(d.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(h.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(h.ZP,{item:!0,children:(0,a.jsx)(H.Z,{tableId:"du-lieu-nguon-thai-gia-cam",filename:"dulieuthaigiacam.csv"})}),(0,a.jsx)(h.ZP,{item:!0,children:(0,a.jsx)(E,{isEdit:!1,setPostSuccess:D})})]}),(0,a.jsx)(m.Z,{columns:P,rows:n,id:"phan_doan_song",loading:S,pagination:!0,actions:n=>(0,a.jsxs)(r.Z,{className:"group_btn",children:[(0,a.jsx)(E,{isEdit:!0,data:n,setPostSuccess:D}),(0,a.jsx)(B.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:D})]})})]})})]})};let U=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,c]=(0,i.useState)(!1),[d,g]=(0,i.useState)([]);console.log(l);let[x,u]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||"",soLon:(null==l?void 0:l.soLon)||0,soDe:(null==l?void 0:l.soDe)||0,soGiaSucKhac:(null==l?void 0:l.soGiaSucKhac)||0,heSoSuyGiam:(null==l?void 0:l.heSoSuyGiam)||0,ctLonBOD:(null==l?void 0:l.ctLonBOD)||0,ctLonCOD:(null==l?void 0:l.ctLonCOD)||0,ctLonAmoni:(null==l?void 0:l.ctLonAmoni)||0,ctLonTongN:(null==l?void 0:l.ctLonTongN)||0,ctLonTongP:(null==l?void 0:l.ctLonTongP)||0,ctLonTSS:(null==l?void 0:l.ctLonTSS)||0,ctLonColiform:(null==l?void 0:l.ctLonColiform)||0,ghiChu:(null==l?void 0:l.ghiChu)||""}),[m,j]=(0,i.useState)(!1),T=n=>l=>{u({...x,[n]:l})};(0,i.useEffect)(()=>{c(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{c(!1)}})()},[]);let b=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiLon/luu",x)&&(u({id:0,idPhanDoanSong:0,soLon:0,soDe:0,soGiaSucKhac:0,heSoSuyGiam:0,ctLonBOD:0,ctLonCOD:0,ctLonAmoni:0,ctLonTongN:0,ctLonTongP:0,ctLonTSS:0,ctLonColiform:0,ghiChu:""}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(r.Z,{children:[(0,a.jsxs)(h.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(f.Z,{size:"small",options:d,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==d?void 0:d.find(n=>n.id===x.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(C.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(y.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Số lợn",fullWidth:!0,placeholder:"",value:x.soLon||"",onChange:n=>T("soLon")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Số d\xea",fullWidth:!0,placeholder:"",value:x.soDe||"",onChange:n=>T("soDe")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Số gia s\xfac kh\xe1c kh\xe1c",fullWidth:!0,placeholder:"",value:x.soGiaSucKhac||"",onChange:n=>T("soGiaSucKhac")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Hệ số suy giảm dọc đường hay hệ số d\xf2ng chảy",fullWidth:!0,placeholder:"",value:x.heSoSuyGiam||"",onChange:n=>T("heSoSuyGiam")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải sinh hoạt"}),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:x.ctLonBOD||"",onChange:n=>T("ctLonBOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:x.ctLonCOD||"",onChange:n=>T("ctLonCOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:x.ctLonAmoni||"",onChange:n=>T("ctLonAmoni")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:x.ctLonTongN||"",onChange:n=>T("ctLonTongN")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:x.ctLonTongP||"",onChange:n=>T("ctLonTongP")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:x.ctLonTSS||"",onChange:n=>T("ctLonTSS")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:x.ctLonColiform||"",onChange:n=>T("ctLonColiform")(n.target.value)})})]})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Ghi ch\xfa",fullWidth:!0,placeholder:"",value:x.ghiChu||"",onChange:n=>T("ghiChu")(n.target.value)})})]}),(0,a.jsxs)(v.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(D.Z,{size:"small",onClick:()=>{u({id:0,idPhanDoanSong:0,soLon:0,soDe:0,soGiaSucKhac:0,heSoSuyGiam:0,ctLonBOD:0,ctLonCOD:0,ctLonAmoni:0,ctLonTongN:0,ctLonTongP:0,ctLonTSS:0,ctLonColiform:0,ghiChu:""}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(D.Z,{disabled:m,className:"btn saveBtn",onClick:b,children:[" ",m?(0,a.jsx)(y.Z,{color:"inherit",size:20}):(0,a.jsx)(Z.Z,{})," \xa0 Lưu"," "]})]})]})};var F=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Th\xeam mới";return(0,a.jsx)(L.Z,{children:(n,t)=>(0,a.jsx)(r.Z,{children:i?(0,a.jsx)(P.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(N.Z,{onClick:()=>n((0,a.jsx)(U,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(S.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(D.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(p.Z,{}),onClick:()=>n((0,a.jsx)(U,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let X=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var Y=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,T]=(0,i.useState)(9.8),[b,Z]=(0,i.useState)(),[S,p]=(0,i.useState)(!1),[f,C]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),D=()=>{v(n=>!n)},P=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(c.Z,{className:"btnShowFilePdf",onClick:()=>L(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:(0,a.jsxs)(r.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(r.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (km)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"soLon",label:(0,a.jsxs)(r.Z,{children:["Số lợn",(0,a.jsx)("br",{})," (con) ",(0,a.jsx)("br",{})]}),rowspan:2,align:"left",minWidth:100},{id:"soDe",label:(0,a.jsxs)(r.Z,{children:["Số d\xea",(0,a.jsx)("br",{})," (con) ",(0,a.jsx)("br",{})]}),rowspan:2,align:"left",minWidth:100},{id:"soGiaSucKhac",label:(0,a.jsxs)(r.Z,{children:["Số gia s\xfac kh\xe1c",(0,a.jsx)("br",{})," (con) ",(0,a.jsx)("br",{})]}),rowspan:2,align:"left",minWidth:150},{id:"heSoSuyGiam",label:(0,a.jsxs)(r.Z,{children:["Hệ số suy giảm dọc đường ",(0,a.jsx)("br",{})," hay hệ số d\xf2ng chảy"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG \xd4 NHIỄM (PLU) NGUỒN THẢI DIỆN (LỢN, D\xca...) ",(0,a.jsx)("br",{}),"(g/người/ng\xe0y)"]}),align:"left",children:[{id:"ctLonBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctLonCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctLonAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctLonTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctLonTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctLonTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctLonColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI DIỆN (CHĂN NU\xd4I GIA S\xdaC)",(0,a.jsx)("br",{})," Lt_dien_Lon (kg/ng\xe0y)"]}),align:"left",children:[{id:"ltLonBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltLonCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltLonAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltLonTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltLonTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltLonTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltLonColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"ghiChu",label:"Ghi ch\xfa",rowspan:2,align:"left"},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],N=(0,i.useRef)(null),L=(0,i.useCallback)(async n=>{Z(n);try{let l=await (0,j.N)("".concat(n.phanDoanSong.fileKML)),e=(0,j.M)(l);e&&(s([e.center[0],e.center[1]]),T(e.zoom)),N.current&&N.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){p(!0),await (0,o.getData)("DuLieuNguonNuocThaiLon/danh-sach").then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{p(!1)})})()},[y]),(0,i.useEffect)(()=>{b||(s([15.012172,108.676488]),T(9))},[b]),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,ref:N,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsxs)(d.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:[(0,a.jsx)(r.Z,{className:"map-legend",sx:{background:"white",px:2,zIndex:999,height:"auto",top:"15px"},children:(0,a.jsx)(g.Z,{children:(0,a.jsx)(x.Z,{sx:{m:0},control:(0,a.jsx)(u.Z,{sx:{p:1},onClick:()=>C(!f)}),label:"Hiển thị t\xean đoạn s\xf4ng"})})}),(0,a.jsx)(X,{center:e,zoom:t,mapData:b,selectedKmlFile:b?b.phanDoanSong.fileKML:null,loading:S,showLabel:f,dischargeData:n})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,children:(0,a.jsxs)(d.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(h.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(h.ZP,{item:!0,children:(0,a.jsx)(H.Z,{tableId:"du-lieu-nguon-thai-gia-lon",filename:"dulieuthaigialon.csv"})}),(0,a.jsx)(h.ZP,{item:!0,children:(0,a.jsx)(F,{isEdit:!1,setPostSuccess:D})})]}),(0,a.jsx)(m.Z,{columns:P,rows:n,id:"phan_doan_song",loading:S,pagination:!0,actions:n=>(0,a.jsxs)(r.Z,{className:"group_btn",children:[(0,a.jsx)(F,{isEdit:!0,data:n,setPostSuccess:D}),(0,a.jsx)(B.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:D})]})})]})})]})};let q=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,c]=(0,i.useState)(!1),[d,g]=(0,i.useState)([]);console.log(l);let[x,u]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||"",soGiaCam:(null==l?void 0:l.soGiaCam)||0,heSoSuyGiam:(null==l?void 0:l.heSoSuyGiam)||0,ctGiaCamBOD:(null==l?void 0:l.ctGiaCamBOD)||0,ctGiaCamCOD:(null==l?void 0:l.ctGiaCamCOD)||0,ctGiaCamAmoni:(null==l?void 0:l.ctGiaCamAmoni)||0,ctGiaCamTongN:(null==l?void 0:l.ctGiaCamTongN)||0,ctGiaCamTongP:(null==l?void 0:l.ctGiaCamTongP)||0,ctGiaCamTSS:(null==l?void 0:l.ctGiaCamTSS)||0,ctGiaCamColiform:(null==l?void 0:l.ctGiaCamColiform)||0,ghiChu:(null==l?void 0:l.ghiChu)||""}),[m,j]=(0,i.useState)(!1),T=n=>l=>{u({...x,[n]:l})};(0,i.useEffect)(()=>{c(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{c(!1)}})()},[]);let b=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiGiaCam/luu",x)&&(u({id:0,idPhanDoanSong:0,soGiaCam:0,heSoSuyGiam:0,ctGiaCamBOD:0,ctGiaCamCOD:0,ctGiaCamAmoni:0,ctGiaCamTongN:0,ctGiaCamTongP:0,ctGiaCamTSS:0,ctGiaCamColiform:0,ghiChu:""}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(r.Z,{children:[(0,a.jsxs)(h.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(f.Z,{size:"small",options:d,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==d?void 0:d.find(n=>n.id===x.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(C.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(y.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Số con gia cầm",fullWidth:!0,placeholder:"",value:x.soGiaCam||"",onChange:n=>T("soGiaCam")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Hệ số suy giảm dọc đường hay hệ số d\xf2ng chảy",fullWidth:!0,placeholder:"",value:x.heSoSuyGiam||"",onChange:n=>T("heSoSuyGiam")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải gia cầm"}),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:x.ctGiaCamBOD||"",onChange:n=>T("ctGiaCamBOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:x.ctGiaCamCOD||"",onChange:n=>T("ctGiaCamCOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:x.ctGiaCamAmoni||"",onChange:n=>T("ctGiaCamAmoni")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:x.ctGiaCamTongN||"",onChange:n=>T("ctGiaCamTongN")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:x.ctGiaCamTongP||"",onChange:n=>T("ctGiaCamTongP")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:x.ctGiaCamTSS||"",onChange:n=>T("ctGiaCamTSS")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:x.ctGiaCamColiform||"",onChange:n=>T("ctGiaCamColiform")(n.target.value)})})]})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Ghi ch\xfa",fullWidth:!0,placeholder:"",value:x.ghiChu||"",onChange:n=>T("ghiChu")(n.target.value)})})]}),(0,a.jsxs)(v.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(D.Z,{size:"small",onClick:()=>{u({id:0,idPhanDoanSong:0,soGiaCam:0,heSoSuyGiam:0,ctGiaCamBOD:0,ctGiaCamCOD:0,ctGiaCamAmoni:0,ctGiaCamTongN:0,ctGiaCamTongP:0,ctGiaCamTSS:0,ctGiaCamColiform:0,ghiChu:""}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(D.Z,{disabled:m,className:"btn saveBtn",onClick:b,children:[" ",m?(0,a.jsx)(y.Z,{color:"inherit",size:20}):(0,a.jsx)(Z.Z,{})," \xa0 Lưu"," "]})]})]})};var V=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Th\xeam mới";return(0,a.jsx)(L.Z,{children:(n,t)=>(0,a.jsx)(r.Z,{children:i?(0,a.jsx)(P.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(N.Z,{onClick:()=>n((0,a.jsx)(q,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(S.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(D.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(p.Z,{}),onClick:()=>n((0,a.jsx)(q,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let Q=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var J=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,T]=(0,i.useState)(9.8),[b,Z]=(0,i.useState)(),[S,p]=(0,i.useState)(!1),[f,C]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),D=()=>{v(n=>!n)},P=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(c.Z,{className:"btnShowFilePdf",onClick:()=>L(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:(0,a.jsxs)(r.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(r.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (km)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"soGiaCam",label:(0,a.jsxs)(r.Z,{children:["Số lợn",(0,a.jsx)("br",{})," (con) ",(0,a.jsx)("br",{})]}),rowspan:2,align:"left",minWidth:100},{id:"heSoSuyGiam",label:(0,a.jsxs)(r.Z,{children:["Hệ số suy giảm dọc đường ",(0,a.jsx)("br",{})," hay hệ số d\xf2ng chảy"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG \xd4 NHIỄM (PLU) NGUỒN THẢI DIỆN (LỢN, D\xca...) ",(0,a.jsx)("br",{}),"(g/người/ng\xe0y)"]}),align:"left",children:[{id:"ctGiaCamBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctGiaCamCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctGiaCamAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctGiaCamTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctGiaCamTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctGiaCamTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctGiaCamColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI DIỆN (CHĂN NU\xd4I GIA S\xdaC)",(0,a.jsx)("br",{})," Lt_dien_GiaCam (kg/ng\xe0y)"]}),align:"left",children:[{id:"ltGiaCamBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltGiaCamCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltGiaCamAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltGiaCamTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltGiaCamTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltGiaCamTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltGiaCamColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"ghiChu",label:"Ghi ch\xfa",rowspan:2,align:"left"},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],N=(0,i.useRef)(null),L=(0,i.useCallback)(async n=>{Z(n);try{let l=await (0,j.N)("".concat(n.phanDoanSong.fileKML)),e=(0,j.M)(l);e&&(s([e.center[0],e.center[1]]),T(e.zoom)),N.current&&N.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){p(!0),await (0,o.getData)("DuLieuNguonNuocThaiGiaCam/danh-sach").then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{p(!1)})})()},[y]),(0,i.useEffect)(()=>{b||(s([15.012172,108.676488]),T(9))},[b]),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,ref:N,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsxs)(d.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:[(0,a.jsx)(r.Z,{className:"map-legend",sx:{background:"white",px:2,zIndex:999,height:"auto",top:"15px"},children:(0,a.jsx)(g.Z,{children:(0,a.jsx)(x.Z,{sx:{m:0},control:(0,a.jsx)(u.Z,{sx:{p:1},onClick:()=>C(!f)}),label:"Hiển thị t\xean đoạn s\xf4ng"})})}),(0,a.jsx)(Q,{center:e,zoom:t,mapData:b,selectedKmlFile:b?b.phanDoanSong.fileKML:null,loading:S,showLabel:f,dischargeData:n})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,children:(0,a.jsxs)(d.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(h.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(h.ZP,{item:!0,children:(0,a.jsx)(H.Z,{tableId:"du-lieu-nguon-thai-gia-cam",filename:"dulieuthaigiacam.csv"})}),(0,a.jsx)(h.ZP,{item:!0,children:(0,a.jsx)(V,{isEdit:!1,setPostSuccess:D})})]}),(0,a.jsx)(m.Z,{columns:P,rows:n,id:"phan_doan_song",loading:S,pagination:!0,actions:n=>(0,a.jsxs)(r.Z,{className:"group_btn",children:[(0,a.jsx)(V,{isEdit:!0,data:n,setPostSuccess:D}),(0,a.jsx)(B.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:D})]})})]})})]})};let $=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,c]=(0,i.useState)(!1),[d,g]=(0,i.useState)([]);console.log(l);let[x,u]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||"",dienTichTrongLua:(null==l?void 0:l.dienTichTrongLua)||0,heSoSuyGiam:(null==l?void 0:l.heSoSuyGiam)||0,ctTrongLuaBOD:(null==l?void 0:l.ctTrongLuaBOD)||0,ctTrongLuaCOD:(null==l?void 0:l.ctTrongLuaCOD)||0,ctTrongLuaAmoni:(null==l?void 0:l.ctTrongLuaAmoni)||0,ctTrongLuaTongN:(null==l?void 0:l.ctTrongLuaTongN)||0,ctTrongLuaTongP:(null==l?void 0:l.ctTrongLuaTongP)||0,ctTrongLuaTSS:(null==l?void 0:l.ctTrongLuaTSS)||0,ctTrongLuaColiform:(null==l?void 0:l.ctTrongLuaColiform)||0,ghiChu:(null==l?void 0:l.ghiChu)||""}),[m,j]=(0,i.useState)(!1),T=n=>l=>{u({...x,[n]:l})};(0,i.useEffect)(()=>{c(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{c(!1)}})()},[]);let b=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiTrongLua/luu",x)&&(u({id:0,idPhanDoanSong:0,dienTichTrongLua:0,heSoSuyGiam:0,ctTrongLuaBOD:0,ctTrongLuaCOD:0,ctTrongLuaAmoni:0,ctTrongLuaTongN:0,ctTrongLuaTongP:0,ctTrongLuaTSS:0,ctTrongLuaColiform:0,ghiChu:""}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(r.Z,{children:[(0,a.jsxs)(h.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(f.Z,{size:"small",options:d,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==d?void 0:d.find(n=>n.id===x.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(C.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(y.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Diện t\xedch trồng l\xfaa",fullWidth:!0,placeholder:"",value:x.dienTichTrongLua||"",onChange:n=>T("dienTichTrongLua")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Hệ số suy giảm dọc đường",fullWidth:!0,placeholder:"",value:x.heSoSuyGiam||"",onChange:n=>T("heSoSuyGiam")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải trồng l\xfaa"}),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:x.ctTrongLuaBOD||"",onChange:n=>T("ctTrongLuaBOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:x.ctTrongLuaCOD||"",onChange:n=>T("ctTrongLuaCOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:x.ctTrongLuaAmoni||"",onChange:n=>T("ctTrongLuaAmoni")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:x.ctTrongLuaTongN||"",onChange:n=>T("ctTrongLuaTongN")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:x.ctTrongLuaTongP||"",onChange:n=>T("ctTrongLuaTongP")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:x.ctTrongLuaTSS||"",onChange:n=>T("ctTrongLuaTSS")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:x.ctTrongLuaColiform||"",onChange:n=>T("ctTrongLuaColiform")(n.target.value)})})]})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Ghi ch\xfa",fullWidth:!0,placeholder:"",value:x.ghiChu||"",onChange:n=>T("ghiChu")(n.target.value)})})]}),(0,a.jsxs)(v.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(D.Z,{size:"small",onClick:()=>{u({id:0,idPhanDoanSong:0,dienTichTrongLua:0,heSoSuyGiam:0,ctTrongLuaBOD:0,ctTrongLuaCOD:0,ctTrongLuaAmoni:0,ctTrongLuaTongN:0,ctTrongLuaTongP:0,ctTrongLuaTSS:0,ctTrongLuaColiform:0,ghiChu:""}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(D.Z,{disabled:m,className:"btn saveBtn",onClick:b,children:[" ",m?(0,a.jsx)(y.Z,{color:"inherit",size:20}):(0,a.jsx)(Z.Z,{})," \xa0 Lưu"," "]})]})]})};var nn=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Th\xeam mới";return(0,a.jsx)(L.Z,{children:(n,t)=>(0,a.jsx)(r.Z,{children:i?(0,a.jsx)(P.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(N.Z,{onClick:()=>n((0,a.jsx)($,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(S.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(D.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(p.Z,{}),onClick:()=>n((0,a.jsx)($,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let nl=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var ne=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,T]=(0,i.useState)(9.8),[b,Z]=(0,i.useState)(),[S,p]=(0,i.useState)(!1),[f,C]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),D=()=>{v(n=>!n)},P=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(c.Z,{className:"btnShowFilePdf",onClick:()=>L(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:(0,a.jsxs)(r.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(r.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (km)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"dienTichTrongLua",label:(0,a.jsxs)(r.Z,{children:["Diện t\xedch trồng l\xfaa",(0,a.jsx)("br",{})," (ha)"]}),rowspan:2,align:"left",minWidth:150},{id:"heSoSuyGiam",label:(0,a.jsxs)(r.Z,{children:["Hệ số suy giảm dọc đường ",(0,a.jsx)("br",{})," hay hệ số d\xf2ng chảy"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG \xd4 NHIỄM (PLU) NGUỒN THẢI DIỆN (TRỒNG L\xdaA) ",(0,a.jsx)("br",{}),"(g/ha/ng\xe0y)"]}),align:"left",children:[{id:"ctTrongLuaBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongLuaCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongLuaAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongLuaTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongLuaTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongLuaTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctTrongLuaColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI DIỆN (TRỒNG L\xdaA)",(0,a.jsx)("br",{})," Lt_dien_TrongLua"]}),align:"left",children:[{id:"ltTrongLuaBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongLuaCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongLuaAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongLuaTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongLuaTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongLuaTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltTrongLuaColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"ghiChu",label:"Ghi ch\xfa",rowspan:2,align:"left"},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],N=(0,i.useRef)(null),L=(0,i.useCallback)(async n=>{Z(n);try{let l=await (0,j.N)("".concat(n.phanDoanSong.fileKML)),e=(0,j.M)(l);e&&(s([e.center[0],e.center[1]]),T(e.zoom)),N.current&&N.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){p(!0),await (0,o.getData)("DuLieuNguonNuocThaiTrongLua/danh-sach").then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{p(!1)})})()},[y]),(0,i.useEffect)(()=>{b||(s([15.012172,108.676488]),T(9))},[b]),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,ref:N,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsxs)(d.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:[(0,a.jsx)(r.Z,{className:"map-legend",sx:{background:"white",px:2,zIndex:999,height:"auto",top:"15px"},children:(0,a.jsx)(g.Z,{children:(0,a.jsx)(x.Z,{sx:{m:0},control:(0,a.jsx)(u.Z,{sx:{p:1},onClick:()=>C(!f)}),label:"Hiển thị t\xean đoạn s\xf4ng"})})}),(0,a.jsx)(nl,{center:e,zoom:t,mapData:b,selectedKmlFile:b?b.phanDoanSong.fileKML:null,loading:S,showLabel:f,dischargeData:n})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,children:(0,a.jsxs)(d.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(h.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(h.ZP,{item:!0,children:(0,a.jsx)(H.Z,{tableId:"du-lieu-nguon-thai-gia-cam",filename:"dulieuthaigiacam.csv"})}),(0,a.jsx)(h.ZP,{item:!0,children:(0,a.jsx)(nn,{isEdit:!1,setPostSuccess:D})})]}),(0,a.jsx)(m.Z,{columns:P,rows:n,id:"phan_doan_song",loading:S,pagination:!0,actions:n=>(0,a.jsxs)(r.Z,{className:"group_btn",children:[(0,a.jsx)(nn,{isEdit:!0,data:n,setPostSuccess:D}),(0,a.jsx)(B.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:D})]})})]})})]})};let na=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,c]=(0,i.useState)(!1),[d,g]=(0,i.useState)([]);console.log(l);let[x,u]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||"",dienTichTrongCay:(null==l?void 0:l.dienTichTrongCay)||0,heSoSuyGiam:(null==l?void 0:l.heSoSuyGiam)||0,ctTrongCayBOD:(null==l?void 0:l.ctTrongCayBOD)||0,ctTrongCayCOD:(null==l?void 0:l.ctTrongCayCOD)||0,ctTrongCayAmoni:(null==l?void 0:l.ctTrongCayAmoni)||0,ctTrongCayTongN:(null==l?void 0:l.ctTrongCayTongN)||0,ctTrongCayTongP:(null==l?void 0:l.ctTrongCayTongP)||0,ctTrongCayTSS:(null==l?void 0:l.ctTrongCayTSS)||0,ctTrongCayColiform:(null==l?void 0:l.ctTrongCayColiform)||0,ghiChu:(null==l?void 0:l.ghiChu)||""}),[m,j]=(0,i.useState)(!1),T=n=>l=>{u({...x,[n]:l})};(0,i.useEffect)(()=>{c(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{c(!1)}})()},[]);let b=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiTrongCay/luu",x)&&(u({id:0,idPhanDoanSong:0,dienTichTrongCay:0,heSoSuyGiam:0,ctTrongCayBOD:0,ctTrongCayCOD:0,ctTrongCayAmoni:0,ctTrongCayTongN:0,ctTrongCayTongP:0,ctTrongCayTSS:0,ctTrongCayColiform:0,ghiChu:""}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(r.Z,{children:[(0,a.jsxs)(h.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(f.Z,{size:"small",options:d,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==d?void 0:d.find(n=>n.id===x.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(C.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(y.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Diện t\xedch trồng c\xe2y l\xe2u năm",fullWidth:!0,placeholder:"",value:x.dienTichTrongCay||"",onChange:n=>T("dienTichTrongCay")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Hệ số suy giảm dọc đường",fullWidth:!0,placeholder:"",value:x.heSoSuyGiam||"",onChange:n=>T("heSoSuyGiam")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải trồng c\xe2y l\xe2u năm"}),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:x.ctTrongCayBOD||"",onChange:n=>T("ctTrongCayBOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:x.ctTrongCayCOD||"",onChange:n=>T("ctTrongCayCOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:x.ctTrongCayAmoni||"",onChange:n=>T("ctTrongCayAmoni")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:x.ctTrongCayTongN||"",onChange:n=>T("ctTrongCayTongN")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:x.ctTrongCayTongP||"",onChange:n=>T("ctTrongCayTongP")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:x.ctTrongCayTSS||"",onChange:n=>T("ctTrongCayTSS")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:x.ctTrongCayColiform||"",onChange:n=>T("ctTrongCayColiform")(n.target.value)})})]})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Ghi ch\xfa",fullWidth:!0,placeholder:"",value:x.ghiChu||"",onChange:n=>T("ghiChu")(n.target.value)})})]}),(0,a.jsxs)(v.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(D.Z,{size:"small",onClick:()=>{u({id:0,idPhanDoanSong:0,dienTichTrongCay:0,heSoSuyGiam:0,ctTrongCayBOD:0,ctTrongCayCOD:0,ctTrongCayAmoni:0,ctTrongCayTongN:0,ctTrongCayTongP:0,ctTrongCayTSS:0,ctTrongCayColiform:0,ghiChu:""}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(D.Z,{disabled:m,className:"btn saveBtn",onClick:b,children:[" ",m?(0,a.jsx)(y.Z,{color:"inherit",size:20}):(0,a.jsx)(Z.Z,{})," \xa0 Lưu"," "]})]})]})};var ni=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Th\xeam mới";return(0,a.jsx)(L.Z,{children:(n,t)=>(0,a.jsx)(r.Z,{children:i?(0,a.jsx)(P.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(N.Z,{onClick:()=>n((0,a.jsx)(na,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(S.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(D.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(p.Z,{}),onClick:()=>n((0,a.jsx)(na,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let ns=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var nt=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,T]=(0,i.useState)(9.8),[b,Z]=(0,i.useState)(),[S,p]=(0,i.useState)(!1),[f,C]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),D=()=>{v(n=>!n)},P=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(c.Z,{className:"btnShowFilePdf",onClick:()=>L(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:(0,a.jsxs)(r.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(r.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (km)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"dienTichTrongCay",label:(0,a.jsxs)(r.Z,{children:["Diện t\xedch trồng c\xe2y l\xe2u năm",(0,a.jsx)("br",{})," (ha)"]}),rowspan:2,align:"left",minWidth:200},{id:"heSoSuyGiam",label:(0,a.jsxs)(r.Z,{children:["Hệ số suy giảm dọc đường ",(0,a.jsx)("br",{})," hay hệ số d\xf2ng chảy"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG \xd4 NHIỄM (PLU) NGUỒN THẢI DIỆN (TRỒNG C\xc2Y L\xc2U NĂM) ",(0,a.jsx)("br",{}),"(g/ha/ng\xe0y)"]}),align:"left",children:[{id:"ctTrongCayBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongCayCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongCayAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongCayTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongCayTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongCayTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctTrongCayColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI DIỆN (TRỒNG C\xc2Y L\xc2U NĂM)",(0,a.jsx)("br",{})," Lt_dien_TrongCay"]}),align:"left",children:[{id:"ltTrongCayBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongCayCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongCayAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongCayTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongCayTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongCayTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltTrongCayColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"ghiChu",label:"Ghi ch\xfa",rowspan:2,align:"left"},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],N=(0,i.useRef)(null),L=(0,i.useCallback)(async n=>{Z(n);try{let l=await (0,j.N)("".concat(n.phanDoanSong.fileKML)),e=(0,j.M)(l);e&&(s([e.center[0],e.center[1]]),T(e.zoom)),N.current&&N.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){p(!0),await (0,o.getData)("DuLieuNguonNuocThaiTrongCay/danh-sach").then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{p(!1)})})()},[y]),(0,i.useEffect)(()=>{b||(s([15.012172,108.676488]),T(9))},[b]),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,ref:N,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsxs)(d.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:[(0,a.jsx)(r.Z,{className:"map-legend",sx:{background:"white",px:2,zIndex:999,height:"auto",top:"15px"},children:(0,a.jsx)(g.Z,{children:(0,a.jsx)(x.Z,{sx:{m:0},control:(0,a.jsx)(u.Z,{sx:{p:1},onClick:()=>C(!f)}),label:"Hiển thị t\xean đoạn s\xf4ng"})})}),(0,a.jsx)(ns,{center:e,zoom:t,mapData:b,selectedKmlFile:b?b.phanDoanSong.fileKML:null,loading:S,showLabel:f,dischargeData:n})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,children:(0,a.jsxs)(d.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(h.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(h.ZP,{item:!0,children:(0,a.jsx)(H.Z,{tableId:"du-lieu-nguon-thai-gia-cam",filename:"dulieuthaigiacam.csv"})}),(0,a.jsx)(h.ZP,{item:!0,children:(0,a.jsx)(ni,{isEdit:!1,setPostSuccess:D})})]}),(0,a.jsx)(m.Z,{columns:P,rows:n,id:"phan_doan_song",loading:S,pagination:!0,actions:n=>(0,a.jsxs)(r.Z,{className:"group_btn",children:[(0,a.jsx)(ni,{isEdit:!0,data:n,setPostSuccess:D}),(0,a.jsx)(B.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:D})]})})]})})]})};let no=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,c]=(0,i.useState)(!1),[d,g]=(0,i.useState)([]);console.log(l);let[x,u]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||"",dienTichTrongRung:(null==l?void 0:l.dienTichTrongRung)||0,heSoSuyGiam:(null==l?void 0:l.heSoSuyGiam)||0,ctTrongRungBOD:(null==l?void 0:l.ctTrongRungBOD)||0,ctTrongRungCOD:(null==l?void 0:l.ctTrongRungCOD)||0,ctTrongRungAmoni:(null==l?void 0:l.ctTrongRungAmoni)||0,ctTrongRungTongN:(null==l?void 0:l.ctTrongRungTongN)||0,ctTrongRungTongP:(null==l?void 0:l.ctTrongRungTongP)||0,ctTrongRungTSS:(null==l?void 0:l.ctTrongRungTSS)||0,ctTrongRungColiform:(null==l?void 0:l.ctTrongRungColiform)||0,ghiChu:(null==l?void 0:l.ghiChu)||""}),[m,j]=(0,i.useState)(!1),T=n=>l=>{u({...x,[n]:l})};(0,i.useEffect)(()=>{c(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{c(!1)}})()},[]);let b=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiTrongRung/luu",x)&&(u({id:0,idPhanDoanSong:0,dienTichTrongRung:0,heSoSuyGiam:0,ctTrongRungBOD:0,ctTrongRungCOD:0,ctTrongRungAmoni:0,ctTrongRungTongN:0,ctTrongRungTongP:0,ctTrongRungTSS:0,ctTrongRungColiform:0,ghiChu:""}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(r.Z,{children:[(0,a.jsxs)(h.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(f.Z,{size:"small",options:d,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==d?void 0:d.find(n=>n.id===x.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(C.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(y.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Diện t\xedch trồng rừng",fullWidth:!0,placeholder:"",value:x.dienTichTrongRung||"",onChange:n=>T("dienTichTrongRung")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Hệ số suy giảm dọc đường",fullWidth:!0,placeholder:"",value:x.heSoSuyGiam||"",onChange:n=>T("heSoSuyGiam")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải trồng rừng"}),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:x.ctTrongRungBOD||"",onChange:n=>T("ctTrongRungBOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:x.ctTrongRungCOD||"",onChange:n=>T("ctTrongRungCOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:x.ctTrongRungAmoni||"",onChange:n=>T("ctTrongRungAmoni")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:x.ctTrongRungTongN||"",onChange:n=>T("ctTrongRungTongN")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:x.ctTrongRungTongP||"",onChange:n=>T("ctTrongRungTongP")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:x.ctTrongRungTSS||"",onChange:n=>T("ctTrongRungTSS")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:x.ctTrongRungColiform||"",onChange:n=>T("ctTrongRungColiform")(n.target.value)})})]})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Ghi ch\xfa",fullWidth:!0,placeholder:"",value:x.ghiChu||"",onChange:n=>T("ghiChu")(n.target.value)})})]}),(0,a.jsxs)(v.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(D.Z,{size:"small",onClick:()=>{u({id:0,idPhanDoanSong:0,dienTichTrongRung:0,heSoSuyGiam:0,ctTrongRungBOD:0,ctTrongRungCOD:0,ctTrongRungAmoni:0,ctTrongRungTongN:0,ctTrongRungTongP:0,ctTrongRungTSS:0,ctTrongRungColiform:0,ghiChu:""}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(D.Z,{disabled:m,className:"btn saveBtn",onClick:b,children:[" ",m?(0,a.jsx)(y.Z,{color:"inherit",size:20}):(0,a.jsx)(Z.Z,{})," \xa0 Lưu"," "]})]})]})};var nc=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Th\xeam mới";return(0,a.jsx)(L.Z,{children:(n,t)=>(0,a.jsx)(r.Z,{children:i?(0,a.jsx)(P.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(N.Z,{onClick:()=>n((0,a.jsx)(no,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(S.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(D.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(p.Z,{}),onClick:()=>n((0,a.jsx)(no,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let nr=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var nh=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,T]=(0,i.useState)(9.8),[b,Z]=(0,i.useState)(),[S,p]=(0,i.useState)(!1),[f,C]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),D=()=>{v(n=>!n)},P=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(c.Z,{className:"btnShowFilePdf",onClick:()=>L(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:(0,a.jsxs)(r.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(r.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (km)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"dienTichTrongRung",label:(0,a.jsxs)(r.Z,{children:["Diện t\xedch trồng l\xfaa",(0,a.jsx)("br",{})," (ha)"]}),rowspan:2,align:"left",minWidth:150},{id:"heSoSuyGiam",label:(0,a.jsxs)(r.Z,{children:["Hệ số suy giảm dọc đường ",(0,a.jsx)("br",{})," hay hệ số d\xf2ng chảy"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG \xd4 NHIỄM (PLU) NGUỒN THẢI DIỆN (TRỒNG L\xdaA) ",(0,a.jsx)("br",{}),"(g/ha/ng\xe0y)"]}),align:"left",children:[{id:"ctTrongRungBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongRungCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongRungAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongRungTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongRungTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongRungTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctTrongRungColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI DIỆN (TRỒNG L\xdaA)",(0,a.jsx)("br",{})," Lt_dien_TrongRung"]}),align:"left",children:[{id:"ltTrongRungBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongRungCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongRungAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongRungTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongRungTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongRungTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltTrongRungColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"ghiChu",label:"Ghi ch\xfa",rowspan:2,align:"left"},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],N=(0,i.useRef)(null),L=(0,i.useCallback)(async n=>{Z(n);try{let l=await (0,j.N)("".concat(n.phanDoanSong.fileKML)),e=(0,j.M)(l);e&&(s([e.center[0],e.center[1]]),T(e.zoom)),N.current&&N.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){p(!0),await (0,o.getData)("DuLieuNguonNuocThaiTrongRung/danh-sach").then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{p(!1)})})()},[y]),(0,i.useEffect)(()=>{b||(s([15.012172,108.676488]),T(9))},[b]),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,ref:N,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsxs)(d.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:[(0,a.jsx)(r.Z,{className:"map-legend",sx:{background:"white",px:2,zIndex:999,height:"auto",top:"15px"},children:(0,a.jsx)(g.Z,{children:(0,a.jsx)(x.Z,{sx:{m:0},control:(0,a.jsx)(u.Z,{sx:{p:1},onClick:()=>C(!f)}),label:"Hiển thị t\xean đoạn s\xf4ng"})})}),(0,a.jsx)(nr,{center:e,zoom:t,mapData:b,selectedKmlFile:b?b.phanDoanSong.fileKML:null,loading:S,showLabel:f,dischargeData:n})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,children:(0,a.jsxs)(d.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(h.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(h.ZP,{item:!0,children:(0,a.jsx)(H.Z,{tableId:"du-lieu-nguon-thai-gia-cam",filename:"dulieuthaigiacam.csv"})}),(0,a.jsx)(h.ZP,{item:!0,children:(0,a.jsx)(nc,{isEdit:!1,setPostSuccess:D})})]}),(0,a.jsx)(m.Z,{columns:P,rows:n,id:"phan_doan_song",loading:S,pagination:!0,actions:n=>(0,a.jsxs)(r.Z,{className:"group_btn",children:[(0,a.jsx)(nc,{isEdit:!0,data:n,setPostSuccess:D}),(0,a.jsx)(B.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:D})]})})]})})]})},nd=e(28907),ng=e(47687),nx=e(45670),nu=e(66568),nm=e(63144);let nj=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,c]=(0,i.useState)(!1),[d,g]=(0,i.useState)([]);console.log(l);let[x,u]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||"",dienTichThuySan:(null==l?void 0:l.dienTichThuySan)||0,heSoSuyGiam:(null==l?void 0:l.heSoSuyGiam)||0,ctThuySanBOD:(null==l?void 0:l.ctThuySanBOD)||0,ctThuySanCOD:(null==l?void 0:l.ctThuySanCOD)||0,ctThuySanAmoni:(null==l?void 0:l.ctThuySanAmoni)||0,ctThuySanTongN:(null==l?void 0:l.ctThuySanTongN)||0,ctThuySanTongP:(null==l?void 0:l.ctThuySanTongP)||0,ctThuySanTSS:(null==l?void 0:l.ctThuySanTSS)||0,ctThuySanColiform:(null==l?void 0:l.ctThuySanColiform)||0,ghiChu:(null==l?void 0:l.ghiChu)||""}),[m,j]=(0,i.useState)(!1),T=n=>l=>{u({...x,[n]:l})};(0,i.useEffect)(()=>{c(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{c(!1)}})()},[]);let b=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiThuySan/luu",x)&&(u({id:0,idPhanDoanSong:0,dienTichThuySan:0,heSoSuyGiam:0,ctThuySanBOD:0,ctThuySanCOD:0,ctThuySanAmoni:0,ctThuySanTongN:0,ctThuySanTongP:0,ctThuySanTSS:0,ctThuySanColiform:0,ghiChu:""}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(r.Z,{children:[(0,a.jsxs)(h.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(f.Z,{size:"small",options:d,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==d?void 0:d.find(n=>n.id===x.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(C.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(y.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Diện t\xedch thủy sản",fullWidth:!0,placeholder:"",value:x.dienTichThuySan||"",onChange:n=>T("dienTichThuySan")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Hệ số suy giảm dọc đường",fullWidth:!0,placeholder:"",value:x.heSoSuyGiam||"",onChange:n=>T("heSoSuyGiam")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải thủy sản"}),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:x.ctThuySanBOD||"",onChange:n=>T("ctThuySanBOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:x.ctThuySanCOD||"",onChange:n=>T("ctThuySanCOD")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:x.ctThuySanAmoni||"",onChange:n=>T("ctThuySanAmoni")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:x.ctThuySanTongN||"",onChange:n=>T("ctThuySanTongN")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:x.ctThuySanTongP||"",onChange:n=>T("ctThuySanTongP")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:x.ctThuySanTSS||"",onChange:n=>T("ctThuySanTSS")(n.target.value)})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:x.ctThuySanColiform||"",onChange:n=>T("ctThuySanColiform")(n.target.value)})})]})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsx)(C.Z,{size:"small",type:"text",label:"Ghi ch\xfa",fullWidth:!0,placeholder:"",value:x.ghiChu||"",onChange:n=>T("ghiChu")(n.target.value)})})]}),(0,a.jsxs)(v.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(D.Z,{size:"small",onClick:()=>{u({id:0,idPhanDoanSong:0,dienTichThuySan:0,heSoSuyGiam:0,ctThuySanBOD:0,ctThuySanCOD:0,ctThuySanAmoni:0,ctThuySanTongN:0,ctThuySanTongP:0,ctThuySanTSS:0,ctThuySanColiform:0,ghiChu:""}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(D.Z,{disabled:m,className:"btn saveBtn",onClick:b,children:[" ",m?(0,a.jsx)(y.Z,{color:"inherit",size:20}):(0,a.jsx)(Z.Z,{})," \xa0 Lưu"," "]})]})]})};var nT=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Th\xeam mới";return(0,a.jsx)(L.Z,{children:(n,t)=>(0,a.jsx)(r.Z,{children:i?(0,a.jsx)(P.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(N.Z,{onClick:()=>n((0,a.jsx)(nj,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(S.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(D.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(p.Z,{}),onClick:()=>n((0,a.jsx)(nj,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let nb=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var nZ=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,T]=(0,i.useState)(9.8),[b,Z]=(0,i.useState)(),[S,p]=(0,i.useState)(!1),[f,C]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),D=()=>{v(n=>!n)},P=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(c.Z,{className:"btnShowFilePdf",onClick:()=>L(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:(0,a.jsxs)(r.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(r.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (ha)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"dienTichThuySan",label:(0,a.jsxs)(r.Z,{children:["Diện t\xedch thủy sản",(0,a.jsx)("br",{})," (ha)"]}),rowspan:2,align:"left",minWidth:150},{id:"heSoSuyGiam",label:(0,a.jsxs)(r.Z,{children:["Hệ số suy giảm dọc đường ",(0,a.jsx)("br",{})," hay hệ số d\xf2ng chảy"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG \xd4 NHIỄM (PLU) NGUỒN THẢI DIỆN (THỦY SẢN) ",(0,a.jsx)("br",{}),"(g/ha/ng\xe0y)"]}),align:"left",children:[{id:"ctThuySanBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctThuySanCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctThuySanAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctThuySanTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctThuySanTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctThuySanTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctThuySanColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(r.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI DIỆN (TRỒNG L\xdaA)",(0,a.jsx)("br",{})," Lt_dien_ThuySan"]}),align:"left",children:[{id:"ltThuySanBOD",label:(0,a.jsxs)(r.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltThuySanCOD",label:(0,a.jsxs)(r.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltThuySanAmoni",label:(0,a.jsxs)(r.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltThuySanTongN",label:(0,a.jsxs)(r.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltThuySanTongP",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltThuySanTSS",label:(0,a.jsxs)(r.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltThuySanColiform",label:(0,a.jsxs)(r.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"ghiChu",label:"Ghi ch\xfa",rowspan:2,align:"left"},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],N=(0,i.useRef)(null),L=(0,i.useCallback)(async n=>{Z(n);try{let l=await (0,j.N)("".concat(n.phanDoanSong.fileKML)),e=(0,j.M)(l);e&&(s([e.center[0],e.center[1]]),T(e.zoom)),N.current&&N.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){p(!0),await (0,o.getData)("DuLieuNguonNuocThaiThuySan/danh-sach").then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{p(!1)})})()},[y]),(0,i.useEffect)(()=>{b||(s([15.012172,108.676488]),T(9))},[b]),(0,a.jsxs)(h.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(h.ZP,{item:!0,xs:12,md:12,ref:N,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsxs)(d.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:[(0,a.jsx)(r.Z,{className:"map-legend",sx:{background:"white",px:2,zIndex:999,height:"auto",top:"15px"},children:(0,a.jsx)(g.Z,{children:(0,a.jsx)(x.Z,{sx:{m:0},control:(0,a.jsx)(u.Z,{sx:{p:1},onClick:()=>C(!f)}),label:"Hiển thị t\xean đoạn s\xf4ng"})})}),(0,a.jsx)(nb,{center:e,zoom:t,mapData:b,selectedKmlFile:b?b.phanDoanSong.fileKML:null,loading:S,showLabel:f,dischargeData:n})]})}),(0,a.jsx)(h.ZP,{item:!0,xs:12,children:(0,a.jsxs)(d.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(h.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(h.ZP,{item:!0,children:(0,a.jsx)(H.Z,{tableId:"du-lieu-nguon-thai-gia-cam",filename:"dulieuthaigiacam.csv"})}),(0,a.jsx)(h.ZP,{item:!0,children:(0,a.jsx)(nT,{isEdit:!1,setPostSuccess:D})})]}),(0,a.jsx)(m.Z,{columns:P,rows:n,id:"phan_doan_song",loading:S,pagination:!0,actions:n=>(0,a.jsxs)(r.Z,{className:"group_btn",children:[(0,a.jsx)(nT,{isEdit:!0,data:n,setPostSuccess:D}),(0,a.jsx)(B.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:D})]})})]})})]})},nS=()=>{let[n,l]=(0,i.useState)("1");return(0,a.jsx)(ng.Z,{container:!0,spacing:2,children:(0,a.jsx)(ng.Z,{xs:12,md:12,children:(0,a.jsxs)(nx.ZP,{value:n,children:[(0,a.jsx)(r.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,a.jsxs)(nu.Z,{onChange:(n,e)=>{l(e)},"aria-label":"ground water reserve",children:[(0,a.jsx)(nd.Z,{label:"NGUỒN THẢI ĐIỂM ",value:"1"}),(0,a.jsx)(nd.Z,{label:"NGUỒN SINH HOẠT",value:"2"}),(0,a.jsx)(nd.Z,{label:"NGUỒN GIA S\xdaC ",value:"3"}),(0,a.jsx)(nd.Z,{label:"NGUỒN LỢN, GIA S\xdaC KH\xc1C ",value:"4"}),(0,a.jsx)(nd.Z,{label:"NGUỒN GIA CẦM ",value:"5"}),(0,a.jsx)(nd.Z,{label:"NGUỒN TRỒNG L\xdaA ",value:"6"}),(0,a.jsx)(nd.Z,{label:"NGUỒN TRỒNG C\xc2Y",value:"7"}),(0,a.jsx)(nd.Z,{label:"NGUỒN TRỒNG RỪNG ",value:"8"}),(0,a.jsx)(nd.Z,{label:"NGUỒN Thủy Sản ",value:"9"})]})}),(0,a.jsx)(nm.Z,{value:"1",children:(0,a.jsx)(I,{})}),(0,a.jsx)(nm.Z,{value:"2",children:(0,a.jsx)(R,{})}),(0,a.jsx)(nm.Z,{value:"3",children:(0,a.jsx)(_,{})}),(0,a.jsx)(nm.Z,{value:"4",children:(0,a.jsx)(Y,{})}),(0,a.jsx)(nm.Z,{value:"5",children:(0,a.jsx)(J,{})}),(0,a.jsx)(nm.Z,{value:"6",children:(0,a.jsx)(ne,{})}),(0,a.jsx)(nm.Z,{value:"7",children:(0,a.jsx)(nt,{})}),(0,a.jsx)(nm.Z,{value:"8",children:(0,a.jsx)(nh,{})}),(0,a.jsx)(nm.Z,{value:"9",children:(0,a.jsx)(nZ,{})})]})})})}}}]);