(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2527],{63323:function(){L.KML=L.FeatureGroup.extend({initialize:function(e){this._kml=e,this._layers={},e&&this.addKML(e)},addKML:function(e){var n=L.KML.parseKML(e);if(n&&n.length){for(var t=0;t<n.length;t++)this.fire("addlayer",{layer:n[t]}),this.addLayer(n[t]);this.latLngs=L.KML.getLatLngs(e),this.fire("loaded")}},latLngs:[]}),L.Util.extend(L.KML,{parseKML:function(e){var n=this.parseStyles(e);this.parseStyleMap(e,n);for(var t,r=e.getElementsByTagName("Folder"),i=[],a=0;a<r.length;a++)this._check_folder(r[a])&&(t=this.parseFolder(r[a],n))&&i.push(t);r=e.getElementsByTagName("Placemark");for(var l=0;l<r.length;l++)this._check_folder(r[l])&&(t=this.parsePlacemark(r[l],e,n))&&i.push(t);r=e.getElementsByTagName("GroundOverlay");for(var o=0;o<r.length;o++)(t=this.parseGroundOverlay(r[o]))&&i.push(t);return i},_check_folder:function(e,n){for(e=e.parentNode;e&&"Folder"!==e.tagName;)e=e.parentNode;return!e||e===n},parseStyles:function(e){for(var n={},t=e.getElementsByTagName("Style"),r=0,i=t.length;r<i;r++){var a=this.parseStyle(t[r]);a&&(n["#"+a.id]=a)}return n},parseStyle:function(e){var n,t,r={},i={},a={},l={color:!0,width:!0,Icon:!0,href:!0,hotSpot:!0};function o(e){for(var n={},t=0;t<e.childNodes.length;t++){var r=e.childNodes[t],i=r.tagName;if(l[i]){if("hotSpot"===i)for(var s=0;s<r.attributes.length;s++)n[r.attributes[s].name]=r.attributes[s].nodeValue;else{var c=r.childNodes[0].nodeValue;"color"===i?(n.opacity=parseInt(c.substring(0,2),16)/255,n.color="#"+c.substring(6,8)+c.substring(4,6)+c.substring(2,4)):"width"===i?n.weight=c:"Icon"===i?(a=o(r)).href&&(n.href=a.href):"href"===i&&(n.href=c)}}}return n}return(n=e.getElementsByTagName("LineStyle"))&&n[0]&&(r=o(n[0])),(n=e.getElementsByTagName("PolyStyle"))&&n[0]&&(i=o(n[0])),i.color&&(r.fillColor=i.color),i.opacity&&(r.fillOpacity=i.opacity),(n=e.getElementsByTagName("IconStyle"))&&n[0]&&(a=o(n[0])),a.href&&(r.icon=new L.KMLIcon({iconUrl:a.href,shadowUrl:null,anchorRef:{x:a.x,y:a.y},anchorType:{x:a.xunits,y:a.yunits}})),(t=e.getAttribute("id"))&&r&&(r.id=t),r},parseStyleMap:function(e,n){for(var t=e.getElementsByTagName("StyleMap"),r=0;r<t.length;r++){var i,a,l,o=t[r];(l=o.getElementsByTagName("key"))&&l[0]&&(i=l[0].textContent),(l=o.getElementsByTagName("styleUrl"))&&l[0]&&(a=l[0].textContent),"normal"===i&&(n["#"+o.getAttribute("id")]=n[a])}},parseFolder:function(e,n){var t,r,i=[];t=e.getElementsByTagName("Folder");for(var a=0;a<t.length;a++)this._check_folder(t[a],e)&&(r=this.parseFolder(t[a],n))&&i.push(r);t=e.getElementsByTagName("Placemark");for(var l=0;l<t.length;l++)this._check_folder(t[l],e)&&(r=this.parsePlacemark(t[l],e,n))&&i.push(r);t=e.getElementsByTagName("GroundOverlay");for(var o=0;o<t.length;o++)this._check_folder(t[o],e)&&(r=this.parseGroundOverlay(t[o]))&&i.push(r);return i.length?1===i.length?i[0]:new L.FeatureGroup(i):void 0},parsePlacemark:function(e,n,t,r){var i,a,l,o,s,c=r||{};for(a=0,s=e.getElementsByTagName("styleUrl");a<s.length;a++){var d=s[a].childNodes[0].nodeValue;for(var u in t[d])c[u]=t[d][u]}if(e.getElementsByTagName("Style")[0]){var h=this.parseStyle(e);if(h)for(o in h)c[o]=h[o]}var g=["MultiGeometry","MultiTrack","gx:MultiTrack"];for(i in g)for(a=0,s=e.getElementsByTagName(g[i]);a<s.length;a++)return this.parsePlacemark(s[a],n,t,c);var m=[],p=["LineString","Polygon","Point","Track","gx:Track"];for(l in p){var f=p[l];for(a=0,s=e.getElementsByTagName(f);a<s.length;a++){var x=this["parse"+f.replace(/gx:/,"")](s[a],n,c);x&&m.push(x)}}if(m.length){var y=m[0];m.length>1&&(y=new L.FeatureGroup(m));var Z,j="";for((s=e.getElementsByTagName("name")).length&&s[0].childNodes.length&&(Z=s[0].childNodes[0].nodeValue),s=e.getElementsByTagName("description"),a=0;a<s.length;a++)for(l=0;l<s[a].childNodes.length;l++)j+=s[a].childNodes[l].nodeValue;return Z&&y.on("add",function(){y.bindPopup("<h2>"+Z+"</h2>"+j,{className:"kml-popup"})}),y}},parseCoords:function(e){var n=e.getElementsByTagName("coordinates");return this._read_coords(n[0])},parseLineString:function(e,n,t){var r=this.parseCoords(e);if(r.length)return new L.Polyline(r,t)},parseTrack:function(e,n,t){var r=n.getElementsByTagName("gx:coord");0===r.length&&(r=n.getElementsByTagName("coord"));for(var i=[],a=0;a<r.length;a++)i=i.concat(this._read_gxcoords(r[a]));if(i.length)return new L.Polyline(i,t)},parsePoint:function(e,n,t){var r=e.getElementsByTagName("coordinates");if(r.length){var i=r[0].childNodes[0].nodeValue.split(",");return new L.KMLMarker(new L.LatLng(i[1],i[0]),t)}},parsePolygon:function(e,n,t){var r,i,a,l=[],o=[];for(i=0,r=e.getElementsByTagName("outerBoundaryIs");i<r.length;i++)(a=this.parseCoords(r[i]))&&l.push(a);for(i=0,r=e.getElementsByTagName("innerBoundaryIs");i<r.length;i++)(a=this.parseCoords(r[i]))&&o.push(a);return l.length?(t.fillColor&&(t.fill=!0),1===l.length)?new L.Polygon(l.concat(o),t):new L.MultiPolygon(l,t):void 0},getLatLngs:function(e){for(var n=e.getElementsByTagName("coordinates"),t=[],r=0;r<n.length;r++)t=t.concat(this._read_coords(n[r]));return t},_read_coords:function(e){var n,t="",r=[];for(n=0;n<e.childNodes.length;n++)t+=e.childNodes[n].nodeValue;for(n=0,t=t.split(/[\s\n]+/);n<t.length;n++){var i=t[n].split(",");i.length<2||r.push(new L.LatLng(i[1],i[0]))}return r},_read_gxcoords:function(e){var n="",t=[];return n=e.firstChild.nodeValue.split(" "),t.push(new L.LatLng(n[1],n[0])),t},parseGroundOverlay:function(e){var n=e.getElementsByTagName("LatLonBox")[0],t=new L.LatLngBounds([n.getElementsByTagName("south")[0].childNodes[0].nodeValue,n.getElementsByTagName("west")[0].childNodes[0].nodeValue],[n.getElementsByTagName("north")[0].childNodes[0].nodeValue,n.getElementsByTagName("east")[0].childNodes[0].nodeValue]),r={Icon:!0,href:!0,color:!0},i={};if(i=function e(n){for(var t={},i={},a=0;a<n.childNodes.length;a++){var l=n.childNodes[a],o=l.tagName;if(r[o]){var s=l.childNodes[0].nodeValue;"Icon"===o?(i=e(l)).href&&(t.href=i.href):"href"===o?t.href=s:"color"===o&&(t.opacity=parseInt(s.substring(0,2),16)/255,t.color="#"+s.substring(6,8)+s.substring(4,6)+s.substring(2,4))}}return t}(e),void 0!==n.getElementsByTagName("rotation")[0]){var a=n.getElementsByTagName("rotation")[0].childNodes[0].nodeValue;i.rotation=parseFloat(a)}return new L.RotatedImageOverlay(i.href,t,{opacity:i.opacity,angle:i.rotation})}}),L.KMLIcon=L.Icon.extend({options:{iconSize:[32,32],iconAnchor:[16,16]},_setIconStyles:function(e,n){L.Icon.prototype._setIconStyles.apply(this,[e,n]),e.complete?this.applyCustomStyles(e):e.onload=this.applyCustomStyles.bind(this,e)},applyCustomStyles:function(e){var n=this.options;this.options.popupAnchor=[0,-.83*e.height],"fraction"===n.anchorType.x&&(e.style.marginLeft=-n.anchorRef.x*e.width+"px"),"fraction"===n.anchorType.y&&(e.style.marginTop=-(1-n.anchorRef.y)*e.height+1+"px"),"pixels"===n.anchorType.x&&(e.style.marginLeft=-n.anchorRef.x+"px"),"pixels"===n.anchorType.y&&(e.style.marginTop=n.anchorRef.y-e.height+1+"px")}}),L.KMLMarker=L.Marker.extend({options:{icon:new L.KMLIcon.Default}}),L.RotatedImageOverlay=L.ImageOverlay.extend({options:{angle:0},_reset:function(){L.ImageOverlay.prototype._reset.call(this),this._rotate()},_animateZoom:function(e){L.ImageOverlay.prototype._animateZoom.call(this,e),this._rotate()},_rotate:function(){if(L.DomUtil.TRANSFORM)this._image.style[L.DomUtil.TRANSFORM]+=" rotate("+this.options.angle+"deg)";else if(L.Browser.ie){var e=this.options.angle*(Math.PI/180),n=Math.cos(e),t=Math.sin(e);this._image.style.filter+=" progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand', M11="+n+", M12="+-t+", M21="+t+", M22="+n+")"}},getBounds:function(){return this._bounds}})},87210:function(e,n,t){"use strict";t.d(n,{S:function(){return i}});var r=t(74579);t(58954);var i=(0,r.dW)(e=>({instance:L.bingLayer(e.bingkey,e)}))},58954:function(){L.BingLayer=L.TileLayer.extend({options:{subdomains:[0,1,2,3],type:"Aerial",attribution:"Bing",culture:"",style:""},initialize:function(e,n){L.Util.setOptions(this,n),this._bing_key=e,this._url=null,this._providers=[],this.metaRequested=!1},tile2quad:function(e,n,t){for(var r="",i=t;i>0;i--){var a=0,l=1<<i-1;(e&l)!=0&&(a+=1),(n&l)!=0&&(a+=2),r+=a}return r},getTileUrl:function(e){var n=this._getZoomForUrl(),t=this.options.subdomains,r=this.options.subdomains[Math.abs((e.x+e.y)%t.length)];return this._url.replace("{subdomain}",r).replace("{quadkey}",this.tile2quad(e.x,e.y,n)).replace("{culture}",this.options.culture)},loadMetadata:function(){if(this.metaRequested)return;this.metaRequested=!0;let e=this;var n="_bing_metadata_"+L.Util.stamp(this);window[n]=function(t){window[n]=void 0;var r=document.getElementById(n);if(r.parentNode.removeChild(r),t.errorDetails){console.log(t.errorDetails);return}e.initMetadata(t)};var t="file:"===document.location.protocol?"http":document.location.protocol.slice(0,-1),r=t+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+n+"&key="+this._bing_key+"&UriScheme="+t+"&culture="+this.options.culture+"&style="+this.options.style,i=document.createElement("script");i.type="text/javascript",i.src=r,i.id=n,document.getElementsByTagName("head")[0].appendChild(i)},initMetadata:function(e){var n=e.resourceSets[0].resources[0];if(this.options.subdomains=n.imageUrlSubdomains,this._url=n.imageUrl,n.imageryProviders)for(var t=0;t<n.imageryProviders.length;t++)for(var r=n.imageryProviders[t],i=0;i<r.coverageAreas.length;i++){var a=r.coverageAreas[i],l={zoomMin:a.zoomMin,zoomMax:a.zoomMax,active:!1};if(void 0!=a.bbox)var o=new L.LatLngBounds(new L.LatLng(a.bbox[0]+.01,a.bbox[1]+.01),new L.LatLng(a.bbox[2]-.01,a.bbox[3]-.01));l.bounds=o,l.attrib=r.attribution,this._providers.push(l)}this._update()},_update:function(){null!==this._url&&this._map&&(this._update_attribution(),L.TileLayer.prototype._update.apply(this,[]))},_update_attribution:function(){for(var e=this._map.getZoom(),n=0;n<this._providers.length;n++){var t=this._providers[n];e<=t.zoomMax&&e>=t.zoomMin?(!t.active&&this._map.attributionControl&&this._map.attributionControl.addAttribution(t.attrib),t.active=!0):(t.active&&this._map.attributionControl&&this._map.attributionControl.removeAttribution(t.attrib),t.active=!1)}},onAdd:function(e){this.loadMetadata(),L.TileLayer.prototype.onAdd.apply(this,[e])},onRemove:function(e){for(var n=0;n<this._providers.length;n++){var t=this._providers[n];t.active&&this._map.attributionControl&&(this._map.attributionControl.removeAttribution(t.attrib),t.active=!1)}L.TileLayer.prototype.onRemove.apply(this,[e])}}),L.bingLayer=function(e,n){return new L.BingLayer(e,n)}},42539:function(e,n,t){"use strict";t.d(n,{D:function(){return i}});var r=t(57679);let i=(e,n)=>{var t,i;if(n>=-180&&n<=180&&e>=-90&&e<=90)return[e,n];r.Z.defs("VN2000_QUANG_NGAI","+proj=tmerc +lat_0=0 +lon_0=108.000 +k=0.9999 +x_0=500000 +y_0=0 +ellps=WGS84 +towgs84=-191.90441429,-39.30318279,-111.45032835,-0.00928836,0.01975479,-0.00427372,0.252906278 +units=m +no_defs");let a=r.Z.defs("VN2000_QUANG_NGAI"),l=r.Z.defs("EPSG:4326"),o=a&&(null===(t=a.units)||void 0===t?void 0:t.to_meter)||1,s=l&&(null===(i=l.units)||void 0===i?void 0:i.to_meter)||1,c=r.Z.toPoint([e/o,n/o]),d=(0,r.Z)(a,l).forward(c);return d.x*=s.toFixed(8),d.y*=s.toFixed(8),[d.y,d.x]}},32527:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return M}});var r=t(85893),i=t(67294),a=t(32342),l=t(5715),o=t(26467),s=t(20577),c=t(64049),d=t(32604);t(53183);var u=t(59152),h=t.n(u),g=t(87210),m=t(23759),p=t(96788),f=t(25026),x=t(93454),y=t(76592),Z=t(70360),j=t(46577),v=t(8863),N=t(19827),T=t(60990),_=t(37318),b=t(11163),D=e=>{let{popupData:n}=e;console.log(n);let t=(0,b.useRouter)(),i=(0,r.jsx)(f.Z,{component:x.Z,children:(0,r.jsxs)(y.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,r.jsx)(Z.Z,{children:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(v.Z,{align:"center",children:"KNTN BoD"}),(0,r.jsx)(v.Z,{align:"center",children:"KNTN COD"}),(0,r.jsx)(v.Z,{align:"center",children:"KNTN Amoni"}),(0,r.jsx)(v.Z,{align:"center",children:"KNTN Tổng N"}),(0,r.jsx)(v.Z,{align:"center",children:"KNTN Tổng P"}),(0,r.jsx)(v.Z,{align:"center",children:"KNTN TSS "}),(0,r.jsx)(v.Z,{align:"center",children:"KNTN Coliform "})]})}),(0,r.jsx)(N.Z,{children:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltnBod)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltnCod)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltnAmoni)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltnTongN)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltnTongP)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltnTSS)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltnColiform)})]})})]})}),a=(0,r.jsx)(f.Z,{component:x.Z,children:(0,r.jsxs)(y.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,r.jsxs)(Z.Z,{children:[(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(v.Z,{align:"center",colSpan:7,children:"Tải lượng \xf4 nhiễm nguồn nước hiện c\xf3"}),(0,r.jsx)(v.Z,{align:"center",colSpan:7,children:"Tải lượng tối đa của th\xf4ng số chất lượng nước mặt"})]}),(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(v.Z,{align:"center",children:"Lnn BOD"}),(0,r.jsx)(v.Z,{align:"center",children:"Lnn COD"}),(0,r.jsx)(v.Z,{align:"center",children:"Lnn Amoni"}),(0,r.jsx)(v.Z,{align:"center",children:"Lnn Tổng N"}),(0,r.jsx)(v.Z,{align:"center",children:"Lnn Tổng P"}),(0,r.jsx)(v.Z,{align:"center",children:"Lnn TSS "}),(0,r.jsx)(v.Z,{align:"center",children:"Lnn Coliform "}),(0,r.jsx)(v.Z,{align:"center",children:"Ltd BOD"}),(0,r.jsx)(v.Z,{align:"center",children:"Ltd COD"}),(0,r.jsx)(v.Z,{align:"center",children:"Ltd Amoni"}),(0,r.jsx)(v.Z,{align:"center",children:"Ltd Tổng N"}),(0,r.jsx)(v.Z,{align:"center",children:"Ltd Tổng P"}),(0,r.jsx)(v.Z,{align:"center",children:"Ltd TSS "}),(0,r.jsx)(v.Z,{align:"center",children:"Ltd Coliform "})]})]}),(0,r.jsx)(N.Z,{children:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.lnnBOD)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.lnnCOD)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.lnnAmoni)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.lnnTongN)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.lnnTongP)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.lnnTSS)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.lnnColiform)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltdBOD)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltdCOD)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltdAmoni)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltdTongN)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltdTongP)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltdTSS)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltdColiform)})]})})]})}),l=(0,r.jsx)(f.Z,{component:x.Z,children:(0,r.jsxs)(y.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,r.jsx)(Z.Z,{children:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(v.Z,{align:"center",children:"Lt_diem BOD"}),(0,r.jsx)(v.Z,{align:"center",children:"Lt_diem COD"}),(0,r.jsx)(v.Z,{align:"center",children:"Lt_diem Amoni"}),(0,r.jsx)(v.Z,{align:"center",children:"Lt_diem Tổng N"}),(0,r.jsx)(v.Z,{align:"center",children:"Lt_diem Tổng P"}),(0,r.jsx)(v.Z,{align:"center",children:"Lt_diem TSS "}),(0,r.jsx)(v.Z,{align:"center",children:"Lt_diem Coliform "})]})}),(0,r.jsx)(N.Z,{children:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltdiemBOD)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltdiemCOD)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltdiemAmoni)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltdiemTongN)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltdiemTongP)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltdiemTSS)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltdiemColiform)})]})})]})}),o=(0,r.jsx)(f.Z,{component:x.Z,children:(0,r.jsxs)(y.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,r.jsxs)(Z.Z,{children:[(0,r.jsx)(v.Z,{align:"center",colSpan:7,children:"TỔNG TẢI LƯỢNG \xd4 NHIỄM CỦA NGUỒN NƯỚC THẢI"}),(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(v.Z,{align:"center",children:"Lt BOD"}),(0,r.jsx)(v.Z,{align:"center",children:"Lt COD"}),(0,r.jsx)(v.Z,{align:"center",children:"Lt Amoni"}),(0,r.jsx)(v.Z,{align:"center",children:"Lt Tổng N"}),(0,r.jsx)(v.Z,{align:"center",children:"Lt Tổng P"}),(0,r.jsx)(v.Z,{align:"center",children:"Lt TSS "}),(0,r.jsx)(v.Z,{align:"center",children:"Lt Coliform "})]})]}),(0,r.jsx)(N.Z,{children:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltBod)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltCod)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltAmoni)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltTongN)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltTongP)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltTSS)}),(0,r.jsx)(v.Z,{align:"center",children:(0,_.Z)(n.ltColiform)})]})})]})}),s=(0,r.jsx)(f.Z,{component:x.Z,children:(0,r.jsxs)(y.Z,{"aria-label":"table B",children:[(0,r.jsx)(Z.Z,{children:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(v.Z,{align:"center",children:"Ph\xe2n đoạn s\xf4ng"}),(0,r.jsx)(v.Z,{align:"center",children:"Chiều d\xe0i đoạn s\xf4ng"})]})}),(0,r.jsxs)(N.Z,{children:[(0,r.jsx)(v.Z,{align:"center",children:n.phanDoan}),(0,r.jsx)(v.Z,{align:"center",children:n.chieuDai})]})]})});return(0,r.jsxs)(T.Z,{children:[(0,r.jsx)(p.Z,{className:"text-table",sx:{textAlign:"center"},children:n.tenDoanSong}),"kha-nang-tiep-nhan-nuoc-thai-song"==t.query.type?i:"phan-doan-song"==t.query.type?s:"du-lieu-nguon-nhan"==t.query.type?a:"du-lieu-nguon-thai"==t.query.type?l:"tai-luong-o-nhiem"==t.query.type?o:null]})},S=t(42539),C=e=>{let{popupData:n}=e;return(0,r.jsx)(T.Z,{children:(0,r.jsx)(f.Z,{component:x.Z,children:(0,r.jsxs)(y.Z,{"aria-label":"table B",children:[(0,r.jsxs)(Z.Z,{className:"tableHead",children:[(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(v.Z,{rowSpan:2,align:"center",children:"K\xfd hiệu NM"}),(0,r.jsx)(v.Z,{rowSpan:2,align:"center",children:"Đợt"}),(0,r.jsx)(v.Z,{colSpan:13,align:"center",children:"Th\xf4ng số"})]}),(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(v.Z,{align:"center",children:"PH"}),(0,r.jsx)(v.Z,{align:"center",children:"DO(mg/l)"}),(0,r.jsx)(v.Z,{align:"center",children:"TSS(mg/l)"}),(0,r.jsx)(v.Z,{align:"center",children:"BOD5 (mg/l)"}),(0,r.jsx)(v.Z,{align:"center",children:"COD (mg/l)"}),(0,r.jsxs)(v.Z,{align:"center",children:["NO",(0,r.jsx)("sub",{children:"3"}),"- ",(0,r.jsx)("sup",{children:"- "}),"N (mg/l)"]}),(0,r.jsxs)(v.Z,{align:"center",children:["NO",(0,r.jsx)("sub",{children:"2"}),"- ",(0,r.jsx)("sup",{children:"- "}),"N (mg/l)"]}),(0,r.jsxs)(v.Z,{align:"center",children:["PO",(0,r.jsx)("sub",{children:"4"}),"3- ",(0,r.jsx)("sub",{children:"- "}),"N (mg/l)"]}),(0,r.jsxs)(v.Z,{align:"center",children:["NH",(0,r.jsx)("sub",{children:"4"}),"+ ",(0,r.jsx)("sup",{children:"- "}),"N (mg/l)"]}),(0,r.jsx)(v.Z,{align:"center",children:"Cl- (mg/l)"}),(0,r.jsx)(v.Z,{align:"center",children:"Fe(mg/l)"}),(0,r.jsx)(v.Z,{align:"center",children:"Coliform (MPN/100ml) "})]})]}),(0,r.jsx)(N.Z,{children:(0,r.jsxs)(j.Z,{children:[(0,r.jsx)(v.Z,{align:"center",children:n.diemQuanTrac.tenDiemDo}),(0,r.jsx)(v.Z,{align:"center",children:n.dot}),(0,r.jsx)(v.Z,{align:"center",children:n.ph}),(0,r.jsx)(v.Z,{align:"center",children:n.do}),(0,r.jsx)(v.Z,{align:"center",children:n.tss}),(0,r.jsx)(v.Z,{align:"center",children:n.bod}),(0,r.jsx)(v.Z,{align:"center",children:n.cod}),(0,r.jsx)(v.Z,{align:"center",children:n.nO3}),(0,r.jsx)(v.Z,{align:"center",children:n.nO2}),(0,r.jsx)(v.Z,{align:"center",children:n.pO4}),(0,r.jsx)(v.Z,{align:"center",children:n.nH4}),(0,r.jsx)(v.Z,{align:"center",children:n.cl}),(0,r.jsx)(v.Z,{align:"center",children:n.fe}),(0,r.jsx)(v.Z,{align:"center",children:n.coliform})]})})]})})})};let{BaseLayer:B}=a.LayersControl,k=e=>new L.Icon({iconUrl:e,iconSize:[18,18],iconAnchor:[18,18],popupAnchor:[-9,-18]}),O=e=>{if(e||null!==e)switch(e){case"Thuydien":return k("/images/icon/thuydien.png");case"CCN":return k("/images/icon/cumcn.png");case"Yte":return k("/images/icon/cs_benhvien.png");case"TTTM":return k("/images/icon/tttm.png");case"Khudancu":return k("/images/icon/khudancu.png");case"Cang":return k("/images/icon/cang.png");case"Congty":return k("/images/icon/congty.png");case"Khachsan":return k("/images/icon/khachsan.png");default:return k("/images/icon/marker.png")}};function M(e){let{center:n,zoom:t,selectedKmlFile:u,mapData:f,dischargeData:x,selectedFilter:y,filterData:Z,showLabel:j,filterDatas:v,industrialZoneKmlFiles:N}=e,T=(0,b.useRouter)(),[_]=(0,i.useState)("AuhiCJHlGzhg93IqUH_oCpl_-ZUrIE6SPftlyGYUvr9Amx5nzA-WqGcPquyFZl4L"),[M,E]=(0,i.useState)([]),[P,w]=(0,i.useState)(null),[A,I]=(0,i.useState)([]),[F,K]=(0,i.useState)([]),q=(0,i.useMemo)(()=>"kml-".concat(Date.now()),[u,y,F]);(0,i.useEffect)(()=>{let e=["".concat(T.basePath,"/kml/doansong/phandoansong79song_QN.kml"),"".concat(T.basePath,"/kml/tinh-quangngai.kml")];(async()=>{E((await Promise.all(e.map(async e=>await (0,m.N)(e)))).filter(e=>null!==e))})()},[T.basePath]),(0,i.useEffect)(()=>{(async()=>{N&&N.length>0?K((await Promise.all(N.map(async e=>{let n=await (0,m.N)(e);return n&&G(n,"FFFF00"),n}))).filter(e=>null!==e)):K([])})()},[N]),(0,i.useEffect)(()=>{u&&(async()=>{let e=await (0,m.N)(u);e&&G(e,"FFFF00"),w(e)})()},[u]),(0,i.useEffect)(()=>{(async()=>{if(y&&x){let e=x.map(e=>e.fileKML),n=await Promise.all(e.map(e=>(0,m.N)(e)));n.forEach((e,n)=>{e&&G(e,x[n][y]<0?"ff0000ff":"FFFF00")}),I(n.filter(e=>null!==e))}else I([])})()},[y,x]);let G=(e,n)=>{let t=null!=e?e.getElementsByTagName("LineStyle"):[];for(let e=0;e<t.length;e++){let r=t[e].getElementsByTagName("color")[0];r&&(r.textContent=n)}};return(0,r.jsxs)(l.h,{attributionControl:!1,center:n,zoom:t,style:{height:"100%"},children:[(0,r.jsxs)(a.LayersControl,{position:"bottomright",children:[(0,r.jsx)(B,{name:"Bản đồ h\xe0nh ch\xednh",children:(0,r.jsx)(o.I,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),(0,r.jsx)(B,{name:"Bản đồ đường",children:(0,r.jsx)(g.S,{bingkey:_,type:"Road"})}),(0,r.jsx)(B,{checked:!0,name:"Bản đồ vệ tinh",children:(0,r.jsx)(g.S,{bingkey:_,type:"AerialWithLabels"})})]}),j&&x.map((e,n)=>{if("du-lieu-nguon-thai"===T.query.type||"du-lieu-nguon-nhan"===T.query.type){var t,i;return(0,S.D)(null==e?void 0:null===(t=e.phanDoanSong)||void 0===t?void 0:t.xDau,null==e?void 0:null===(i=e.phanDoanSong)||void 0===i?void 0:i.yDau)?(0,r.jsx)(s.J,{position:[(0,S.D)(null==e?void 0:e.phanDoanSong.xDau,null==e?void 0:e.phanDoanSong.yDau)[0],(0,S.D)(null==e?void 0:e.phanDoanSong.xDau,null==e?void 0:e.phanDoanSong.yDau)[1]],icon:k("/images/icon/marker.png"),children:(0,r.jsx)(c.u,{direction:"top",offset:[-10,-18],opacity:1,permanent:!0,children:e.phanDoanSong.id})},n):null}{let t=(0,S.D)(null==e?void 0:e.xDau,null==e?void 0:e.yDau);return t?(0,r.jsx)(s.J,{position:[t[0],t[1]],icon:k("/images/icon/marker.png"),children:(0,r.jsx)(c.u,{direction:"top",offset:[-10,-18],opacity:1,permanent:!0,children:e.id})},n):null}}),null!=u&&(0,r.jsxs)(s.J,{icon:k("/images/icon/marker.png"),position:n,children:[(0,r.jsx)(c.u,{direction:"top",offset:[-10,-18],opacity:1,children:"kha-nang-tiep-nhan-nuoc-thai-song"===T.query.type?f.phanDoan:"tai-luong-o-nhiem"===T.query.type?f.phanDoan:"du-lieu-nguon-nhan"===T.query.type?f.phanDoanSong.phanDoan:"du-lieu-nguon-thai"===T.query.type?f.phanDoanSong.phanDoan:""}),(0,r.jsxs)(d.G,{children:[(0,r.jsx)(p.Z,{sx:{color:"#035291",textAlign:"center",fontWeight:"bold",margin:"0 !important"},children:"kha-nang-tiep-nhan-nuoc-thai-song"===T.query.type?f.phanDoan:"tai-luong-o-nhiem"===T.query.type?f.phanDoan:"du-lieu-nguon-nhan"===T.query.type?f.phanDoanSong.phanDoan:"du-lieu-nguon-thai"===T.query.type?f.phanDoanSong.phanDoan:""}),(0,r.jsx)(D,{popupData:f})]})]},1),Z&&(null==Z?void 0:Z.map(e=>null!==e.toaDoX||null!==e.toaDoY?(0,r.jsx)(s.J,{icon:O(e.loai||""),position:[(0,S.D)(null==e?void 0:e.toaDoY,null==e?void 0:e.toaDoX)[0],(0,S.D)(e.toaDoY,e.toaDoX)[1]],children:(0,r.jsxs)(d.G,{children:[(0,r.jsx)(p.Z,{sx:{color:"#035291",textAlign:"center",fontWeight:"bold",margin:"0 !important"},children:e.ten}),(0,r.jsxs)(p.Z,{sx:{textAlign:"center",fontSize:12,margin:"0 !important"},children:["Kinh độ (X):",e.toaDoY," \xa0 Vĩ độ (Y):",e.toaDoX]}),(0,r.jsxs)(p.Z,{sx:{textAlign:"center",fontSize:12,margin:"0 !important"},children:["Vị tr\xed: ",e.viTri]})]})},e.id):null)),v&&(null==v?void 0:v.map(e=>null!==e.diemQuanTrac.toaDoX||null!==e.diemQuanTrac.toaDoY?(0,r.jsx)(s.J,{icon:k("/images/icon/marker.png"),position:[(0,S.D)(null==e?void 0:e.diemQuanTrac.toaDoY,null==e?void 0:e.diemQuanTrac.toaDoX)[0],(0,S.D)(e.diemQuanTrac.toaDoY,e.diemQuanTrac.toaDoX)[1]],children:(0,r.jsxs)(d.G,{children:[(0,r.jsx)(p.Z,{sx:{color:"#035291",textAlign:"center",fontWeight:"bold",margin:"0 !important"},children:e.diemQuanTrac.tenDiemDo}),(0,r.jsxs)(p.Z,{sx:{textAlign:"center",fontSize:12,margin:"0 !important"},children:["Kinh độ (X):",e.diemQuanTrac.toaDoX," \xa0 Vĩ độ (Y):",e.diemQuanTrac.toaDoY]}),(0,r.jsxs)(p.Z,{sx:{textAlign:"center",fontSize:12,margin:"0 !important"},children:["Vị tr\xed điểm đo:",e.diemQuanTrac.viTriQuanTrac]}),(0,r.jsx)(C,{popupData:e})]})},e.id):null)),null==M?void 0:M.map((e,n)=>e&&(0,r.jsx)(h(),{kml:e},"default-".concat(n))),P&&(0,r.jsx)(h(),{kml:P},"selected-".concat(Date.now())),null==A?void 0:A.map(e=>e&&(0,r.jsx)(h(),{kml:e},"filtered-".concat(Date.now()))),F.map(e=>e&&(0,r.jsx)(h(),{kml:e},"industrial-kml-".concat(Date.now())))]},q)}},59152:function(e,n,t){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t);var i=Object.getOwnPropertyDescriptor(n,t);(!i||("get"in i?!n.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,i)}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),i=this&&this.__setModuleDefault||(Object.create?function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}:function(e,n){e.default=n}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)"default"!==t&&Object.prototype.hasOwnProperty.call(e,t)&&r(n,e,t);return i(n,e),n};Object.defineProperty(n,"__esModule",{value:!0}),t(63323);var l=a(t(45243)),o=t(80234),s=function(e){e.options.preferCanvas&&e._renderer._update()};n.default=(0,o.createLayerComponent)(function(e,n){var t=e.kml,r=e.kmlOptions,i=new l.KML(t,r);return n.map.options.preferCanvas&&setTimeout(function(e){var n;null===(n=e._renderer)||void 0===n||n._update()},0,n.map),{instance:i,context:n}},function(e,n,t){s(e._map)})},80234:function(e,n,t){"use strict";t.r(n),t.d(n,{CONTEXT_VERSION:function(){return l.cV},LeafletContext:function(){return l.U1},LeafletProvider:function(){return l.UO},addClassName:function(){return u},createContainerComponent:function(){return a.RA},createControlComponent:function(){return f.vm},createControlHook:function(){return o.y},createDivOverlayComponent:function(){return a.LE},createDivOverlayHook:function(){return s.W},createElementHook:function(){return m.I},createElementObject:function(){return m.O},createLayerComponent:function(){return f.dW},createLayerHook:function(){return y.u},createLeafComponent:function(){return a.G5},createLeafletContext:function(){return l.Hb},createOverlayComponent:function(){return f.SO},createPathComponent:function(){return f.Au},createPathHook:function(){return v.n},createTileLayerComponent:function(){return f.Lf},extendContext:function(){return l.sj},removeClassName:function(){return h},updateCircle:function(){return i},updateClassName:function(){return g},updateGridLayer:function(){return x.I},updateMediaOverlay:function(){return Z},useAttribution:function(){return r.d},useEventHandlers:function(){return p.t},useLayerLifecycle:function(){return y.g},useLeafletContext:function(){return l.mE},usePathOptions:function(){return v._},withPane:function(){return j.q}});var r=t(66389);function i(e,n,t){n.center!==t.center&&e.setLatLng(n.center),null!=n.radius&&n.radius!==t.radius&&e.setRadius(n.radius)}var a=t(99534),l=t(1410),o=t(77418),s=t(93461),c=t(45243);function d(e){return e.split(" ").filter(Boolean)}function u(e,n){d(n).forEach(n=>{c.DomUtil.addClass(e,n)})}function h(e,n){d(n).forEach(n=>{c.DomUtil.removeClass(e,n)})}function g(e,n,t){null!=e&&t!==n&&(null!=n&&n.length>0&&h(e,n),null!=t&&t.length>0&&u(e,t))}var m=t(27999),p=t(60620),f=t(74579),x=t(71469),y=t(83655);function Z(e,n,t){n.bounds instanceof c.LatLngBounds&&n.bounds!==t.bounds&&e.setBounds(n.bounds),null!=n.opacity&&n.opacity!==t.opacity&&e.setOpacity(n.opacity),null!=n.zIndex&&n.zIndex!==t.zIndex&&e.setZIndex(n.zIndex)}var j=t(81802),v=t(78840)}}]);