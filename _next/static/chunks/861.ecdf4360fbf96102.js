(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[861],{87210:function(t,i,e){"use strict";e.d(i,{S:function(){return o}});var n=e(74579);e(58954);var o=(0,n.dW)(t=>({instance:L.bingLayer(t.bingkey,t)}))},58954:function(){L.BingLayer=L.TileLayer.extend({options:{subdomains:[0,1,2,3],type:"Aerial",attribution:"Bing",culture:"",style:""},initialize:function(t,i){L.Util.setOptions(this,i),this._bing_key=t,this._url=null,this._providers=[],this.metaRequested=!1},tile2quad:function(t,i,e){for(var n="",o=e;o>0;o--){var r=0,s=1<<o-1;(t&s)!=0&&(r+=1),(i&s)!=0&&(r+=2),n+=r}return n},getTileUrl:function(t){var i=this._getZoomForUrl(),e=this.options.subdomains,n=this.options.subdomains[Math.abs((t.x+t.y)%e.length)];return this._url.replace("{subdomain}",n).replace("{quadkey}",this.tile2quad(t.x,t.y,i)).replace("{culture}",this.options.culture)},loadMetadata:function(){if(this.metaRequested)return;this.metaRequested=!0;let t=this;var i="_bing_metadata_"+L.Util.stamp(this);window[i]=function(e){window[i]=void 0;var n=document.getElementById(i);if(n.parentNode.removeChild(n),e.errorDetails){console.log(e.errorDetails);return}t.initMetadata(e)};var e="file:"===document.location.protocol?"http":document.location.protocol.slice(0,-1),n=e+"://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.options.type+"?include=ImageryProviders&jsonp="+i+"&key="+this._bing_key+"&UriScheme="+e+"&culture="+this.options.culture+"&style="+this.options.style,o=document.createElement("script");o.type="text/javascript",o.src=n,o.id=i,document.getElementsByTagName("head")[0].appendChild(o)},initMetadata:function(t){var i=t.resourceSets[0].resources[0];if(this.options.subdomains=i.imageUrlSubdomains,this._url=i.imageUrl,i.imageryProviders)for(var e=0;e<i.imageryProviders.length;e++)for(var n=i.imageryProviders[e],o=0;o<n.coverageAreas.length;o++){var r=n.coverageAreas[o],s={zoomMin:r.zoomMin,zoomMax:r.zoomMax,active:!1};if(void 0!=r.bbox)var a=new L.LatLngBounds(new L.LatLng(r.bbox[0]+.01,r.bbox[1]+.01),new L.LatLng(r.bbox[2]-.01,r.bbox[3]-.01));s.bounds=a,s.attrib=n.attribution,this._providers.push(s)}this._update()},_update:function(){null!==this._url&&this._map&&(this._update_attribution(),L.TileLayer.prototype._update.apply(this,[]))},_update_attribution:function(){for(var t=this._map.getZoom(),i=0;i<this._providers.length;i++){var e=this._providers[i];t<=e.zoomMax&&t>=e.zoomMin?(!e.active&&this._map.attributionControl&&this._map.attributionControl.addAttribution(e.attrib),e.active=!0):(e.active&&this._map.attributionControl&&this._map.attributionControl.removeAttribution(e.attrib),e.active=!1)}},onAdd:function(t){this.loadMetadata(),L.TileLayer.prototype.onAdd.apply(this,[t])},onRemove:function(t){for(var i=0;i<this._providers.length;i++){var e=this._providers[i];e.active&&this._map.attributionControl&&(this._map.attributionControl.removeAttribution(e.attrib),e.active=!1)}L.TileLayer.prototype.onRemove.apply(this,[t])}}),L.bingLayer=function(t,i){return new L.BingLayer(t,i)}},80861:function(t,i,e){"use strict";e.r(i);var n=e(85893);e(67294);var o=e(32342),r=e(5715),s=e(26467),a=e(20577),l=e(64049),h=e(32604),c=e(60990),d=e(96788),u=e(87210);e(53183);var p=e(45243),m=e.n(p);let{BaseLayer:b}=o.LayersControl,g=t=>new(m()).Icon({iconUrl:"/images/icon/".concat("serious"===t?"critical":"moderate"===t?"warning":"normal",".svg"),iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]}),v=new(m()).Icon({iconUrl:"/images/icon/marker.png",iconSize:[32,32],iconAnchor:[16,32],popupAnchor:[0,-32]});i.default=t=>{let{incidents:i}=t,e=i.length>0?i[0].position:[20.675,106.081],p="AuhiCJHlGzhg93IqUH_oCpl_-ZUrIE6SPftlyGYUvr9Amx5nzA-WqGcPquyFZl4L";return(0,n.jsx)(c.Z,{sx:{height:"500px",width:"100%"},children:(0,n.jsxs)(r.h,{center:e,zoom:12,style:{height:"100%",width:"100%"},attributionControl:!1,children:[(0,n.jsxs)(o.LayersControl,{position:"bottomright",children:[(0,n.jsx)(b,{name:"Bản đồ h\xe0nh ch\xednh",children:(0,n.jsx)(s.I,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),(0,n.jsx)(b,{name:"Bản đồ đường",children:(0,n.jsx)(u.S,{bingkey:p,type:"Road"})}),(0,n.jsx)(b,{checked:!0,name:"Bản đồ vệ tinh",children:(0,n.jsx)(u.S,{bingkey:p,type:"AerialWithLabels"})})]}),i.map(t=>(0,n.jsxs)(a.J,{position:t.position,icon:g(t.status)||v,children:[(0,n.jsx)(l.u,{direction:"top",offset:[0,-10],opacity:.9,children:(0,n.jsx)(d.Z,{variant:"caption",sx:{fontWeight:"bold"},children:t.name})}),(0,n.jsxs)(h.G,{minWidth:250,maxWidth:300,children:[(0,n.jsx)(d.Z,{sx:{fontWeight:"bold",fontSize:14},children:t.name}),(0,n.jsx)(d.Z,{sx:{fontSize:12},children:t.description}),(0,n.jsxs)(c.Z,{sx:{mt:1,p:1,bgcolor:"#f5f5f5",borderRadius:"4px",fontSize:12},children:[(0,n.jsxs)(d.Z,{sx:{fontSize:12,display:"flex",justifyContent:"space-between"},children:[(0,n.jsx)("span",{children:(0,n.jsx)("b",{children:"T\xecnh trạng:"})}),(0,n.jsx)("span",{style:{color:"serious"===t.status?"#F44336":"moderate"===t.status?"#FF9800":"#4CAF50",fontWeight:"bold"},children:"serious"===t.status?"Nghi\xeam trọng":"moderate"===t.status?"Trung b\xecnh":"Nhẹ"})]}),(0,n.jsxs)(d.Z,{sx:{fontSize:12,mt:.5},children:[(0,n.jsx)("b",{children:"Loại sự cố:"})," ",t.type]}),(0,n.jsxs)(d.Z,{sx:{fontSize:12,mt:.5},children:[(0,n.jsx)("b",{children:"Thời gian ghi nhận:"})," ",t.date]})]})]})]},t.id))]})})}}}]);