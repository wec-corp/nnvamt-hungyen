(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5354],{68047:function(e,l,n){"use strict";n.d(l,{J:function(){return i},V:function(){return t}});let t=e=>{var l;let n=((null===(l=e.tenCT)||void 0===l?void 0:l.toUpperCase())||"").replace(/[.,\s]/g,"").toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/Đ/g,"D");return["NHAMAYTHUYDIEN","CONGTRINHTHUYDIEN","THUYDIEN","HOCHUANUOC","TRAMBOM","CTXT"].reduce((e,l)=>e.replace(RegExp(l,"i"),""),(e=>{switch(e){case 4:return"TD";case 5:return"TL";case 6:return"TB";case 7:return"KTNDD";case 8:return"TDNDD";case 9:return"HNK";case 10:return"TCN";case 11:return"HTTL";case 12:return"CLN";case 13:return"NMN";case 16:case 17:case 18:case 19:case 20:case 21:case 22:return"XT";default:return""}})(null==e?void 0:e.idLoaiCT)+n||"")},i=e=>{var l;let n=((null===(l=e.tenCT)||void 0===l?void 0:l.toLowerCase())||"").replace(/[.,\s]/g,"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/Đ/g,"D");return["NHAMAYTHUYDIEN","CONGTRINHTHUYDIEN","THUYDIEN","HOCHUANUOC","TRAMBOM","CTXT"].reduce((e,l)=>e.replace(RegExp(l.toLowerCase(),"i"),""),"".concat((e=>{switch(e){case 4:return"TD";case 5:return"HCN";case 6:return"TB";case 7:return"KTNDD";case 8:return"TDNDD";case 9:return"HNK";case 10:return"TCN";case 11:return"HTTL";case 12:return"CLN";case 13:return"NMN";case 16:case 17:case 18:case 19:case 20:case 21:case 22:return"XT";default:return""}})(null==e?void 0:e.idLoaiCT).toLowerCase(),".").concat(n)||"")}},94395:function(e,l,n){"use strict";n.d(l,{ao:function(){return t},o0:function(){return a},p6:function(){return i}});let t=e=>null!=e?e.toLocaleString("en-US"):"",i=e=>{if(null!=e){let l=new Date(e),n=10>l.getDate()?"0"+l.getDate():l.getDate(),t=l.getMonth()+1<10?"0"+(l.getMonth()+1):l.getMonth()+1,i=l.getFullYear();return"".concat(n,"/").concat(t,"/").concat(i)}return""},a=e=>{if(null!=e){let l=new Date(e),n=10>l.getDate()?"0"+l.getDate():l.getDate(),t=l.getMonth()+1<10?"0"+(l.getMonth()+1):l.getMonth()+1,i=l.getFullYear(),a=10>l.getHours()?"0"+l.getHours():l.getHours(),s=10>l.getMinutes()?"0"+l.getMinutes():l.getMinutes(),o=10>l.getSeconds()?"0"+l.getSeconds():l.getSeconds();return"".concat(n,"/").concat(t,"/").concat(i," ").concat(a,":").concat(s,":").concat(o)}return""}},77584:function(e,l){"use strict";l.Z=e=>{if(!e)return 0;switch(e){case"nuoc-mat":return 1;case"nuoc-duoi-dat":return 2;case"ktsd-nuoc-duoi-dat":return 7;case"td-nuoc-duoi-dat":return 8;case"hnk-nuoc-duoi-dat":return 9;case"xa-thai":return 3;default:return 0}}},38138:function(e,l,n){"use strict";var t=n(85893),i=n(67294),a=n(75486),s=n(84166),o=n(88196),d=n(36795),u=n(88539),h=n(96788),c=n(51015),r=n(40110),m=n(95639);let g=i.forwardRef(function(e,l){return(0,t.jsx)(a.Z,{direction:"left",ref:l,...e})});l.Z=e=>{let{children:l}=e,[n,a]=(0,i.useState)(null),[x,v]=(0,i.useState)(null),[p,j]=(0,i.useState)(!1),Z=()=>{a(null),v(null),j(!1)};return(0,t.jsxs)(s.Z,{children:[l((e,l)=>{a(e),v(l),j(!0)},Z),(0,t.jsx)(o.Z,{open:p,onClose:Z,fullScreen:!0,TransitionComponent:g,sx:{zIndex:1201},children:n&&(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(d.Z,{sx:{position:"relative"},children:(0,t.jsxs)(u.Z,{sx:{maxHeight:45,minHeight:45,position:"sticky",top:0},children:[(0,t.jsx)(h.Z,{sx:{ml:2,flex:1,color:"#fff"},variant:"h6",component:"div",children:x}),(0,t.jsx)(c.Z,{className:"btn closeBtn",sx:{p:2,mr:-2},onClick:Z,children:(0,t.jsx)(m.Z,{})})]})}),(0,t.jsx)(r.Z,{children:n})]})})]})}},27776:function(e,l,n){"use strict";var t=n(85893),i=n(67294),a=n(84166),s=n(88196),o=n(92365),d=n(40110);l.Z=e=>{let{children:l}=e,[n,u]=(0,i.useState)(null),[h,c]=(0,i.useState)(null),[r,m]=(0,i.useState)(!1),g=()=>{u(null),c(null),m(!1)};return(0,t.jsxs)(a.Z,{children:[l((e,l)=>{u(e),c(l),m(!0)},g),(0,t.jsx)(s.Z,{open:r,onClose:g,children:n&&(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(o.Z,{sx:{textAlign:"center",textTransform:"uppercase"},children:h}),(0,t.jsx)(d.Z,{children:n})]})})]})}},82431:function(e,l,n){"use strict";var t=n(85893),i=n(51015),a=n(84105);l.Z=e=>{let{tableId:l,filename:n}=e;return(0,t.jsx)(i.Z,{onClick:()=>{!function(e,l){let n=document.getElementById(e),t=a.P6.table_to_sheet(n),i=[],s=[];for(let e=0;e<n.rows.length;++e){let l=n.rows[e];for(let n=0;n<l.cells.length;++n){let t=l.cells[n],a=t.getAttribute("colspan"),o=t.getAttribute("rowspan");a=a?parseInt(a,10):1,o=o?parseInt(o,10):1,(a>1||o>1)&&i.push({s:{r:e,c:n},e:{r:e+o-1,c:n+a-1}}),s[n]>0&&(--s[n],--n)}for(let e=0;e<l.cells.length;++e){let n=l.cells[e].getAttribute("rowspan");(n=n?parseInt(n,10):1)>1&&(s[e]=n-1)}}i.length>0&&(t["!merges"]||(t["!merges"]=[]),t["!merges"].push(...i));for(let e=0;e<n.rows.length;++e)for(let l=0;l<n.rows[e].cells.length;++l){let i=n.rows[e].cells[l],s=i.innerText;s=s.replace(/\n+/g,"\n"),i.closest("tbody")&&(t[a.P6.encode_cell({r:e,c:l})]={v:s,t:"s"})}let o=a.P6.book_new();a.P6.book_append_sheet(o,t,"Sheet1"),a.NC(o,"".concat(l,".xls"))}(l,n)},variant:"outlined",size:"small",fullWidth:!0,color:"primary",children:"Xuất Excel"})}},18543:function(e,l,n){"use strict";var t=n(85893),i=n(67294),a=n(75486),s=n(60990),o=n(88196),d=n(36795),u=n(88539),h=n(96788),c=n(40110),r=n(95639);let m=i.forwardRef(function(e,l){return(0,t.jsx)(a.Z,{direction:"left",ref:l,...e})});l.Z=e=>{let{children:l}=e,[n,a]=(0,i.useState)(null),[g,x]=(0,i.useState)(null),[v,p]=(0,i.useState)(!1),j=()=>{a(null),x(null),p(!1)};return(0,t.jsxs)(s.Z,{children:[l((e,l)=>{a(e),x(l),p(!0)},j),(0,t.jsx)(o.Z,{open:v,onClose:j,fullScreen:!0,className:"DialogControlShowPDF",TransitionComponent:m,sx:{zIndex:1201},children:n&&(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(d.Z,{sx:{position:"sticky",top:0,zIndex:1201},children:(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(h.Z,{sx:{ml:2,flex:1,color:"#fff"},variant:"h6",component:"div",children:g}),(0,t.jsx)(r.Z,{className:"btn",onClick:j})]})}),(0,t.jsx)(c.Z,{sx:{p:0,pt:0,width:{xs:"100vw",md:"65vw"}},children:n})]})})]})}},95587:function(e,l,n){"use strict";var t=n(85893),i=n(67294),a=n(64577),s=n(32191),o=n(59037),d=n(56117),u=n(60990),h=n(96788),c=n(51015),r=n(18543),m=n(35376),g=n(12264);l.Z=e=>{let{src:l,name:n}=e,[x,v]=(0,i.useState)(null),[p,j]=(0,i.useState)(0),[Z,C]=(0,i.useState)(!1);s.default.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(s.default.version,"/pdf.worker.min.js");let T=async()=>{if(!l)return null;C(!0);try{let e=l.split("/").pop(),n=l.split("/").slice(0,-1).join("/"),t=await fetch("".concat(a.apiUrl,"/file/readfile?FilePath=").concat(n,"&FileName=").concat(e));if(!t.ok)throw Error("File not found");let i=await t.blob(),o=URL.createObjectURL(i);v(o);let d=await s.default.getDocument(o).promise;return j(d.numPages),o}finally{C(!1)}},f=()=>Array.from({length:p},(e,l)=>(0,t.jsx)(o.Z,{pageNumber:l+1,renderTextLayer:!1,renderAnnotationLayer:!1},l+1)),y=async e=>{e((0,t.jsx)(u.Z,{children:(0,t.jsx)(m.Z,{})}),n);try{await T(),e(x?(0,t.jsx)(d.Z,{file:x,loading:Z,children:f()}):(0,t.jsx)(u.Z,{children:"KH\xd4NG C\xd3 FILE HIỂN THỊ"}),n)}catch(l){console.error(l.message),e((0,t.jsx)(u.Z,{children:"KH\xd4NG C\xd3 FILE HIỂN THỊ"}),n)}},b=()=>{if(x){let e=document.createElement("a");e.href=x,e.download="".concat(n,".pdf"),document.body.appendChild(e),e.click(),document.body.removeChild(e)}};return(0,t.jsx)(u.Z,{children:(0,t.jsx)(r.Z,{children:e=>(0,t.jsxs)(u.Z,{display:"flex",alignItems:"center",children:[(0,t.jsx)(h.Z,{className:"btnShowFilePdf",variant:"h6",onClick:()=>y(e),children:n||""}),n?(0,t.jsx)(c.Z,{className:"btnShowFilePdf",onClick:b,children:(0,t.jsx)(g.Z,{})}):null]})})})}},66891:function(e,l,n){"use strict";var t=n(85893),i=n(60990),a=n(96788),s=n(68573),o=n(50333),d=n(40492),u=n(97182),h=n(51015),c=n(6897),r=n(94143),m=n(36307),g=n(15972),x=n(29346),v=n(67294),p=n(19757),j=n(64577),Z=n(11163),C=n(77584),T=n(68047),f=n(14638),y=n(53839),b=n(97705),P=n(35376);l.Z=e=>{var l,n,D,z,H,N,L,w,W;let{props:S,onChange:k}=e,M=(0,Z.useRouter)(),[X,I]=(0,v.useState)(!1),q=(0,C.Z)(null===(l=M.query)||void 0===l?void 0:l.type),[_,V]=(0,v.useState)({...p.C,idLoaiCT:q}),[K,O]=(0,v.useState)([]),[G,A]=(0,v.useState)([]),[E,B]=(0,v.useState)([]),[R,F]=(0,v.useState)([]),[U,Y]=(0,v.useState)([]),[Q,J]=(0,v.useState)([]),[$,ee]=(0,v.useState)([]),[el,en]=(0,v.useState)(!1),et="giay-phep"===M.query.page,ei="string"==typeof M.query.type&&M.query.type.includes("nuoc-duoi-dat")?M.query.type.split("/")[1]:"",[ea,es]=(0,v.useState)([]);(0,v.useEffect)(()=>{(async()=>{try{var e,l,n,t;if(I(!0),void 0!==S){let e=await (0,j.getData)("cong-trinh/".concat(S));V(e),F(null===(l=e.vitri)||void 0===l?void 0:l.map(e=>"".concat(e.tenHuyen,"-").concat(e.idHuyen))),J(null===(n=e.vitri)||void 0===n?void 0:n.map(e=>"".concat(e.tenXa,"-").concat(e.idXa,"-").concat(e.idHuyen)))}else V({});let i=await (0,j.getData)("loai-ct/danh-sach"),a=7===(0,C.Z)(null===(e=M.query)||void 0===e?void 0:e.type)?i.filter(e=>7===e.id||10===e.id):i.filter(e=>{var l;return e.idCha===(0,C.Z)(null===(l=M.query)||void 0===l?void 0:l.type)});O(a);let s=await (0,j.getData)("LuuVucSong/danh-sach");if(A(s),et){let e=await (0,j.getData)("cong-trinh/danh-sach",{tenct:null,loai_ct:(null==_?void 0:_.idLoaiCT)!==null?null==_?void 0:_.idLoaiCT:(0,C.Z)(null===(t=M.query)||void 0===t?void 0:t.type),huyen:0,xa:0,song:0,luuvuc:0,tieu_luuvuc:0,tang_chuanuoc:0,tochuc_canhan:0,nguonnuoc_kt:null});es(e)}let o=await (0,j.getData)("hanh-chinh/huyen/danh-sach");B(o);let d=await (0,j.getData)("hanh-chinh/xa/danh-sach");Y(d.flat())}catch(e){console.log(e)}finally{I(!1)}})()},[S]),(0,v.useEffect)(()=>{(()=>{let e=R.map(e=>e.split("-")[1]);ee(U.filter(l=>e.includes(l.idHuyen)))})()},[R,U]),(0,v.useEffect)(()=>{et?en((null==_?void 0:_.id)!==null):en(!0)},[null==_?void 0:_.id,et]);let eo=async e=>{F("string"==typeof e.target.value?e.target.value.split(","):e.target.value)},ed=e=>{var l,n;en(!0),V({...e,idLoaiCT:q});let t=(null===(l=e.vitri)||void 0===l?void 0:l.map(e=>"".concat(e.tenHuyen,"-").concat(e.idHuyen)))||[],i=(null===(n=e.vitri)||void 0===n?void 0:n.map(e=>"".concat(e.tenXa,"-").concat(e.idXa,"-").concat(e.idHuyen)))||[];F(t),J(i),k({..._,idLoaiCT:q})},eu=(e,l,n)=>{let t=l.split("."),i=e;for(let e=0;e<t.length-1;e++)i[t[e]]||(i[t[e]]={}),i=i[t[e]];return i[t[t.length-1]]=n,e},eh=e=>l=>{V(n=>{let t={...n,maCT:(0,T.V)({...n,[e]:l}),taiKhoan:(0,T.J)({...n,[e]:l})};return eu(t,e,l),t})},ec=(0,v.useRef)();return(0,v.useEffect)(()=>{JSON.stringify(ec.current)!==JSON.stringify(_)&&(ec.current=_,k(_))},[_,k]),X?(0,t.jsx)(P.Z,{}):(0,t.jsxs)(i.Z,{children:[(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:(0,t.jsx)(a.Z,{variant:"subtitle1",className:"legend__title",children:"TH\xd4NG TIN C\xd4NG TR\xccNH"})}),(0,t.jsxs)(s.ZP,{container:!0,spacing:6,children:[7===(0,C.Z)(null===(n=M.query)||void 0===n?void 0:n.type)||8===(0,C.Z)(null===(D=M.query)||void 0===D?void 0:D.type)||9===(0,C.Z)(null===(z=M.query)||void 0===z?void 0:z.type)?"":(0,t.jsx)(s.ZP,{item:!0,xs:12,md:4,sm:12,children:(0,t.jsx)(o.Z,{disabled:X,size:"small",options:K,getOptionLabel:e=>e.tenLoaiCT,value:K.find(e=>e.id===(null==_?void 0:_.idLoaiCT))||null,isOptionEqualToValue:e=>e.id,onChange:(e,l)=>eh("idLoaiCT")((null==l?void 0:l.id)||0),renderInput:e=>(0,t.jsx)(d.Z,{required:!0,...e,fullWidth:!0,label:"Chọn loại h\xecnh c\xf4ng tr\xecnh",InputProps:{...e.InputProps,endAdornment:(0,t.jsxs)(v.Fragment,{children:[X&&(0,t.jsx)(u.Z,{color:"primary",size:20}),e.InputProps.endAdornment]})}})})}),et&&!el?(0,t.jsx)(s.ZP,{item:!0,xs:12,md:4,sm:12,children:(0,t.jsx)(o.Z,{disabled:X,size:"small",options:ea,getOptionLabel:e=>{var l;return"".concat(e.id,", ").concat(e.tenCT," ").concat(null!==e.huyen?"(".concat(null===(l=e.huyen[0])||void 0===l?void 0:l.tenHuyen,")"):"")},value:ea.find(e=>{var l,n;return(null===(l=e.tenCT)||void 0===l?void 0:l.toLowerCase())===(null==_?void 0:null===(n=_.tenCT)||void 0===n?void 0:n.toLowerCase())})||null,isOptionEqualToValue:e=>e.tenCT,onChange:(e,l)=>ed(l||p.C),renderInput:e=>(0,t.jsx)(d.Z,{required:!0,...e,fullWidth:!0,label:"Chọn c\xf4ng tr\xecnh",InputProps:{...e.InputProps,endAdornment:(0,t.jsxs)(v.Fragment,{children:[X&&(0,t.jsx)(u.Z,{color:"primary",size:20}),e.InputProps.endAdornment]})}})})}):"",et?(0,t.jsx)(s.ZP,{item:!0,xs:12,md:4,sm:12,children:(0,t.jsx)(h.Z,{variant:"outlined",size:"small",startIcon:(0,t.jsx)(y.Z,{}),onClick:()=>{en(!0),V({...p.C,idLoaiCT:q})},children:"Th\xeam c\xf4ng tr\xecnh mới"})}):""]}),el?(0,t.jsxs)(s.ZP,{container:!0,spacing:6,mt:0,children:[(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"T\xean c\xf4ng tr\xecnh",fullWidth:!0,placeholder:"",value:(null==_?void 0:_.tenCT)||"",onChange:e=>eh("tenCT")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"K\xfd hiệu c\xf4ng tr\xecnh",fullWidth:!0,placeholder:"",disabled:!0,value:(null==_?void 0:_.maCT)||"",onChange:e=>eh("maCT")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,t.jsx)(d.Z,{size:"small",variant:"outlined",fullWidth:!0,label:"Địa điểm c\xf4ng tr\xecnh",multiline:!0,maxRows:4,value:(null==_?void 0:_.viTriCT)||"",onChange:e=>eh("viTriCT")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:6,md:5,children:(0,t.jsxs)(c.Z,{fullWidth:!0,children:[(0,t.jsx)(r.Z,{id:"district_select_label",children:"Quận/Huyện"}),(0,t.jsx)(x.Z,{labelId:"district_select_label",id:"district_select",multiple:!0,size:"small",value:R,onChange:eo,input:(0,t.jsx)(m.Z,{id:"select-multiple-chip",label:"Chip"}),renderValue:e=>(0,t.jsx)(i.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e,l,n)=>(0,t.jsxs)(a.Z,{variant:"caption",lineHeight:1.3,children:[e.split("-")[0],l<n.length-1?", ":""]},l))}),children:E.map(e=>(0,t.jsx)(g.Z,{value:"".concat(e.tenHuyen,"-").concat(e.idHuyen),children:e.tenHuyen},e.idHuyen))})]})}),(0,t.jsx)(s.ZP,{item:!0,xs:6,md:5,children:(0,t.jsxs)(c.Z,{fullWidth:!0,children:[(0,t.jsx)(r.Z,{id:"commune_select_label",children:"X\xe3/Phường/Thị trấn"}),(0,t.jsx)(x.Z,{labelId:"commune_select_label",id:"commune_select",multiple:!0,size:"small",value:Q,onChange:e=>{let l="string"==typeof e.target.value?e.target.value.split(","):e.target.value;J(l);let n=l.map(e=>({id:0,idCongTrinh:0,idHuyen:e.split("-")[2],idXa:e.split("-")[1]}));V(e=>({...e,vitri:n}))},input:(0,t.jsx)(m.Z,{id:"select-multiple-chip",label:"Chip"}),renderValue:e=>(0,t.jsx)(i.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e,l,n)=>(0,t.jsxs)(a.Z,{variant:"caption",lineHeight:1.3,children:[e.split("-")[0],l<n.length-1?", ":""]},l))}),children:$.map(e=>(0,t.jsx)(g.Z,{value:"".concat(e.tenXa,"-").concat(e.idXa,"-").concat(e.idHuyen),children:e.tenXa},e.idXa))})]})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:2,sm:12,children:(0,t.jsx)(o.Z,{disabled:X,size:"small",options:G,getOptionLabel:e=>e.tenLVS,value:G.find(e=>e.id===(null==_?void 0:_.idLuuVuc))||null,isOptionEqualToValue:e=>e.id,onChange:(e,l)=>eh("idLuuVuc")(l?l.id:0),renderInput:e=>(0,t.jsx)(d.Z,{required:!0,...e,fullWidth:!0,label:"Chọn lưu vực s\xf4ng",InputProps:{...e.InputProps,endAdornment:(0,t.jsxs)(v.Fragment,{children:[X&&(0,t.jsx)(u.Z,{color:"primary",size:20}),e.InputProps.endAdornment]})}})})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",label:"Toạ độ X (VN2000)",value:(null==_?void 0:_.x)||"",onChange:e=>eh("x")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",value:(null==_?void 0:_.y)||"",onChange:e=>eh("y")(e.target.value),label:"Toạ độ Y (VN2000)"})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",defaultValue:null==_?void 0:_.namBatDauVanHanh,onChange:e=>eh("namBatDauVanHanh")(e.target.value),label:"Năm vận h\xe0nh"})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",defaultValue:null==_?void 0:_.thoiGianHNK,onChange:e=>eh("thoiGianHNK")(e.target.value),label:"Thời gian h\xe0nh nghề"})}),(null==_?void 0:_.idLoaiCT)===7||(null==_?void 0:_.idLoaiCT)===10?(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Số giếng khai th\xe1c",fullWidth:!0,placeholder:"",defaultValue:null==_?void 0:_.soLuongGieng,onChange:e=>eh("soLuongGieng")(e.target.value)})}):"",(null==_?void 0:_.idLoaiCT)===7||(null==_?void 0:_.idLoaiCT)===10?(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tổng lượng nước khai th\xe1c(m3/ng\xe0y đ\xeam)",fullWidth:!0,placeholder:"",defaultValue:null===(H=_.thongso)||void 0===H?void 0:H.luongNuocKT,onChange:e=>eh("luongNuocKT")(e.target.value)})}):"",(null==_?void 0:_.idLoaiCT)===8?(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Thời gian thi c\xf4ng",fullWidth:!0,placeholder:"",defaultValue:null==_?void 0:_.thoiGianXD,onChange:e=>eh("thoiGianXD")(e.target.value)})}):"",(null==_?void 0:_.idLoaiCT)===8?(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Quy m\xf4 khoan thăm d\xf2",fullWidth:!0,placeholder:"",defaultValue:null==_?void 0:_.quyMoHNK,onChange:e=>eh("quyMoHNK")(e.target.value)})}):"",(null==_?void 0:_.idLoaiCT)===8?(0,t.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tầng chứa nước thăm d\xf2",fullWidth:!0,placeholder:"",defaultValue:null==_?void 0:_.quyMoHNK,onChange:e=>eh("quyMoHNK")(e.target.value)})}):""]}):""]}),(null==_?void 0:_.idLoaiCT)===9?(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:(0,t.jsx)(a.Z,{variant:"subtitle1",className:"legend__title",children:"Th\xf4ng số c\xf4ng tr\xecnh khoan"})}),(0,t.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,t.jsx)(s.ZP,{item:!0,xs:12,md:4,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Lưu trữ khai th\xe1c(m3/ng\xe0y đ\xeam)",fullWidth:!0,placeholder:"",defaultValue:null===(N=_.thongso)||void 0===N?void 0:N.qktCapNuocSinhHoat,onChange:e=>eh("qktCapNuocSinhHoat")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:4,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Chế độ khai th\xe1c(giờ/ng\xe0y đ\xeam)",fullWidth:!0,placeholder:"",defaultValue:null===(L=_.thongso)||void 0===L?void 0:L.cheDoKT,onChange:e=>eh("cheDoKT")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:4,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Thời gian thi c\xf4ng",fullWidth:!0,placeholder:"",defaultValue:null==_?void 0:_.thoiGianXD,onChange:e=>eh("thoiGianXD")(e.target.value)})})]}),(0,t.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,t.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Tầng chứa nước thăm d\xf2",fullWidth:!0,placeholder:"",defaultValue:null==_?void 0:_.quyMoHNK,onChange:e=>eh("quyMoHNK")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Khối lượng c\xe1c hạng mục thăm d\xf2",fullWidth:!0,placeholder:"",defaultValue:null==_?void 0:_.khoiLuongCacHangMucTD,onChange:e=>eh("khoiLuongCacHangMucTD")(e.target.value)})})]})]}):"",el?(0,t.jsxs)(s.ZP,{item:!0,xs:12,children:[et&&"hanh-nghe-khoan"!==ei?(0,t.jsx)(b.Z,{data:_.luuluong_theomd||[],type:(0,C.Z)(null===(w=M.query)||void 0===w?void 0:w.type),onChange:e=>{V(l=>JSON.stringify(l.luuluong_theomd)===JSON.stringify(e)?l:{...l,luuluong_theomd:e})}}):"",(0,t.jsx)(f.Z,{data:_.hangmuc||[],type:et?(0,C.Z)(null===(W=M.query)||void 0===W?void 0:W.type):_.idLoaiCT,onChange:e=>{V(l=>({...l,hangmuc:e}))}})]}):""]})}},15715:function(e,l,n){"use strict";var t=n(85893),i=n(60990),a=n(96788),s=n(68573),o=n(50333),d=n(40492),u=n(51015),h=n(6897),c=n(94143),r=n(36307),m=n(15972),g=n(29346),x=n(67294),v=n(19757),p=n(64577),j=n(11163),Z=n(77584),C=n(53839),T=n(68047),f=n(14638),y=n(97705);l.Z=e=>{var l,n,b,P,D,z,H,N,L,w,W,S,k,M,X,I,q,_,V,K,O,G,A,E,B,R,F,U,Y,Q,J,$,ee,el,en;let{props:et,onChange:ei}=e,ea=(0,j.useRouter)(),[es,eo]=(0,x.useState)({}),[ed,eu]=(0,x.useState)([]),[eh,ec]=(0,x.useState)([]),[er,em]=(0,x.useState)([]),[eg,ex]=(0,x.useState)([]),[ev,ep]=(0,x.useState)([]),[ej,eZ]=(0,x.useState)([]),[eC,eT]=(0,x.useState)([]),[ef,ey]=(0,x.useState)(!1),eb=(null===(l=ea.query)||void 0===l?void 0:l.page)==="giay-phep",[eP,eD]=(0,x.useState)([]);(0,x.useEffect)(()=>{(async()=>{try{if(void 0!==et){let e=await (0,p.getData)("cong-trinh/".concat(et));eo(e),ex(e.vitri.map(e=>"".concat(e.tenHuyen,"-").concat(e.idHuyen))),eZ(e.vitri.map(e=>"".concat(e.tenXa,"-").concat(e.idXa,"-").concat(e.idHuyen)))}else eo({});let e=(await (0,p.getData)("loai-ct/danh-sach")).filter(e=>{var l;return e.idCha===(0,Z.Z)(null===(l=ea.query)||void 0===l?void 0:l.type)});eu(e);let l=await (0,p.getData)("LuuVucSong/danh-sach");if(ec(l),eb){let e=await (0,p.getData)("cong-trinh/danh-sach",{tenct:null,loai_ct:0,huyen:0,xa:0,song:0,luuvuc:0,tieu_luuvuc:0,tang_chuanuoc:0,tochuc_canhan:0,nguonnuoc_kt:null});eD(e)}let n=await (0,p.getData)("hanh-chinh/huyen/danh-sach");em(n);let t=await (0,p.getData)("hanh-chinh/xa/danh-sach");ep(t.flat())}catch(e){console.log(e)}})()},[et]),(0,x.useEffect)(()=>{(()=>{let e=eg.map(e=>e.split("-")[1]);eT(ev.filter(l=>e.includes(l.idHuyen)))})()},[eg,ev]),(0,x.useEffect)(()=>{eb?ey((null==es?void 0:es.id)!==null):ey(!0)},[null==es?void 0:es.id,eb]);let ez=async e=>{ex("string"==typeof e.target.value?e.target.value.split(","):e.target.value)},eH=e=>{ey(!0),eo({...e}),ei({...es})},eN=(e,l,n)=>{let t=l.split("."),i=e;for(let e=0;e<t.length-1;e++)i[t[e]]||(i[t[e]]={}),i=i[t[e]];return i[t[t.length-1]]=n,e},eL=e=>l=>{eo(n=>{let t={...n,maCT:(0,T.V)({...n,[e]:l}),taiKhoan:(0,T.J)({...n,[e]:l})};return eN(t,e,l),t})};return(0,x.useEffect)(()=>{ei(es)},[es,ei]),(0,t.jsxs)(i.Z,{children:[(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:(0,t.jsx)(a.Z,{variant:"subtitle1",className:"legend__title",children:"TH\xd4NG TIN C\xd4NG TR\xccNH"})}),(0,t.jsxs)(s.ZP,{container:!0,spacing:6,mb:4,children:[(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(o.Z,{size:"small",options:ed,getOptionLabel:e=>e.tenLoaiCT,value:ed.find(e=>e.id===(null==es?void 0:es.idLoaiCT))||null,isOptionEqualToValue:e=>e.id,onChange:(e,l)=>eL("idLoaiCT")(l?l.id:0),renderInput:e=>(0,t.jsx)(d.Z,{required:!0,...e,fullWidth:!0,label:"Chọn loại h\xecnh c\xf4ng tr\xecnh",InputProps:{...e.InputProps,endAdornment:(0,t.jsx)(x.Fragment,{children:e.InputProps.endAdornment})}})})}),eb?(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(o.Z,{size:"small",options:eP,getOptionLabel:e=>{var l;return null!==e.tenCT?"".concat(e.tenCT," ").concat(null!==e.huyen?"(".concat(null===(l=e.huyen)||void 0===l?void 0:l.map(e=>e.tenHuyen),")"):""):""},value:eP.find(e=>{var l,n;return(null===(l=e.tenCT)||void 0===l?void 0:l.toLowerCase())===(null==es?void 0:null===(n=es.tenCT)||void 0===n?void 0:n.toLowerCase())})||null,isOptionEqualToValue:e=>e.tenCT,onChange:(e,l)=>eH(l||v.C),renderInput:e=>(0,t.jsx)(d.Z,{required:!0,...e,fullWidth:!0,label:"Chọn c\xf4ng tr\xecnh",InputProps:{...e.InputProps,endAdornment:(0,t.jsx)(x.Fragment,{children:e.InputProps.endAdornment})}})})}):"",eb?(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(u.Z,{variant:"outlined",size:"small",startIcon:(0,t.jsx)(C.Z,{}),onClick:()=>{ey(!0),eo(v.C)},children:"Th\xeam c\xf4ng tr\xecnh mới"})}):""]}),ef?(0,t.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"T\xean c\xf4ng tr\xecnh",fullWidth:!0,placeholder:"",value:(null==es?void 0:es.tenCT)||"",onChange:e=>eL("tenCT")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"K\xfd hiệu c\xf4ng tr\xecnh",fullWidth:!0,placeholder:"",disabled:!0,value:(null==es?void 0:es.maCT)||"",onChange:e=>eL("maCT")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,t.jsx)(d.Z,{size:"small",variant:"outlined",fullWidth:!0,label:"Địa điểm c\xf4ng tr\xecnh",multiline:!0,maxRows:4,value:(null==es?void 0:es.viTriCT)||"",onChange:e=>eL("viTriCT")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:6,md:5,children:(0,t.jsxs)(h.Z,{fullWidth:!0,children:[(0,t.jsx)(c.Z,{id:"district_select_label",children:"Quận/Huyện"}),(0,t.jsx)(g.Z,{labelId:"district_select_label",id:"district_select",multiple:!0,label:"",size:"small",value:eg,onChange:ez,input:(0,t.jsx)(r.Z,{id:"select-multiple-chip",label:"Chip"}),renderValue:e=>(0,t.jsx)(i.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e,l,n)=>(0,t.jsxs)(a.Z,{variant:"caption",lineHeight:1.3,children:[e.split("-")[0],l<n.length-1?", ":""]},l))}),children:er.map(e=>(0,t.jsx)(m.Z,{value:"".concat(e.tenHuyen,"-").concat(e.idHuyen),children:e.tenHuyen},e.idHuyen))})]})}),(0,t.jsx)(s.ZP,{item:!0,xs:6,md:5,children:(0,t.jsxs)(h.Z,{fullWidth:!0,children:[(0,t.jsx)(c.Z,{id:"commune_select_label",children:"X\xe3/Phường/Thị trấn"}),(0,t.jsx)(g.Z,{labelId:"commune_select_label",id:"commune_select",multiple:!0,size:"small",value:ej,onChange:e=>{let l="string"==typeof e.target.value?e.target.value.split(","):e.target.value;eZ(l);let n=l.map(e=>({id:0,idCongTrinh:0,idHuyen:e.split("-")[2],idXa:e.split("-")[1]}));eo(e=>({...e,vitri:n}))},input:(0,t.jsx)(r.Z,{id:"select-multiple-chip",label:"Chip"}),renderValue:e=>(0,t.jsx)(i.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e,l,n)=>(0,t.jsxs)(a.Z,{variant:"caption",lineHeight:1.3,children:[e.split("-")[0],l<n.length-1?", ":""]},l))}),children:eC.map(e=>(0,t.jsx)(m.Z,{value:"".concat(e.tenXa,"-").concat(e.idXa,"-").concat(e.idHuyen),children:e.tenXa},e.idXa))})]})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:2,sm:12,children:(0,t.jsx)(o.Z,{size:"small",options:eh,getOptionLabel:e=>e.tenLVS,value:eh.find(e=>e.id===(null==es?void 0:es.idLuuVuc))||null,isOptionEqualToValue:e=>e.id,onChange:(e,l)=>eL("idLuuVuc")(l?l.id:0),renderInput:e=>(0,t.jsx)(d.Z,{required:!0,...e,fullWidth:!0,label:"Chọn lưu vực s\xf4ng",InputProps:{...e.InputProps,endAdornment:(0,t.jsx)(x.Fragment,{children:e.InputProps.endAdornment})}})})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",variant:"outlined",fullWidth:!0,label:"Năm vận h\xe0nh",placeholder:"",value:(null==es?void 0:es.namBatDauVanHanh)||"",onChange:e=>eL("namBatDauVanHanh")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",label:"Năm x\xe2y dựng",value:(null==es?void 0:es.thoiGianXD)||"",onChange:e=>eL("thoiGianXD")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",label:"Toạ độ X (VN2000)",value:(null==es?void 0:es.x)||"",onChange:e=>eL("x")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",value:(null==es?void 0:es.y)||"",onChange:e=>eL("y")(e.target.value),label:"Toạ độ Y (VN2000)"})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:12,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",multiline:!0,maxRows:4,value:(null==es?void 0:es.nguonNuocKT)||"",onChange:e=>eL("nguonNuocKT")(e.target.value),label:"Nguồn nước khai th\xe1c"})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:12,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",multiline:!0,maxRows:4,value:(null==es?void 0:es.phuongThucKT)||"",onChange:e=>eL("phuongThucKT")(e.target.value),label:"Phương thức khai th\xe1c"})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:12,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(n=es.thongso)||void 0===n?void 0:n.cheDoKT)||"",onChange:e=>eL("thongso.cheDoKT")(e.target.value),label:"Chế độ khai th\xe1c"})})]}):""]}),(null==es?void 0:es.idLoaiCT)===4||(null==es?void 0:es.idLoaiCT)===5?(0,t.jsx)(s.ZP,{item:!0,xs:12,children:(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:(0,t.jsx)(a.Z,{variant:"subtitle1",className:"legend__title",children:"TH\xd4NG Số C\xd4NG TR\xccNH"})}),(0,t.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Cấp c\xf4ng tr\xecnh",fullWidth:!0,placeholder:"",value:(null==es?void 0:es.capCT)||"",onChange:e=>eL("capCT")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Diện t\xedch lưu vực(km2)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(b=es.thongso)||void 0===b?void 0:b.dienTichLuuVuc)||"",onChange:e=>eL("thongso.dienTichLuuVuc")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Lượng mưa trung b\xecnh nhiều năm(mm)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(P=es.thongso)||void 0===P?void 0:P.muaTrungBinhNam)||"",onChange:e=>eL("thongso.muaTrungBinhNam")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Lưu lượng trung b\xecnh nhiều năm(m3/s)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(D=es.thongso)||void 0===D?void 0:D.qTrungBinhNam)||"",onChange:e=>eL("thongso.qTrungBinhNam")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"C\xf4ng suất(KW)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(z=es.thongso)||void 0===z?void 0:z.congSuatLM)||"",onChange:e=>eL("thongso.congSuatLM")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"C\xf4ng suất đảm bảo",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(H=es.thongso)||void 0===H?void 0:H.congSuatDamBao)||"",onChange:e=>eL("thongso.congSuatDamBao")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Chiều cao đập(m)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(N=es.thongso)||void 0===N?void 0:N.chieuCaoDap)||"",onChange:e=>eL("thongso.chieuCaoDap")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Lưu lượng tối đa(m3/s)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(L=es.thongso)||void 0===L?void 0:L.qMaxKT)||"",onChange:e=>eL("thongso.qMaxKT")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Lưu lượng tối thiểu(m3/s)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(w=es.thongso)||void 0===w?void 0:w.qtt)||"",onChange:e=>eL("thongso.qtt")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Lưu lượng đảm bảo(m3/s)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(W=es.thongso)||void 0===W?void 0:W.qDamBao)||"",onChange:e=>eL("thongso.qDamBao")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"hmax",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(S=es.thongso)||void 0===S?void 0:S.hmax)||"",onChange:e=>eL("thongso.hmax")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Hmin",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(k=es.thongso)||void 0===k?void 0:k.hmin)||"",onChange:e=>eL("thongso.hmin")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Htt",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(M=es.thongso)||void 0===M?void 0:M.htoiThieu)||"",onChange:e=>eL("thongso.htoiThieu")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Dung t\xedch to\xe0n bộ(triệu m3)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(X=es.thongso)||void 0===X?void 0:X.dungTichToanBo)||"",onChange:e=>eL("thongso.dungTichToanBo")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Dung t\xedch chết(triệu m3)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(I=es.thongso)||void 0===I?void 0:I.dungTichChet)||"",onChange:e=>eL("thongso.dungTichChet")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Dung t\xedch hữu \xedch(triệu m3)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(q=es.thongso)||void 0===q?void 0:q.dungTichHuuIch)||"",onChange:e=>eL("thongso.dungTichHuuIch")(e.target.value)})}),(null==es?void 0:es.idLoaiCT)===4?(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Mực nước chết(m)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(_=es.thongso)||void 0===_?void 0:_.mnc)||"",onChange:e=>eL("thongso.mnc")(e.target.value)})}):"",(null==es?void 0:es.idLoaiCT)===4?(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Mực nước d\xe2ng b\xecnh thường(m)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(V=es.thongso)||void 0===V?void 0:V.mndbt)||"",onChange:e=>eL("thongso.mndbt")(e.target.value)})}):"",(null==es?void 0:es.idLoaiCT)===4?(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Mực nước lũ thiết kế(m)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(K=es.thongso)||void 0===K?void 0:K.mnltk)||"",onChange:e=>eL("thongso.mnltk")(e.target.value)})}):"",(null==es?void 0:es.idLoaiCT)===4?(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Mực nước lũ kiểm tra(m)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(O=es.thongso)||void 0===O?void 0:O.mnlkt)||"",onChange:e=>eL("thongso.mnlkt")(e.target.value)})}):""]})]})}):(null==es?void 0:es.idLoaiCT)===6?(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:(0,t.jsx)(a.Z,{variant:"subtitle1",className:"legend__title",children:"TH\xd4NG Số C\xd4NG TR\xccNH"})}),(0,t.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Số m\xe1y bơm",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(G=es.thongso)||void 0===G?void 0:G.soLuongMayBom)||"",onChange:e=>eL("thongso.soLuongMayBom")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Diện t\xedch tưới thiết kế(km2)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(A=es.thongso)||void 0===A?void 0:A.dienTichTuoiThietKe)||"",onChange:e=>eL("thongso.dienTichTuoiThietKe")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Lượng mưa tưới thực tế",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(E=es.thongso)||void 0===E?void 0:E.dienTichTuoiThucTe)||"",onChange:e=>eL("thongso.dienTichTuoiThucTe")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Lưu lượng thiết kế(m3/s)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(B=es.thongso)||void 0===B?void 0:B.qThietKe)||"",onChange:e=>eL("thongso.qThietKe")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Lưu lượng thực tế(m3/s)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(R=es.thongso)||void 0===R?void 0:R.qThucTe)||"",onChange:e=>eL("thongso.qThucTe")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:(0,t.jsxs)(i.Z,{children:["Q",(0,t.jsx)("sub",{children:"tk"}),"(m",(0,t.jsx)("sup",{children:"3"}),"/",(0,t.jsx)("sub",{children:"ng\xe0y đ\xeam"}),")"]}),fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(F=es.thongso)||void 0===F?void 0:F.qBomThietKe)||"",onChange:e=>eL("thongso.qBomThietKe")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:(0,t.jsxs)(i.Z,{children:["Q",(0,t.jsx)("sub",{children:"max"}),"(m",(0,t.jsx)("sup",{children:"3"}),"/",(0,t.jsx)("sub",{children:"ng\xe0y đ\xeam"}),")"]}),fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(U=es.thongso)||void 0===U?void 0:U.qBomLonNhat)||"",onChange:e=>eL("thongso.qBomLonNhat")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Mực nước bể h\xfat(m)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(Y=es.thongso)||void 0===Y?void 0:Y.hBeHut)||"",onChange:e=>eL("thongso.hBeHut")(e.target.value)})})]})]}):(null==es?void 0:es.idLoaiCT)===12?(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:(0,t.jsx)(a.Z,{variant:"subtitle1",className:"legend__title",children:"TH\xd4NG Số C\xd4NG TR\xccNH"})}),(0,t.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Cao tr\xecnh cống",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(Q=es.thongso)||void 0===Q?void 0:Q.caoTrinhCong)||"",onChange:e=>eL("thongso.caoTrinhCong")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Chiều d\xe0i cống(m)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(J=es.thongso)||void 0===J?void 0:J.chieuDaiCong)||"",onChange:e=>eL("thongso.chieuDaiCong")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"Đường k\xednh (m)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===($=es.thongso)||void 0===$?void 0:$.duongKinhCong)||"",onChange:e=>eL("thongso.duongKinhCong")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"K\xedch thước(rộng*cao)",fullWidth:!0,placeholder:"",value:(null==es?void 0:null===(ee=es.thongso)||void 0===ee?void 0:ee.kichThuocCong)||"",onChange:e=>eL("thongso.kichThuocCong")(e.target.value)})})]})]}):"",ef?(0,t.jsx)(s.ZP,{item:!0,xs:12,children:(0,t.jsx)(f.Z,{data:(null==es?void 0:es.hangmuc)||[],type:(0,Z.Z)(null===(el=ea.query)||void 0===el?void 0:el.type),onChange:e=>{eo(l=>({...l,hangmuc:e}))}})}):"",ef?(0,t.jsx)(s.ZP,{item:!0,xs:12,children:eb?(0,t.jsx)(y.Z,{data:(null==es?void 0:es.luuluong_theomd)||[],type:(0,Z.Z)(null===(en=ea.query)||void 0===en?void 0:en.type),onChange:e=>{eo(l=>({...l,luuluong_theomd:e}))}}):""}):""]})}},22e3:function(e,l,n){"use strict";var t=n(85893),i=n(60990),a=n(96788),s=n(68573),o=n(50333),d=n(40492),u=n(97182),h=n(51015),c=n(6897),r=n(94143),m=n(36307),g=n(15972),x=n(29346),v=n(67294),p=n(19757),j=n(77584),Z=n(64577),C=n(68047),T=n(11163),f=n(53839),y=n(97705),b=n(14638),P=n(35376);l.Z=e=>{var l,n,D,z,H,N,L,w;let{props:W,onChange:S}=e,k=(0,T.useRouter)(),[M,X]=(0,v.useState)(!1),[I,q]=(0,v.useState)({}),[_,V]=(0,v.useState)([]),[K,O]=(0,v.useState)([]),[G,A]=(0,v.useState)([]),[E,B]=(0,v.useState)([]),[R,F]=(0,v.useState)([]),[U,Y]=(0,v.useState)([]),[Q,J]=(0,v.useState)([]),[$,ee]=(0,v.useState)(!1),el="giay-phep"===k.query.page,[en,et]=(0,v.useState)([]);(0,v.useEffect)(()=>{(async()=>{try{var e,l,n;if(X(!0),void 0!==W){let n=await (0,Z.getData)("cong-trinh/".concat(W));q(n),B(null===(e=n.vitri)||void 0===e?void 0:e.map(e=>"".concat(e.tenHuyen,"-").concat(e.idHuyen))),Y(null===(l=n.vitri)||void 0===l?void 0:l.map(e=>"".concat(e.tenXa,"-").concat(e.idXa,"-").concat(e.idHuyen)))}else q({});let t=(await (0,Z.getData)("loai-ct/danh-sach")).filter(e=>{var l;return e.idCha===(0,j.Z)(null===(l=k.query)||void 0===l?void 0:l.type)});V(t);let i=await (0,Z.getData)("LuuVucSong/danh-sach");if(O(i),el){let e=await (0,Z.getData)("cong-trinh/danh-sach",{tenct:null,loai_ct:(null==I?void 0:I.idLoaiCT)!==null?null==I?void 0:I.idLoaiCT:(0,j.Z)(null===(n=k.query)||void 0===n?void 0:n.type),huyen:0,xa:0,song:0,luuvuc:0,tieu_luuvuc:0,tang_chuanuoc:0,tochuc_canhan:0,nguonnuoc_kt:null});et(e)}let a=await (0,Z.getData)("hanh-chinh/huyen/danh-sach");A(a);let s=await (0,Z.getData)("hanh-chinh/xa/danh-sach");F(s.flat())}catch(e){console.log(e)}finally{X(!1)}})()},[W]),(0,v.useEffect)(()=>{(()=>{let e=E.map(e=>e.split("-")[1]);J(R.filter(l=>e.includes(l.idHuyen)))})()},[E,R]),(0,v.useEffect)(()=>{el?ee((null==I?void 0:I.id)!==null):ee(!0)},[null==I?void 0:I.id,el]);let ei=async e=>{B("string"==typeof e.target.value?e.target.value.split(","):e.target.value)},ea=e=>{ee(!0),q({...e}),S({...I})},es=(e,l,n)=>{let t=l.split("."),i=e;for(let e=0;e<t.length-1;e++)i[t[e]]||(i[t[e]]={}),i=i[t[e]];return i[t[t.length-1]]=n,e},eo=e=>l=>{q(n=>{let t={...n,maCT:(0,C.V)({...n,[e]:l}),taiKhoan:(0,C.J)({...n,[e]:l})};return es(t,e,l),t})};return(0,v.useEffect)(()=>{S(I)},[I,S]),M?(0,t.jsx)(P.Z,{}):(0,t.jsxs)(i.Z,{children:[(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:(0,t.jsx)(a.Z,{variant:"subtitle1",className:"legend__title",children:"TH\xd4NG TIN C\xd4NG TR\xccNH"})}),(0,t.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(o.Z,{disabled:M,size:"small",options:_,getOptionLabel:e=>e.tenLoaiCT,value:_.find(e=>e.id===(null==I?void 0:I.idLoaiCT))||null,isOptionEqualToValue:e=>e.id,onChange:(e,l)=>eo("idLoaiCT")((null==l?void 0:l.id)||0),renderInput:e=>(0,t.jsx)(d.Z,{required:!0,...e,fullWidth:!0,label:"Chọn loại h\xecnh c\xf4ng tr\xecnh",InputProps:{...e.InputProps,endAdornment:(0,t.jsxs)(v.Fragment,{children:[M&&(0,t.jsx)(u.Z,{color:"primary",size:20}),e.InputProps.endAdornment]})}})})}),el?(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(o.Z,{disabled:M,size:"small",options:en,getOptionLabel:e=>{var l;return"".concat(e.tenCT," ").concat(null!==e.donvi_hanhchinh?"(".concat(null===(l=e.donvi_hanhchinh)||void 0===l?void 0:l.tenHuyen,")"):"")},value:en.find(e=>{var l,n;return(null===(l=e.tenCT)||void 0===l?void 0:l.toLowerCase())===(null==I?void 0:null===(n=I.tenCT)||void 0===n?void 0:n.toLowerCase())})||null,isOptionEqualToValue:e=>e.tenCT,onChange:(e,l)=>ea(l||p.C),renderInput:e=>(0,t.jsx)(d.Z,{required:!0,...e,fullWidth:!0,label:"Chọn c\xf4ng tr\xecnh",InputProps:{...e.InputProps,endAdornment:(0,t.jsxs)(v.Fragment,{children:[M&&(0,t.jsx)(u.Z,{color:"primary",size:20}),e.InputProps.endAdornment]})}})})}):"",el?(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(h.Z,{variant:"outlined",size:"small",startIcon:(0,t.jsx)(f.Z,{}),onClick:()=>{ee(!0),q(p.C)},children:"Th\xeam c\xf4ng tr\xecnh mới"})}):"",$?(0,t.jsx)(s.ZP,{item:!0,xs:12,children:(0,t.jsxs)(s.ZP,{container:!0,spacing:6,children:[(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"T\xean c\xf4ng tr\xecnh",fullWidth:!0,placeholder:"",value:(null==I?void 0:I.tenCT)||"",onChange:e=>eo("tenCT")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",label:"K\xfd hiệu c\xf4ng tr\xecnh",fullWidth:!0,placeholder:"",disabled:!0,value:(null==I?void 0:I.maCT)||"",onChange:e=>eo("maCT")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,t.jsx)(d.Z,{size:"small",variant:"outlined",fullWidth:!0,label:"Địa điểm c\xf4ng tr\xecnh",multiline:!0,maxRows:4,value:(null==I?void 0:I.viTriCT)||"",onChange:e=>eo("viTriCT")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:6,md:5,children:(0,t.jsxs)(c.Z,{fullWidth:!0,children:[(0,t.jsx)(r.Z,{id:"district_select_label",children:"Quận/Huyện"}),(0,t.jsx)(x.Z,{labelId:"district_select_label",id:"district_select",multiple:!0,size:"small",value:E,onChange:ei,input:(0,t.jsx)(m.Z,{id:"select-multiple-chip",label:"Chip"}),renderValue:e=>(0,t.jsx)(i.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e,l,n)=>(0,t.jsxs)(a.Z,{variant:"caption",lineHeight:1.3,children:[e.split("-")[0],l<n.length-1?", ":""]},l))}),children:G.map(e=>(0,t.jsx)(g.Z,{value:"".concat(e.tenHuyen,"-").concat(e.idHuyen),children:e.tenHuyen},e.idHuyen))})]})}),(0,t.jsx)(s.ZP,{item:!0,xs:6,md:5,children:(0,t.jsxs)(c.Z,{fullWidth:!0,children:[(0,t.jsx)(r.Z,{id:"commune_select_label",children:"X\xe3/Phường/Thị trấn"}),(0,t.jsx)(x.Z,{labelId:"commune_select_label",id:"commune_select",multiple:!0,size:"small",value:U,onChange:e=>{let l="string"==typeof e.target.value?e.target.value.split(","):e.target.value;Y(l);let n=l.map(e=>({id:0,idCongTrinh:0,idHuyen:e.split("-")[2],idXa:e.split("-")[1]}));q(e=>({...e,vitri:n}))},input:(0,t.jsx)(m.Z,{id:"select-multiple-chip",label:"Chip"}),renderValue:e=>(0,t.jsx)(i.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e,l,n)=>(0,t.jsxs)(a.Z,{variant:"caption",lineHeight:1.3,children:[e.split("-")[0],l<n.length-1?", ":""]},l))}),children:Q.map(e=>(0,t.jsx)(g.Z,{value:"".concat(e.tenXa,"-").concat(e.idXa,"-").concat(e.idHuyen),children:e.tenXa},e.idXa))})]})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:2,sm:12,children:(0,t.jsx)(o.Z,{disabled:M,size:"small",options:K,getOptionLabel:e=>e.tenLVS,value:K.find(e=>e.id===(null==I?void 0:I.idLuuVuc))||null,isOptionEqualToValue:e=>e.id,onChange:(e,l)=>eo("idLuuVuc")(l?l.id:0),renderInput:e=>(0,t.jsx)(d.Z,{required:!0,...e,fullWidth:!0,label:"Chọn lưu vực s\xf4ng",InputProps:{...e.InputProps,endAdornment:(0,t.jsxs)(v.Fragment,{children:[M&&(0,t.jsx)(u.Z,{color:"primary",size:20}),e.InputProps.endAdornment]})}})})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",label:"Năm x\xe2y dựng",value:(null==I?void 0:I.thoiGianXD)||"",onChange:e=>eo("thoiGianXD")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",variant:"outlined",fullWidth:!0,label:"Số điểm xả",placeholder:"",value:(null==I?void 0:I.soDiemXaThai)||"",onChange:e=>eo("soDiemXaThai")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",label:"Toạ độ X (VN2000)",value:(null==I?void 0:I.x)||"",onChange:e=>eo("x")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",value:(null==I?void 0:I.y)||"",onChange:e=>eo("y")(e.target.value),label:"Toạ độ Y (VN2000)"})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(o.Z,{size:"small",options:_,getOptionLabel:e=>e.label,value:_.find(e=>e.value===(null==I?void 0:I.idLoaiCT))||null,isOptionEqualToValue:e=>e.id,onChange:(e,l)=>eo("idLoaiCT")((null==l?void 0:l.id)||0),renderInput:e=>(0,t.jsx)(d.Z,{...e,fullWidth:!0,label:"Chọn tiểu v\xf9ng quy hoạch",InputProps:{...e.InputProps,endAdornment:(0,t.jsxs)(v.Fragment,{children:[M&&(0,t.jsx)(u.Z,{color:"primary",size:20}),e.InputProps.endAdornment]})}})})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(o.Z,{size:"small",options:_,getOptionLabel:e=>e.title,renderInput:e=>(0,t.jsx)(d.Z,{...e,variant:"outlined",fullWidth:!0,label:"Chọn lưu vực s\xf4ng",InputProps:{...e.InputProps,endAdornment:(0,t.jsxs)(v.Fragment,{children:[M&&(0,t.jsx)(u.Z,{color:"primary",size:20}),e.InputProps.endAdornment]})}})})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",variant:"outlined",fullWidth:!0,label:"Năm bắt đầu vận h\xe0nh",placeholder:"",defaultValue:null==I?void 0:I.namBatDauVanHanh,onChange:e=>eo("namBatDauVanHanh")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",defaultValue:null==I?void 0:I.viTriXT,onChange:e=>eo("viTriXT")(e.target.value),label:"Vị tr\xed xả thải"})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",defaultValue:null===(l=I.thongso)||void 0===l?void 0:l.nguonNuocXT,onChange:e=>eo("nguonNuocXT")(e.target.value),label:"Nguồn tiếp nhận xả thải"})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",defaultValue:null===(n=I.thongso)||void 0===n?void 0:n.phuongThucXT,onChange:e=>eo("phuongThucXT")(e.target.value),label:"Phương thức xả thải"})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",variant:"outlined",fullWidth:!0,label:"Chế độ xả thải",placeholder:"",defaultValue:null===(D=I.thongso)||void 0===D?void 0:D.cheDoXT,onChange:e=>eo("cheDoXT")(e.target.value)})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",fullWidth:!0,placeholder:"",defaultValue:(null===(z=I.thongso)||void 0===z?void 0:z.qXaThaiTB)||"",onChange:e=>eo("qXaThaiTB")(e.target.value),label:"Lưu lượng xả trung b\xecnh m3/ng\xe0y đ\xeam"})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",defaultValue:(null===(H=I.thongso)||void 0===H?void 0:H.qXaThaiLonNhat)||"",onChange:e=>eo("qXaThaiLonNhat")(e.target.value),label:"Lưu lượng xả lớn nhất m3/ng\xe0y đ\xeam"})}),(0,t.jsx)(s.ZP,{item:!0,xs:12,md:3,sm:12,children:(0,t.jsx)(d.Z,{size:"small",type:"text",fullWidth:!0,placeholder:"",defaultValue:(null===(N=I.thongso)||void 0===N?void 0:N.kqKf)||"",onChange:e=>eo("kqKf")(e.target.value),label:"Chất lượng nước thải, hệ số Kq v\xe0 Kf"})})]})}):""]})]}),$?(0,t.jsxs)(s.ZP,{item:!0,xs:12,children:[el?(0,t.jsx)(y.Z,{data:I.luuluong_theomd||[],type:(0,j.Z)(null===(L=k.query)||void 0===L?void 0:L.type),onChange:e=>{q(l=>({...l,luuluong_theomd:e}))}}):"",(0,t.jsx)(b.Z,{data:I.hangmuc||[],type:(0,j.Z)(null===(w=k.query)||void 0===w?void 0:w.type),onChange:e=>{q(l=>({...l,hangmuc:e}))}})]}):""]})}},19757:function(e,l,n){"use strict";n.d(l,{C:function(){return t}});let t={id:null,idLoaiCT:null,idSong:null,idLuuVuc:null,idTieuLuuVuc:null,idTangChuaNuoc:null,tenCT:null,maCT:null,viTriCT:null,x:null,y:null,capCT:null,namBatDauVanHanh:null,nguonNuocKT:null,mucDichKT:null,phuongThucKT:null,thoiGianKT:null,thoiGianHNK:null,mucDichHNK:null,mucDichhTD:null,quyMoHNK:null,thoiGianXD:null,soLuongGiengKT:null,soLuongGiengQT:null,soDiemXaThai:null,soLuongGieng:null,khoiLuongCacHangMucTD:null,qktThietKe:null,qktThucTe:null,viTriXT:null,taiKhoan:null,chuThich:null,hangmuc:null,luuluong_theomd:null,thongso:null,vitri:null}},14638:function(e,l,n){"use strict";var t=n(85893),i=n(67294),a=n(96788),s=n(25026),o=n(93454),d=n(76592),u=n(70360),h=n(46577),c=n(8863),r=n(60990),m=n(52857),g=n(10190),x=n(14312),v=n(80539),p=n(44723),j=n(68573),Z=n(40492),C=n(51015),T=n(19827),f=n(51423),y=n(49986),b=n(53839),P=n(68963),D=n(88148),z=n(17071),H=n(89090);l.Z=e=>{var l,n,N,L,w,W,S,k,M,X,I,q,_,V,K,O,G,A,E,B,R,F,U,Y;let{data:Q,type:J,onChange:$}=e,[ee,el]=(0,i.useState)([]),[en,et]=(0,i.useState)(-1),[ei,ea]=(0,i.useState)({id:null,idCT:null,tenHangMuc:null,viTriHangMuc:null,x:null,y:null,thongso:{id:null,idCT:null,idHangMucCT:null,daXoa:!1}}),[es,eo]=(0,i.useState)(null),ed=!!es,[eu,eh]=(0,i.useState)(null),[ec,er]=(0,i.useState)(null);(0,i.useEffect)(()=>{Q&&el(Q)},[Q]);let em=(e,l)=>{eo(e.currentTarget),eh(l)},eg=()=>{eo(null)},ex=()=>{null!==eu&&(ev(eu),eh(null)),eo(null)},ev=e=>{el(l=>{let n=l.map((l,n)=>n===e?{...l,daXoa:!0}:l);return $(n),n}),eo(null)},ep=e=>l=>{ea(n=>{let t={...n};return e in t?t[e]=l:t.thongso?t.thongso={...t.thongso,[e]:l,daXoa:!1}:t.thongso={id:null,idCT:null,idHangMucCT:null,daXoa:!1,[e]:l},t})},[ej,eZ]=(0,i.useState)(!1),eC=()=>eZ(!1),eT=(e,l,n)=>{eZ(!0),et(e),"add"===n&&(et(-1),ea({id:null,tenHangMuc:null,viTriHangMuc:null,x:null,y:null,daXoa:!1,thongso:{...Object.fromEntries(Object.keys(ei.thongso||{}).map(e=>[e,null])),id:null,idCT:null,idHangMucCT:null}})),"update"===n&&ea({...l})};return(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:(0,t.jsx)(a.Z,{variant:"subtitle1",className:"legend__title",children:1==J?"C\xc1C HẠNG MỤC CỦA C\xd4NG TR\xccNH":2==J||7==J||10==J||8==J||9==J?"DANH S\xc1CH GIẾNG":3==J?"C\xc1C Vị tr\xed xả thải":"C\xc1C HẠNG MỤC"})}),(0,t.jsx)(s.Z,{component:o.Z,children:(0,t.jsxs)(d.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,t.jsxs)(u.Z,{children:[(0,t.jsxs)(h.Z,{children:[(0,t.jsx)(c.Z,{size:"small",align:"center",rowSpan:2,width:50,children:"#"}),(0,t.jsx)(c.Z,{size:"small",align:"center",rowSpan:2,width:350,children:1==J?"T\xean hạng mục":"Số hiệu"}),(0,t.jsx)(c.Z,{size:"small",align:"center",colSpan:2,children:"Toạ độ(VN2000)"}),7==J||10==J?(0,t.jsxs)(c.Z,{size:"small",align:"center",rowSpan:2,width:150,children:["Q KT",(0,t.jsx)("sub",{children:"(m3/ng\xe0y.đ\xeam)"})]}):"",7==J||10==J?(0,t.jsx)(c.Z,{size:"small",align:"center",rowSpan:2,width:150,children:"Chế độ KT"}):"",7==J||10==J?(0,t.jsxs)(c.Z,{size:"small",align:"center",colSpan:2,children:["h ",(0,t.jsx)("sub",{children:"đoạn thu nước"})]}):"",7==J||10==J?(0,t.jsx)(c.Z,{size:"small",align:"center",colSpan:2,children:"h"}):"",7==J||10==J?(0,t.jsxs)(c.Z,{size:"small",align:"center",colSpan:2,children:["h ",(0,t.jsx)("sub",{children:"đặt ống lọc"})]}):"",3==J?(0,t.jsx)(c.Z,{size:"small",align:"center",rowSpan:2,width:250,children:"Vị tr\xed xả thải"}):"",3==J?(0,t.jsx)(c.Z,{size:"small",align:"center",rowSpan:2,width:250,children:"Nguồn nước xả thải"}):"",3==J?(0,t.jsx)(c.Z,{size:"small",align:"center",rowSpan:2,width:250,children:"PT xả thải"}):"",3==J?(0,t.jsx)(c.Z,{size:"small",align:"center",rowSpan:2,width:250,children:"Chế độ xả"}):"",3==J?(0,t.jsxs)(c.Z,{size:"small",align:"center",rowSpan:2,width:150,children:["Q nước thải ",(0,t.jsx)("sub",{children:"(m3/ng\xe0y.đ\xeam)"})]}):"",(0,t.jsx)(c.Z,{size:"small",align:"center",padding:"checkbox",rowSpan:2,children:(0,t.jsxs)(r.Z,{children:[(0,t.jsx)(m.Z,{"aria-label":"add",className:"tableActionBtn",onClick:()=>eT(0,null,"add"),children:(0,t.jsx)(b.Z,{})}),(0,t.jsx)(g.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:ej,onClose:eC,closeAfterTransition:!0,slots:{backdrop:x.Z},slotProps:{backdrop:{timeout:500}},children:(0,t.jsx)(v.Z,{in:ej,children:(0,t.jsxs)(r.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",boxShadow:24,pt:2,px:4,pb:3,width:600},children:[(0,t.jsx)(a.Z,{id:"transition-modal-title",variant:"h6",component:"h2",align:"center",py:3,children:1==J?"HẠNG MỤC C\xd4NG TR\xccNH":2==J||7==J||10==J||8==J||9==J?"HẠNG MỤC GIẾNG":3==J?"Vị tr\xed xả thải":"C\xc1C HẠNG MỤC"}),ec?(0,t.jsx)(p.Z,{sx:{my:2},severity:"warning",children:ec}):null,(0,t.jsxs)(j.ZP,{container:!0,spacing:4,children:[(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsx)(Z.Z,{name:"tenhangmuc",fullWidth:!0,label:"T\xean hạng mục",placeholder:"T\xean hạng mục",size:"small",value:null==ei.tenHangMuc?"":ei.tenHangMuc,onChange:e=>ep("tenHangMuc")(e.target.value)})}),(0,t.jsx)(j.ZP,{item:!0,md:6,children:(0,t.jsx)(Z.Z,{name:"x",fullWidth:!0,label:"Toạ độ X",placeholder:"Toạ độ X",size:"small",value:null==ei.x?"":ei.x,onChange:e=>ep("x")(e.target.value)})}),(0,t.jsx)(j.ZP,{item:!0,md:6,children:(0,t.jsx)(Z.Z,{name:"y",fullWidth:!0,label:"Toạ độ Y",placeholder:"Toạ độ Y",size:"small",value:null==ei.y?"":ei.y,onChange:e=>ep("y")(e.target.value)})}),7==J||10==J?(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsxs)(j.ZP,{container:!0,spacing:4,children:[(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsx)(Z.Z,{name:"qKhaiThac",fullWidth:!0,label:"Lưu lượng khai th\xe1c",placeholder:"Lưu lượng khai th\xe1c",size:"small",value:(null===(l=ei.thongso)||void 0===l?void 0:l.qKhaiThac)==null?"":null===(n=ei.thongso)||void 0===n?void 0:n.qKhaiThac,onChange:e=>ep("qKhaiThac")(e.target.value),multiline:!0})}),(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsx)(Z.Z,{name:"cheDoKT",fullWidth:!0,label:"Chế độ khai th\xe1c",placeholder:"Chế độ khai th\xe1c",size:"small",value:(null===(N=ei.thongso)||void 0===N?void 0:N.cheDoKT)==null?"":null===(L=ei.thongso)||void 0===L?void 0:L.cheDoKT,onChange:e=>ep("cheDoKT")(e.target.value),multiline:!0})}),(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsx)(Z.Z,{name:"hDoanThuNuocTu",fullWidth:!0,label:"Mực nước đoạn thu nước từ",placeholder:"Mực nước đoạn thu nước từ",size:"small",value:(null===(w=ei.thongso)||void 0===w?void 0:w.hDoanThuNuocTu)==null?"":null===(W=ei.thongso)||void 0===W?void 0:W.hDoanThuNuocTu,onChange:e=>ep("hDoanThuNuocTu")(e.target.value)})}),(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsx)(Z.Z,{name:"hDoanThuNuocDen",fullWidth:!0,label:"Mực nước đoạn thu nước đến",placeholder:"Mực nước đoạn thu nước đến",size:"small",value:(null===(S=ei.thongso)||void 0===S?void 0:S.hDoanThuNuocDen)==null?"":null===(k=ei.thongso)||void 0===k?void 0:k.hDoanThuNuocDen,onChange:e=>ep("hDoanThuNuocDen")(e.target.value)})}),(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsx)(Z.Z,{name:"hTinh",fullWidth:!0,label:"H tĩnh",placeholder:"H tĩnh",size:"small",value:(null===(M=ei.thongso)||void 0===M?void 0:M.hTinh)==null?"":null===(X=ei.thongso)||void 0===X?void 0:X.hTinh,onChange:e=>ep("hTinh")(e.target.value)})}),(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsx)(Z.Z,{name:"hDong",fullWidth:!0,label:"H động",placeholder:"H động",size:"small",value:(null===(I=ei.thongso)||void 0===I?void 0:I.hDong)==null?"":null===(q=ei.thongso)||void 0===q?void 0:q.hDong,onChange:e=>ep("hDong")(e.target.value)})}),(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsx)(Z.Z,{name:"hDatOngLocTu",fullWidth:!0,label:"Mực nước đặt ống lọc từ",placeholder:"Mực nước đặt ống lọc từ",size:"small",value:(null===(_=ei.thongso)||void 0===_?void 0:_.hDatOngLocTu)==null?"":null===(V=ei.thongso)||void 0===V?void 0:V.hDatOngLocTu,onChange:e=>ep("hDatOngLocTu")(e.target.value)})}),(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsx)(Z.Z,{name:"hDatOngLocDen",fullWidth:!0,label:"Mực nước đặt ống lọc đến",placeholder:"Mực nước đặt ống lọc đến",size:"small",value:(null===(K=ei.thongso)||void 0===K?void 0:K.hDatOngLocDen)==null?"":null===(O=ei.thongso)||void 0===O?void 0:O.hDatOngLocDen,onChange:e=>ep("hDatOngLocDen")(e.target.value)})})]})}):"",3==J&&(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsxs)(j.ZP,{container:!0,spacing:4,children:[(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsx)(Z.Z,{name:"viTriHangMuc",fullWidth:!0,label:"Vị tr\xed xả thải",placeholder:"Vị tr\xed xả thải",size:"small",value:null==ei.viTriHangMuc?"":ei.viTriHangMuc,onChange:e=>ep("viTriHangMuc")(e.target.value),multiline:!0})}),(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsx)(Z.Z,{name:"phuongThucXT",fullWidth:!0,label:"Phương thức xả thải",placeholder:"Phương thức xả thải",size:"small",value:(null===(G=ei.thongso)||void 0===G?void 0:G.phuongThucXT)==null?"":null===(A=ei.thongso)||void 0===A?void 0:A.phuongThucXT,onChange:e=>ep("phuongThucXT")(e.target.value),multiline:!0})}),(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsx)(Z.Z,{name:"nguonNuocXT",fullWidth:!0,label:"Nguồn nước xả thải",placeholder:"Nguồn nước xả thải",size:"small",value:(null===(E=ei.thongso)||void 0===E?void 0:E.nguonNuocXT)==null?"":null===(B=ei.thongso)||void 0===B?void 0:B.nguonNuocXT,onChange:e=>ep("nguonNuocXT")(e.target.value),multiline:!0})}),(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsx)(Z.Z,{name:"cheDoXT",fullWidth:!0,label:"Chế độ xả thải",placeholder:"Chế độ xả thải",size:"small",value:(null===(R=ei.thongso)||void 0===R?void 0:R.cheDoXT)==null?"":null===(F=ei.thongso)||void 0===F?void 0:F.cheDoXT,onChange:e=>ep("cheDoXT")(e.target.value),multiline:!0})}),(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsx)(Z.Z,{name:"qXaThai",fullWidth:!0,label:"Lưu lượng nước thải(m3/ng\xe0y đ\xeam)",placeholder:"Lưu lượng nước thải(m3/ng\xe0y đ\xeam)",size:"small",value:(null===(U=ei.thongso)||void 0===U?void 0:U.qXaThai)==null?"":null===(Y=ei.thongso)||void 0===Y?void 0:Y.qXaThai,onChange:e=>ep("qXaThai")(e.target.value)})})]})})]}),(0,t.jsxs)(j.ZP,{item:!0,sx:{display:"flex",justifyContent:"end",py:2},children:[(0,t.jsx)(C.Z,{startIcon:(0,t.jsx)(P.Z,{}),sx:{ml:1},variant:"outlined",color:"primary",onClick:()=>{ei.tenHangMuc&&null!==ei.tenHangMuc&&""!==ei.tenHangMuc?(en>=0?el(e=>{let l=[...e];return l[en]=ei,$(l),l}):el(e=>{let l=[...e,ei];return $(l),l}),et(-1),eC()):er("T\xean hạng mục kh\xf4ng được để trống")},children:"Lưu"}),(0,t.jsx)(C.Z,{startIcon:(0,t.jsx)(D.Z,{}),sx:{ml:1},variant:"outlined",color:"error",onClick:eC,children:"Huỷ"})]})]})})})]})})]}),(0,t.jsxs)(h.Z,{children:[(0,t.jsx)(c.Z,{size:"small",align:"center",width:150,children:"X"}),(0,t.jsx)(c.Z,{size:"small",align:"center",width:150,children:"Y"}),7==J||10==J?(0,t.jsx)(c.Z,{size:"small",align:"center",width:75,children:"Từ(m)"}):"",7==J||10==J?(0,t.jsx)(c.Z,{size:"small",align:"center",width:75,children:"Đến(m)"}):"",7==J||10==J?(0,t.jsxs)(c.Z,{size:"small",align:"center",width:75,children:["H",(0,t.jsx)("sub",{children:"tĩnh"})]}):"",7==J||10==J?(0,t.jsxs)(c.Z,{size:"small",align:"center",width:75,children:["H",(0,t.jsx)("sub",{children:"động"})]}):"",7==J||10==J?(0,t.jsx)(c.Z,{size:"small",align:"center",width:75,children:"Từ(m)"}):"",7==J||10==J?(0,t.jsx)(c.Z,{size:"small",align:"center",width:75,children:"Đến(m)"}):""]})]}),(0,t.jsx)(T.Z,{children:ee.filter(e=>!e.daXoa).map((e,l)=>{var n,i,a,s,o,d,u,g,x,v,j,Z;return(0,t.jsxs)(h.Z,{children:[(0,t.jsx)(c.Z,{className:"text-center  size='small' align-middle font-13",children:l+1}),(0,t.jsx)(c.Z,{padding:"checkbox",children:e.tenHangMuc}),(0,t.jsx)(c.Z,{padding:"checkbox",children:e.x}),(0,t.jsx)(c.Z,{padding:"checkbox",children:e.y}),2==J||7==J||10==J?(0,t.jsx)(c.Z,{padding:"checkbox",children:null===(n=e.thongso)||void 0===n?void 0:n.qKhaiThac}):"",2==J||7==J||10==J?(0,t.jsx)(c.Z,{padding:"checkbox",children:null===(i=e.thongso)||void 0===i?void 0:i.cheDoKT}):"",2==J||7==J||10==J?(0,t.jsx)(c.Z,{padding:"checkbox",children:null===(a=e.thongso)||void 0===a?void 0:a.hDoanThuNuocTu}):"",2==J||7==J||10==J?(0,t.jsx)(c.Z,{padding:"checkbox",children:null===(s=e.thongso)||void 0===s?void 0:s.hDoanThuNuocDen}):"",2==J||7==J||10==J?(0,t.jsx)(c.Z,{padding:"checkbox",children:null===(o=e.thongso)||void 0===o?void 0:o.hTinh}):"",2==J||7==J||10==J?(0,t.jsx)(c.Z,{padding:"checkbox",children:null===(d=e.thongso)||void 0===d?void 0:d.hDong}):"",2==J||7==J||10==J?(0,t.jsx)(c.Z,{padding:"checkbox",children:null===(u=e.thongso)||void 0===u?void 0:u.hDatOngLocTu}):"",2==J||7==J||10==J?(0,t.jsx)(c.Z,{padding:"checkbox",children:null===(g=e.thongso)||void 0===g?void 0:g.hDatOngLocDen}):"",3==J?(0,t.jsx)(c.Z,{padding:"checkbox",children:e.viTriHangMuc}):"",3==J?(0,t.jsx)(c.Z,{padding:"checkbox",children:null===(x=e.thongso)||void 0===x?void 0:x.nguonNuocXT}):"",3==J?(0,t.jsx)(c.Z,{padding:"checkbox",children:null===(v=e.thongso)||void 0===v?void 0:v.phuongThucXT}):"",3==J?(0,t.jsx)(c.Z,{padding:"checkbox",children:null===(j=e.thongso)||void 0===j?void 0:j.cheDoXT}):"",3==J?(0,t.jsx)(c.Z,{padding:"checkbox",children:null===(Z=e.thongso)||void 0===Z?void 0:Z.qXaThai}):"",(0,t.jsx)(c.Z,{size:"small",align:"center",padding:"checkbox",children:(0,t.jsxs)(r.Z,{className:"group_btn",children:[(0,t.jsx)(m.Z,{"aria-describedby":"".concat(e.tenHangMuc,"-").concat(l),onClick:()=>eT(l,e,"update"),"data-row-id":"".concat(e.tenHangMuc,"-").concat(l),children:(0,t.jsx)(z.Z,{className:"tableActionBtn"})}),(0,t.jsx)(m.Z,{"aria-describedby":"".concat(e.tenHangMuc,"-").concat(l),onClick:e=>em(e,l),"data-row-id":"".concat(e.tenHangMuc,"-").concat(l),children:(0,t.jsx)(H.Z,{className:"tableActionBtn deleteBtn"})}),(0,t.jsx)(f.ZP,{id:ed?"".concat(e.tenHangMuc,"-").concat(l):void 0,open:ed,anchorEl:es,onClose:eg,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,t.jsxs)(p.Z,{severity:"warning",children:["X\xf3a bản ghi n\xe0y ?",(0,t.jsx)(r.Z,{sx:{justifyContent:"center",paddingTop:4,width:"100%"},children:(0,t.jsxs)(y.Z,{variant:"outlined","aria-label":"outlined button group",children:[(0,t.jsx)(C.Z,{size:"small",onClick:()=>ex(),children:"Đ\xfang"}),(0,t.jsx)(C.Z,{color:"error",size:"small",onClick:()=>eg(),children:"Kh\xf4ng"})]})})]})})]})})]},l)})})]})})]})}},97705:function(e,l,n){"use strict";var t=n(85893),i=n(67294),a=n(96788),s=n(25026),o=n(93454),d=n(76592),u=n(70360),h=n(46577),c=n(8863),r=n(60990),m=n(52857),g=n(10190),x=n(14312),v=n(80539),p=n(44723),j=n(68573),Z=n(50333),C=n(40492),T=n(97182),f=n(51015),y=n(19827),b=n(51423),P=n(49986),D=n(53839),z=n(68963),H=n(88148),N=n(17071),L=n(89090),w=n(64577);l.Z=e=>{let{data:l,type:n,onChange:W}=e,[S,k]=(0,i.useState)([]),[M,X]=(0,i.useState)([]),[I,q]=(0,i.useState)(-1),[_,V]=(0,i.useState)({id:0,idCT:0,idMucDich:0,mucDich:"",luuLuong:0,donViDo:"",ghiChu:""}),[K,O]=(0,i.useState)(null),G=!!K,[A,E]=(0,i.useState)(null),[B,R]=(0,i.useState)(null),[F,U]=(0,i.useState)(!1),Y=(e,l)=>{O(e.currentTarget),E(l)},Q=()=>{O(null)},J=()=>{null!==A&&($(A),E(null)),O(null)},$=e=>{k(l=>{let n=[...l],t=n[e];return t&&(t.daXoa=!0),W(n),n}),O(null)},ee=e=>l=>{V(n=>{let t={...n};return t[e]=l,"idMucDich"===e&&l&&(t.idMucDich=l.id,t.mucDich=l.mucDich),t})},[el,en]=(0,i.useState)(!1),et=()=>en(!1),ei=(e,l,n)=>{en(!0),q(e),"add"===n&&V({...Object.fromEntries(Object.keys(_||{}).map(e=>[e,null])),id:0}),"update"===n&&V({...l})};return(0,i.useEffect)(()=>{(async()=>{try{U(!0);let e=await (0,w.getData)("muc-dich-kt/danh-sach");X(e)}catch(e){console.log(e)}finally{U(!1)}})()},[]),(0,i.useEffect)(()=>{l&&k(l.map(e=>({id:e.id||void 0,idCT:e.idCT||void 0,idMucDich:e.idMucDich||void 0,mucDich:e.mucDich||void 0,luuLuong:e.luuLuong||void 0,donViDo:e.donViDo||void 0,ghiChu:e.ghiChu||void 0})))},[l]),(0,t.jsxs)("fieldset",{children:[(0,t.jsx)("legend",{children:(0,t.jsx)(a.Z,{variant:"subtitle1",className:"legend__title",children:1==n||7==n?"Lưu lượng theo mục đ\xedch khai th\xe1c sử dụng":8==n?"Lưu lượng theo mục đ\xedch thăm d\xf2":3==n?"Lưu lượng theo mục đ\xedch xả thải":""})}),(0,t.jsx)(s.Z,{component:o.Z,children:(0,t.jsxs)(d.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,t.jsx)(u.Z,{children:(0,t.jsxs)(h.Z,{children:[(0,t.jsx)(c.Z,{size:"small",align:"center",rowSpan:2,width:50,children:"#"}),(0,t.jsx)(c.Z,{size:"small",align:"center",rowSpan:2,width:500,children:"Mục đ\xedch"}),(0,t.jsx)(c.Z,{size:"small",align:"center",rowSpan:2,children:"Lưu lượng"}),(0,t.jsx)(c.Z,{size:"small",align:"center",rowSpan:2,children:"Đơn vị đo"}),(0,t.jsx)(c.Z,{size:"small",align:"center",rowSpan:2,children:"Ghi ch\xfa"}),(0,t.jsx)(c.Z,{size:"small",align:"center",padding:"checkbox",rowSpan:2,width:50,children:(0,t.jsxs)(r.Z,{children:[(0,t.jsx)(m.Z,{"aria-label":"add",className:"tableActionBtn",onClick:()=>ei(0,null,"add"),children:(0,t.jsx)(D.Z,{})}),(0,t.jsx)(g.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:el,onClose:et,closeAfterTransition:!0,slots:{backdrop:x.Z},slotProps:{backdrop:{timeout:500}},children:(0,t.jsx)(v.Z,{in:el,children:(0,t.jsxs)(r.Z,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:600,bgcolor:"background.paper",boxShadow:24,pt:2,px:4,pb:3,width:600},children:[(0,t.jsx)(a.Z,{id:"transition-modal-title",variant:"h6",component:"h2",align:"center",py:3,children:1==n||2==n||7==n||8==n||9==n?"LƯU LƯỢNG THEO MỤC Đ\xcdCH KHAI TH\xc1C":3==n?"LƯU LƯỢNG THEO MỤC Đ\xcdCH XẢ THẢI":"LƯU LƯỢNG THEO MỤC Đ\xcdCH"}),B?(0,t.jsx)(p.Z,{sx:{my:2},severity:"warning",children:B}):null,(0,t.jsxs)(j.ZP,{container:!0,spacing:4,children:[(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsx)(Z.Z,{disabled:F,size:"small",options:M,getOptionLabel:e=>e.mucDich,value:M.find(e=>e.id===(null==_?void 0:_.idMucDich))||null,isOptionEqualToValue:e=>e.id,onChange:(e,l)=>ee("idMucDich")(l),renderInput:e=>(0,t.jsx)(C.Z,{required:!0,...e,fullWidth:!0,label:"Chọn mục đ\xedch",InputProps:{...e.InputProps,endAdornment:(0,t.jsxs)(i.Fragment,{children:[F&&(0,t.jsx)(T.Z,{color:"primary",size:20}),e.InputProps.endAdornment]})}})})}),(0,t.jsx)(j.ZP,{item:!0,md:6,children:(0,t.jsx)(C.Z,{name:"luuLuong",fullWidth:!0,label:"Lưu lượng",placeholder:"Lưu lượng",size:"small",value:_.luuLuong||"",onChange:e=>ee("luuLuong")(e.target.value)})}),(0,t.jsx)(j.ZP,{item:!0,md:6,children:(0,t.jsx)(C.Z,{name:"donViDo",fullWidth:!0,label:"Đơn vị đo",placeholder:"Đơn vị đo",size:"small",value:_.donViDo||"",onChange:e=>ee("donViDo")(e.target.value)})}),(0,t.jsx)(j.ZP,{item:!0,md:12,children:(0,t.jsx)(C.Z,{name:"ghiChu",fullWidth:!0,label:"Ghi ch\xfa",placeholder:"Ghi ch\xfa",size:"small",value:_.ghiChu||"",onChange:e=>ee("ghiChu")(e.target.value),multiline:!0,rows:4})})]}),(0,t.jsxs)(j.ZP,{item:!0,sx:{display:"flex",justifyContent:"end",py:2},children:[(0,t.jsx)(f.Z,{startIcon:(0,t.jsx)(z.Z,{}),sx:{ml:1},variant:"outlined",color:"primary",onClick:()=>{void 0!==_.idMucDich?(I>=0?k(e=>{let l=[...e];return l[I]=_,W(l),l}):k(e=>{let l=[...e,_];return W(l),l}),q(-1),et()):R("Mục đ\xedch kh\xf4ng được để trống")},children:"Lưu"}),(0,t.jsx)(f.Z,{startIcon:(0,t.jsx)(H.Z,{}),sx:{ml:1},variant:"outlined",color:"error",onClick:et,children:"Huỷ"})]})]})})})]})})]})}),(0,t.jsx)(y.Z,{children:S.filter(e=>!e.daXoa).map((e,l)=>(0,t.jsxs)(h.Z,{children:[(0,t.jsx)(c.Z,{children:l+1}),(0,t.jsx)(c.Z,{children:e.mucDich}),(0,t.jsx)(c.Z,{children:e.luuLuong}),(0,t.jsx)(c.Z,{children:e.donViDo}),(0,t.jsx)(c.Z,{children:e.ghiChu}),(0,t.jsx)(c.Z,{size:"small",align:"center",padding:"checkbox",children:(0,t.jsxs)(r.Z,{className:"group_btn",children:[(0,t.jsx)(m.Z,{"aria-describedby":"".concat(e.idMucDich,"-").concat(l),onClick:()=>ei(l,e,"update"),"data-row-id":"".concat(e.idMucDich,"-").concat(l),children:(0,t.jsx)(N.Z,{className:"tableActionBtn"})}),(0,t.jsx)(m.Z,{"aria-describedby":"".concat(e.idMucDich,"-").concat(l),onClick:e=>Y(e,l),"data-row-id":"".concat(e.idMucDich,"-").concat(l),children:(0,t.jsx)(L.Z,{className:"tableActionBtn deleteBtn"})}),(0,t.jsx)(b.ZP,{id:G?"".concat(e.idMucDich,"-").concat(l):void 0,open:G,anchorEl:K,onClose:Q,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,t.jsxs)(p.Z,{severity:"warning",children:["X\xf3a bản ghi n\xe0y ?",(0,t.jsx)(r.Z,{sx:{justifyContent:"center",paddingTop:4,width:"100%"},children:(0,t.jsxs)(P.Z,{variant:"outlined","aria-label":"outlined button group",children:[(0,t.jsx)(f.Z,{size:"small",onClick:()=>J(),children:"Đ\xfang"}),(0,t.jsx)(f.Z,{color:"error",size:"small",onClick:()=>Q(),children:"Kh\xf4ng"})]})})]})})]})})]},l))})]})})]})}},69349:function(){},49080:function(){},57588:function(){},3071:function(){},15232:function(){},20067:function(){},72061:function(){}}]);