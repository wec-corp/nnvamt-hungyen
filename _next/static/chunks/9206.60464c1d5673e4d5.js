"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9206],{69132:function(n,e,t){var i=t(64836);e.Z=void 0;var l=i(t(33651)),a=t(85893);e.Z=(0,l.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},89857:function(n,e,t){var i=t(64836);e.Z=void 0;var l=i(t(33651)),a=t(85893);e.Z=(0,l.default)((0,a.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")},58858:function(n,e,t){var i=t(64836);e.Z=void 0;var l=i(t(33651)),a=t(85893);e.Z=(0,l.default)((0,a.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm9 14H6V10h12zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2"}),"LockOutlined")},95611:function(n,e,t){t.d(e,{Z:function(){return _}});var i,l=t(63366),a=t(87462),o=t(67294),s=t(8780),r=t(94780),c=t(66643),u=t(96788),d=t(92276),h=t(57280),v=t(77527),m=t(1588),g=t(34867);function p(n){return(0,g.ZP)("MuiInputAdornment",n)}let x=(0,m.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var b=t(44001),y=t(85893);let f=["children","className","component","disablePointerEvents","disableTypography","position","variant"],j=n=>{let{classes:e,disablePointerEvents:t,hiddenLabel:i,position:l,size:a,variant:o}=n,s={root:["root",t&&"disablePointerEvents",l&&"position".concat((0,c.Z)(l)),o,i&&"hiddenLabel",a&&"size".concat((0,c.Z)(a))]};return(0,r.Z)(s,p,e)},Z=(0,v.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(n,e)=>{let{ownerState:t}=n;return[e.root,e["position".concat((0,c.Z)(t.position))],!0===t.disablePointerEvents&&e.disablePointerEvents,e[t.variant]]}})(n=>{let{theme:e,ownerState:t}=n;return(0,a.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{["&.".concat(x.positionStart,"&:not(.").concat(x.hiddenLabel,")")]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})});var _=o.forwardRef(function(n,e){let t=(0,b.i)({props:n,name:"MuiInputAdornment"}),{children:r,className:c,component:v="div",disablePointerEvents:m=!1,disableTypography:g=!1,position:p,variant:x}=t,_=(0,l.Z)(t,f),C=(0,h.Z)()||{},T=x;x&&C.variant,C&&!T&&(T=C.variant);let k=(0,a.Z)({},t,{hiddenLabel:C.hiddenLabel,size:C.size,disablePointerEvents:m,position:p,variant:T}),S=j(k);return(0,y.jsx)(d.Z.Provider,{value:null,children:(0,y.jsx)(Z,(0,a.Z)({as:v,ownerState:k,className:(0,s.Z)(S.root,c),ref:e},_,{children:"string"!=typeof r||g?(0,y.jsxs)(o.Fragment,{children:["start"===p?i||(i=(0,y.jsx)("span",{className:"notranslate",children:"​"})):null,r]}):(0,y.jsx)(u.Z,{color:"text.secondary",children:r})}))})})},77584:function(n,e){e.Z=n=>{if(!n)return 0;switch(n){case"nuoc-mat":return 1;case"nuoc-duoi-dat":return 2;case"ktsd-nuoc-duoi-dat":return 7;case"td-nuoc-duoi-dat":return 8;case"hnk-nuoc-duoi-dat":return 9;case"xa-thai":return 3;default:return 0}}},95906:function(n,e,t){var i=t(11163),l=t(67294),a=t(77584);e.Z=()=>{let{query:n}=(0,i.useRouter)();return{consFilter:(0,l.useMemo)(()=>({page:n.page,type:n.type,tenct:"",loai_ct:(0,a.Z)(null==n?void 0:n.type),huyen:Number(n.huyen)||0,xa:Number(n.xa)||0,song:Number(n.song)||0,luuvuc:Number(n.luuvuc)||0,tieu_luuvuc:Number(n.tieu_luuvuc)||0,tang_chuanuoc:Number(n.tang_chuanuoc)||0,nguonnuoc_kt:""}),[n]),licFilter:(0,l.useMemo)(()=>({page:"string"==typeof n.page?n.page:Array.isArray(n.page)?n.page[0]:void 0,type:"string"==typeof n.type?n.type:Array.isArray(n.type)?n.type[0]:void 0,so_gp:"string"==typeof n.so_gp?n.so_gp:Array.isArray(n.so_gp)?n.so_gp[0]:void 0,cong_trinh:"string"==typeof n.cong_trinh?n.cong_trinh:Array.isArray(n.cong_trinh)?n.cong_trinh[0]:void 0,coquan_cp:"string"==typeof n.coquan_cp?n.coquan_cp:Array.isArray(n.coquan_cp)?n.coquan_cp[0]:void 0,loaihinh_cp:Number(n.loaihinh_cp)||0,hieuluc_gp:"string"==typeof n.hieuluc_gp?n.hieuluc_gp:Array.isArray(n.hieuluc_gp)?n.hieuluc_gp[0]:void 0,loai_ct:Number(n.loai_ct)||(0,a.Z)("string"==typeof n.type?n.type:Array.isArray(n.type)?n.type[0]:""),tang_chuanuoc:Number(n.tang_chuanuoc)||0,huyen:Number(n.huyen)||0,xa:Number(n.xa)||0,tieuvung_qh:Number(n.tieuvung_qh)||0,tochuc_canhan:Number(n.tochuc_canhan)||0,tu_nam:Number(n.tu_nam)||new Date().getFullYear()-5,den_nam:Number(n.den_nam)||new Date().getFullYear()}),[n])}}},19206:function(n,e,t){t.r(e),t.d(e,{default:function(){return F}});var i=t(85893),l=t(67294),a=t(68573),o=t(93454),s=t(60990),r=t(5152),c=t.n(r),u=t(64577),d=t(40492),h=t(95611),v=t(21038),m=t(96788),g=t(77527),p=t(58858);let x=(0,g.ZP)(d.Z)(n=>{let{theme:e}=n;return{"& .MuiInputBase-input":{color:e.palette.text.primary,cursor:"default"},"& .MuiOutlinedInput-root":{"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:e.palette.divider,borderWidth:"1px"}}}}),b=n=>{let{label:e,value:t,type:l="text",fullWidth:a=!0}=n;return(0,i.jsx)(x,{size:"small",type:l,label:e,value:t||"",fullWidth:a,InputProps:{readOnly:!0,endAdornment:(0,i.jsx)(h.Z,{position:"end",children:(0,i.jsx)(v.Z,{title:"Trường n\xe0y kh\xf4ng thể chỉnh sửa",children:(0,i.jsx)(p.Z,{fontSize:"small",color:"action"})})})}})};var y=n=>{var e,t,o,s,r,c,u,h,v,g,p,x,y;let{data:f,onChange:j}=n,[Z,_]=(0,l.useState)((null===(e=f.businessInfo)||void 0===e?void 0:e.email)||"");(0,l.useEffect)(()=>{var n;_((null===(n=f.businessInfo)||void 0===n?void 0:n.email)||"")},[null===(t=f.businessInfo)||void 0===t?void 0:t.email]);let C={email:Z,chu_gp:(null===(o=f.businessInfo)||void 0===o?void 0:o.tenTCCN)||"",dc_chu_gp:(null===(s=f.businessInfo)||void 0===s?void 0:s.diaChi)||"",ten_ct:(null===(r=f.construction)||void 0===r?void 0:r.tenCT)||"",ma_ct:(null===(c=f.construction)||void 0===c?void 0:c.maCT)||"",loai_ct:(null===(h=f.construction)||void 0===h?void 0:null===(u=h.loaiCT)||void 0===u?void 0:u.tenLoaiCT)||"",vi_tri:(null===(v=f.construction)||void 0===v?void 0:v.viTriCT)||"",x:null!==(x=null===(g=f.construction)||void 0===g?void 0:g.x)&&void 0!==x?x:0,y:null!==(y=null===(p=f.construction)||void 0===p?void 0:p.y)&&void 0!==y?y:0},T=n=>{j("businessInfo.email",n),console.log("Email changed to:",n)};return(0,i.jsxs)("fieldset",{className:"field-request-info",children:[(0,i.jsx)("legend",{children:(0,i.jsx)(m.Z,{variant:"subtitle1",className:"legend__title",children:"Th\xf4ng tin c\xf4ng tr\xecnh"})}),(0,i.jsxs)(a.ZP,{container:!0,spacing:5,children:[(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,i.jsx)(b,{label:"T\xean đơn vị/Chủ giấy ph\xe9p",value:C.chu_gp})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,i.jsx)(d.Z,{size:"small",type:"email",label:"Email*",value:Z,onChange:n=>{let e=n.target.value;_(e),T(e)},fullWidth:!0,required:!0,error:!Z,helperText:Z?"":"Vui l\xf2ng nhập Email để nhận th\xf4ng tin kết nối"})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:12,sm:12,children:(0,i.jsx)(b,{label:"Địa chỉ đơn vị",value:C.dc_chu_gp})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,i.jsx)(b,{label:"T\xean c\xf4ng tr\xecnh",value:C.ten_ct||""})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,i.jsx)(b,{label:"M\xe3 c\xf4ng tr\xecnh",value:C.ma_ct||""})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,i.jsx)(b,{label:"Loại c\xf4ng tr\xecnh",value:C.loai_ct||""})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,i.jsx)(b,{label:"Địa điểm CT",value:C.vi_tri||""})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,i.jsx)(b,{label:"Tọa độ X",value:C.x||"",type:"number"})}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:6,sm:12,children:(0,i.jsx)(b,{label:"Tọa độ Y",value:C.y||"",type:"number"})})]}),(0,i.jsxs)(m.Z,{py:2,sx:{fontSize:12,fontStyle:"italic"},children:["Mỗi t\xe0i khoản ứng với 1 chủ c\xf4ng tr\xecnh (1 chủ c\xf4ng tr\xecnh c\xf3 thể quản l\xfd nhiều c\xf4ng tr\xecnh)",(0,i.jsx)("br",{}),"Email: Địa chỉ email của chủ c\xf4ng tr\xecnh, d\xf9ng để gửi th\xf4ng b\xe1o khi y\xeau cầu kết nối được duyệt hoặc từ chối."]})]})},f=t(52857),j=t(81873),Z=t(51015),_=t(97182),C=t(89857),T=t(69132),k=t(36720),S=t(39892),I=t(29250);let N=n=>{let{value:e,label:t}=n,[a,o]=(0,l.useState)(!1),r=async()=>{if(e)try{await navigator.clipboard.writeText(String(e)),o(!0),(0,k.yv)("Đ\xe3 sao ch\xe9p ".concat(t),{variant:"success"}),setTimeout(()=>{o(!1)},2e3)}catch(n){(0,k.yv)("Kh\xf4ng thể sao ch\xe9p: ".concat(n),{variant:"error"})}};return(0,i.jsxs)(s.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,i.jsx)(m.Z,{variant:"body2",sx:{mr:1},children:e||""}),e&&(0,i.jsx)(v.Z,{title:a?"Đ\xe3 sao ch\xe9p!":"Sao ch\xe9p",children:(0,i.jsx)(f.Z,{size:"small",onClick:r,children:a?(0,i.jsx)(T.Z,{fontSize:"small",color:"success"}):(0,i.jsx)(C.Z,{fontSize:"small"})})})]})};var P=n=>{var e;let{acc:t,cons:a,setPostSuccess:o}=n,r=[{id:"ftpAddress",label:"Địa chỉ FTP",align:"center",elm:n=>(0,i.jsx)(N,{value:n.ftpAddress,label:"địa chỉ FTP"})},{id:"username",label:"T\xe0i khoản",align:"center",elm:n=>(0,i.jsx)(N,{value:n.username,label:"t\xe0i khoản"})},{id:"password",label:"Mật khẩu",align:"center",elm:n=>(0,i.jsx)(N,{value:n.password,label:"mật khẩu"})},{id:"cameraLink",label:"Đường dẫn Camera",align:"center",elm:n=>(0,i.jsx)(N,{value:n.cameraLink,label:"đường dẫn camera"})},{id:"protocol",label:"Giao thức truyền",align:"center",elm:n=>(0,i.jsx)("span",{children:n.protocol})},{id:"port",label:"Cổng kết nối FTP",align:"center",elm:n=>(0,i.jsx)(N,{value:n.port,label:"cổng kết nối"})},{id:"workingDirectory",label:"Thư mục l\xe0m việc",align:"center",elm:n=>(0,i.jsx)(N,{value:n.workingDirectory,label:"thư mục l\xe0m việc"})},{id:"status",label:"Trạng th\xe1i",align:"center",elm:n=>!0===n.status?(0,i.jsx)(j.Z,{label:"Đ\xe3 kết nối",color:"success",size:"small"}):(0,i.jsx)(j.Z,{label:"Chưa kết nối",color:"warning",size:"small"})}],c=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="";for(let i=0;i<n;i++){let n=Math.floor(Math.random()*e.length);t+=e[n]}return t},[u,d]=(0,l.useState)(!1),h=async()=>{try{var n,e,t,i,l,s,r,u,h,v,m,g,p,x,b,y;let f,j,Z,_,C,T,S;if(d(!0),"businessInfo"in a&&a.businessInfo&&a.businessInfo.email?f=a.businessInfo.email:"giayphep"in a&&a.giayphep&&(null===(e=a.giayphep[0])||void 0===e?void 0:null===(n=e.tochuc_canhan)||void 0===n?void 0:n.email)&&(f=a.giayphep[0].tochuc_canhan.email),!f){(0,k.yv)("Vui l\xf2ng nhập email nhận th\xf4ng tin truyền dữ liệu.",{variant:"warning"});return}let N=0,P=0;if("construction"in a){let n=a.construction;j=null==n?void 0:n.maCT,Z=null==n?void 0:n.tenCT,_=null==n?void 0:null===(t=n.loaiCT)||void 0===t?void 0:t.tenLoaiCT,C=null==n?void 0:n.viTriCT,N=null!==(s=null==n?void 0:n.x)&&void 0!==s?s:0,P=null!==(r=null==n?void 0:n.y)&&void 0!==r?r:0,T=null===(i=a.businessInfo)||void 0===i?void 0:i.tenTCCN,S=null===(l=a.businessInfo)||void 0===l?void 0:l.diaChi}else j=a.maCT,Z=a.tenCT,_=null===(u=a.loaiCT)||void 0===u?void 0:u.tenLoaiCT,C=a.viTriCT,N=null!==(b=a.x)&&void 0!==b?b:0,P=null!==(y=a.y)&&void 0!==y?y:0,T=null===(m=a.giayphep)||void 0===m?void 0:null===(v=m[0])||void 0===v?void 0:null===(h=v.tochuc_canhan)||void 0===h?void 0:h.tenTCCN,S=null===(x=a.giayphep)||void 0===x?void 0:null===(p=x[0])||void 0===p?void 0:null===(g=p.tochuc_canhan)||void 0===g?void 0:g.diaChi;let w={username:j?j.toLowerCase():void 0,password:c(),cameraLink:void 0,ftpAddress:"222.255.134.6",protocol:"FTP",port:21,workingDirectory:j?"/".concat(j.toUpperCase()):void 0,dataType:void 0,status:!1,cong_trinh:{chu_gp:T,dc_chu_gp:S,email:f,ten_ct:Z,ma_ct:j,loai_ct:_,vi_tri:C,x:N,y:P}};console.log("Sending connection request:",w),await I.Rx.save(w)&&((0,k.yv)("Y\xeau cầu kết nối đ\xe3 được gửi th\xe0nh c\xf4ng. Th\xf4ng tin kết nối sẽ được gửi đến email: ".concat(f),{variant:"success",autoHideDuration:5e3}),"function"==typeof o&&o(!0))}catch(n){console.error("Lỗi khi gọi API:",n),(0,k.yv)("Lỗi khi gửi y\xeau cầu kết nối: ".concat(n),{variant:"error"})}finally{d(!1)}};return(0,i.jsxs)("fieldset",{className:"field-request-info",children:[(0,i.jsx)("legend",{children:(0,i.jsx)(m.Z,{variant:"subtitle1",className:"legend__title",children:"T\xe0i khoản kết nối đến c\xf4ng tr\xecnh"})}),(null==t?void 0:t.id)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.Z,{sx:{mb:2},children:[(0,i.jsxs)(m.Z,{variant:"body2",color:"text.secondary",sx:{mb:1},children:["Th\xf4ng tin t\xe0i khoản kết nối truyền dữ liệu cho c\xf4ng tr\xecnh ","construction"in a&&(null===(e=a.construction)||void 0===e?void 0:e.tenCT)?a.construction.tenCT||"":"tenCT"in a&&a.tenCT||"",". Sử dụng c\xe1c th\xf4ng tin n\xe0y để cấu h\xecnh phần mềm truyền dữ liệu."]}),(0,i.jsxs)(m.Z,{variant:"caption",sx:{fontStyle:"italic",color:"info.main"},children:["Nhấp v\xe0o biểu tượng ",(0,i.jsx)(C.Z,{fontSize:"inherit"})," để sao ch\xe9p th\xf4ng tin."]})]}),(0,i.jsx)(S.Z,{columns:r,rows:[{...t,cong_trinh:void 0,id:1}]})]}):(0,i.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:2},children:[(0,i.jsx)(m.Z,{variant:"body1",sx:{mb:2},children:"Hiện chưa c\xf3 t\xe0i khoản kết nối cho c\xf4ng tr\xecnh n\xe0y. Vui l\xf2ng y\xeau cầu kết nối để nhận th\xf4ng tin."}),(0,i.jsx)(Z.Z,{variant:"contained",color:"primary",size:"medium",onClick:h,disabled:u,startIcon:u?(0,i.jsx)(_.Z,{size:20}):null,children:u?"Đang xử l\xfd...":"Y\xeau cầu kết nối"})]})]})},w=t(6897),A=t(94143),z=t(29346),L=t(15972),M=n=>{let{constructions:e,selectedIndex:t,onChange:a,loading:r=!1}=n,[c,u]=(0,l.useState)(String(t));return((0,l.useEffect)(()=>{u(String(t))},[t]),e.length<=1)?null:(0,i.jsxs)(o.Z,{sx:{p:2,mb:2},children:[(0,i.jsxs)(s.Z,{sx:{mb:1},children:[(0,i.jsxs)(m.Z,{variant:"subtitle1",children:["Chọn c\xf4ng tr\xecnh",(0,i.jsx)(j.Z,{label:"".concat(e.length," c\xf4ng tr\xecnh"),size:"small",color:"primary",sx:{ml:1}})]}),(0,i.jsx)(m.Z,{variant:"caption",color:"text.secondary",children:"Bạn đang quản l\xfd nhiều c\xf4ng tr\xecnh. Vui l\xf2ng chọn c\xf4ng tr\xecnh để xem th\xf4ng tin kết nối."})]}),(0,i.jsxs)(w.Z,{fullWidth:!0,size:"small",children:[(0,i.jsx)(A.Z,{id:"construction-selector-label",children:"C\xf4ng tr\xecnh"}),(0,i.jsx)(z.Z,{labelId:"construction-selector-label",id:"construction-selector",value:c,label:"C\xf4ng tr\xecnh",onChange:n=>{let e=Number(n.target.value);u(n.target.value),a(e)},disabled:r,children:e.map((n,e)=>{let t="",l="";if("construction"in n){var a,o;t=(null===(a=n.construction)||void 0===a?void 0:a.tenCT)||"",l=(null===(o=n.construction)||void 0===o?void 0:o.maCT)||""}else t=n.tenCT||"",l=n.maCT||"";return(0,i.jsxs)(L.Z,{value:String(e),children:[t," ",l?"(".concat(l,")"):""]},e)})})]})]})},E=t(95906);let q=c()(()=>Promise.all([t.e(4028),t.e(6002),t.e(9269),t.e(3701),t.e(649),t.e(6578),t.e(7679),t.e(7531),t.e(723),t.e(776),t.e(2573),t.e(3355),t.e(3385),t.e(3809)]).then(t.bind(t,3385)),{loadableGenerated:{webpack:()=>[3385]},ssr:!1});var F=()=>{let[n]=(0,l.useState)([15.012172,108.676488]),[e]=(0,l.useState)(9),[t,r]=(0,l.useState)([]),[c,d]=(0,l.useState)(null),[h,v]=(0,l.useState)(!0),{consFilter:m}=(0,E.Z)(),[g,p]=(0,l.useState)(0),[x,b]=(0,l.useState)(!1),[f,j]=(0,l.useState)(!1);(0,l.useEffect)(()=>{!async function(){v(!0);try{let e=await u.dataTransmissionService.getClientConstructions();if(e&&e.length>0){var n;r(e);let t=e.length>1;b(t);let i=g<e.length?g:0;d((null===(n=e[i])||void 0===n?void 0:n.connectionAccount)||null)}else{let n=await u.congtrinhService.getAll(m);if(n&&n.items.length>0){r(n.items),b(n.items.length>1);let e=await u.dataTransmissionService.getByUser();d(e)}else r([]),b(!1),d(null)}}catch(n){console.error("Lỗi khi lấy dữ liệu:",n),r([]),d(null),b(!1)}finally{v(!1)}}()},[f,g]);let Z=()=>{if(0===t.length)return{};let n=t[g]||t[0];return n&&"construction"in n?n:{}};return(0,i.jsxs)(a.ZP,{container:!0,spacing:2,children:[(0,i.jsxs)(a.ZP,{item:!0,xs:12,md:8,children:[x&&(0,i.jsx)(M,{constructions:t,selectedIndex:g,onChange:n=>{p(n)},loading:h}),(0,i.jsx)(o.Z,{elevation:4,sx:{p:4,mb:9},children:(0,i.jsx)(y,{data:Z(),onChange:(n,e)=>{r(t=>{let i;if(!t||0===t.length)return[{}];let l=[...t],a=g<l.length?g:0,o=l[a],s=o&&"object"==typeof o&&"construction"in o;i=s?{...o,construction:{...o.construction},businessInfo:{...o.businessInfo||{}}}:{...o};let r=n.match(/([^[.\]])+/g)||[];if(s&&"businessInfo.email"===n)return i.businessInfo||(i.businessInfo={}),i.businessInfo.email=e,console.log("Updated email in businessInfo:",e),l[a]=i,l;let c=s?n.startsWith("businessInfo")?i:i.construction:i;return r.forEach((n,t)=>{isNaN(Number(r[t+1]))?t===r.length-1||c[n]||(c[n]={}):c[n]||(c[n]=[]),t===r.length-1?c[n]=e:c=c[n]}),l[a]=i,l})}})}),(0,i.jsx)(o.Z,{elevation:4,sx:{p:4,mb:9},children:(0,i.jsx)(s.Z,{sx:{width:"100%",overflowX:"auto"},children:(0,i.jsx)(P,{acc:c,cons:Z(),setPostSuccess:()=>j(n=>!n)})})})]}),(0,i.jsx)(a.ZP,{item:!0,xs:12,md:4,children:(0,i.jsx)(q,{center:n,zoom:e,mapData:[Z().construction],loading:h})})]})}}}]);