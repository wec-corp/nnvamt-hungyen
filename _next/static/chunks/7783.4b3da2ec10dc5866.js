"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7783],{448:function(n,l,e){var i=e(85893),s=e(89090),t=e(21038),a=e(60990),c=e(52857),o=e(51423),d=e(44723),r=e(49986),h=e(51015),x=e(67294),g=e(64577);l.Z=n=>{let{url:l,data:e,setPostSuccess:u}=n,[m,j]=(0,x.useState)(null),T=!!m,f=()=>{j(null)},C=async n=>{let e=n.id;await (0,g.deleteData)("".concat(l),e),"function"==typeof u&&u(!0)},Z=(0,x.useRef)(!0);return(0,x.useEffect)(()=>(Z.current=!0,()=>{Z.current=!1}),[]),(0,i.jsx)(t.Z,{title:"X\xf3a bản ghi?",children:(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(c.Z,{"aria-describedby":null==e?void 0:e.id,className:"tableActionBtn deleteBtn",onClick:n=>{j(n.currentTarget)},"data-row-id":null==e?void 0:e.id,size:"small",children:(0,i.jsx)(s.Z,{})}),(0,i.jsx)(o.ZP,{id:T?null==e?void 0:e.id:void 0,open:T,anchorEl:m,onClose:f,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,i.jsxs)(d.Z,{severity:"warning",children:["X\xf3a bản ghi n\xe0y ?",(0,i.jsx)(a.Z,{sx:{justifyContent:"center",paddingTop:4,width:"100%"},children:(0,i.jsxs)(r.Z,{variant:"outlined","aria-label":"outlined button group",children:[(0,i.jsx)(h.Z,{size:"small",onClick:()=>{m&&e&&C(e),j(null)},children:"Đ\xfang"}),(0,i.jsx)(h.Z,{color:"error",size:"small",onClick:f,children:"Hủy"})]})})]})})]})})}},38138:function(n,l,e){var i=e(85893),s=e(67294),t=e(75486),a=e(84166),c=e(88196),o=e(36795),d=e(88539),r=e(96788),h=e(51015),x=e(40110),g=e(95639);let u=s.forwardRef(function(n,l){return(0,i.jsx)(t.Z,{direction:"left",ref:l,...n})});l.Z=n=>{let{children:l}=n,[e,t]=(0,s.useState)(null),[m,j]=(0,s.useState)(null),[T,f]=(0,s.useState)(!1),C=()=>{t(null),j(null),f(!1)};return(0,i.jsxs)(a.Z,{children:[l((n,l)=>{t(n),j(l),f(!0)},C),(0,i.jsx)(c.Z,{open:T,onClose:C,fullScreen:!0,TransitionComponent:u,sx:{zIndex:1201},children:e&&(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(o.Z,{sx:{position:"relative"},children:(0,i.jsxs)(d.Z,{sx:{maxHeight:45,minHeight:45,position:"sticky",top:0},children:[(0,i.jsx)(r.Z,{sx:{ml:2,flex:1,color:"#fff"},variant:"h6",component:"div",children:m}),(0,i.jsx)(h.Z,{className:"btn closeBtn",sx:{p:2,mr:-2},onClick:C,children:(0,i.jsx)(g.Z,{})})]})}),(0,i.jsx)(x.Z,{children:e})]})})]})}},57783:function(n,l,e){e.r(l),e.d(l,{default:function(){return D}});var i=e(85893),s=e(67294),t=e(47687),a=e(5152),c=e.n(a),o=e(64577),d=e(60990),r=e(93454),h=e(39892),x=e(448),g=e(68963),u=e(17071),m=e(53839),j=e(68573),T=e(50333),f=e(40492),C=e(97182),Z=e(96727),b=e(51015),p=e(21038),v=e(52857),S=e(38138);let y=n=>{let{data:l,setPostSuccess:e,closeDialogs:t}=n,[a,c]=(0,s.useState)(!1),[r,h]=(0,s.useState)([]),[x,u]=(0,s.useState)([]),[m,p]=(0,s.useState)({id:(null==l?void 0:l.id)||0,idHoChua:(null==l?void 0:l.idHoChua)||0,idCLNQC:(null==l?void 0:l.idCLNQC)||0,cnnBOD:(null==l?void 0:l.cnnBOD)||0,cnnCOD:(null==l?void 0:l.cnnCOD)||0,cnnAmoni:(null==l?void 0:l.cnnAmoni)||0,cnnTongN:(null==l?void 0:l.cnnTongN)||0,cnnTongP:(null==l?void 0:l.cnnTongP)||0,cnnTSS:(null==l?void 0:l.cnnTSS)||0,cnnColiform:(null==l?void 0:l.cnnColiform)||0,ghiChu:(null==l?void 0:l.ghiChu)||""});(0,s.useEffect)(()=>{c(!0),(async()=>{try{let n=await (0,o.getData)("cong-trinh/danh-sach",{loai_ct:5}),l=await (0,o.getData)("ThongSoCLNAo/danhsach");h(n),u(l)}catch(n){console.log(n)}finally{c(!1)}})()},[]);let[v,S]=(0,s.useState)(!1),y=n=>l=>{p({...m,[n]:l})},P=async n=>{n.preventDefault(),(async()=>{S(!0);try{await (0,o.saveData)("ThongTinAoHo/luu",m)&&(p({id:0,idHoChua:0,idCLNQC:0,cnnBOD:0,cnnCOD:0,cnnAmoni:0,cnnTongN:0,cnnTongP:0,cnnTSS:0,cnnColiform:0,ghiChu:""}),"function"==typeof e&&e(!0),t())}catch(n){console.log(n)}finally{S(!1)}})()};return(0,i.jsxs)(d.Z,{children:[(0,i.jsxs)(j.ZP,{container:!0,spacing:3,children:[(0,i.jsx)(j.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(T.Z,{size:"small",options:r,getOptionLabel:n=>"".concat(n.tenCT," "),value:(null==r?void 0:r.find(n=>n.id===m.idHoChua))||null,onChange:(n,l)=>y("idHoChua")((null==l?void 0:l.id)||0),renderInput:n=>(0,i.jsx)(f.Z,{...n,fullWidth:!0,label:"Chọn hồ chứa",InputProps:{...n.InputProps,endAdornment:(0,i.jsxs)(s.Fragment,{children:[a&&(0,i.jsx)(C.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,i.jsx)(j.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(T.Z,{size:"small",options:x,getOptionLabel:n=>"".concat(n.mucPLCLNuoc," "),value:(null==x?void 0:x.find(n=>n.id===m.idCLNQC))||null,onChange:(n,l)=>y("idCLNQC")((null==l?void 0:l.id)||0),renderInput:n=>(0,i.jsx)(f.Z,{...n,fullWidth:!0,label:"Chọn mức ph\xe2n loại chất lượng nước theo QCVN08/2023",InputProps:{...n.InputProps,endAdornment:(0,i.jsxs)(s.Fragment,{children:[a&&(0,i.jsx)(C.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,i.jsx)(j.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,i.jsxs)("fieldset",{children:[(0,i.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước mặt"}),(0,i.jsxs)(j.ZP,{container:!0,spacing:2,children:[(0,i.jsx)(j.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(f.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:m.cnnBOD||"",onChange:n=>y("cnnBOD")(n.target.value)})}),(0,i.jsx)(j.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(f.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:m.cnnCOD||"",onChange:n=>y("cnnCOD")(n.target.value)})}),(0,i.jsx)(j.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(f.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:m.cnnAmoni||"",onChange:n=>y("cnnAmoni")(n.target.value)})}),(0,i.jsx)(j.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(f.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:m.cnnTongN||"",onChange:n=>y("cnnTongN")(n.target.value)})}),(0,i.jsx)(j.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(f.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:m.cnnTongP||"",onChange:n=>y("cnnTongP")(n.target.value)})}),(0,i.jsx)(j.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(f.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:m.cnnTSS||"",onChange:n=>y("cnnTSS")(n.target.value)})}),(0,i.jsx)(j.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,i.jsx)(f.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:m.cnnColiform||"",onChange:n=>y("cnnColiform")(n.target.value)})})]})]})}),(0,i.jsx)(j.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,i.jsx)(f.Z,{size:"small",type:"text",label:"Ghi ch\xfa",fullWidth:!0,placeholder:"",value:m.ghiChu||"",onChange:n=>y("ghiChu")(n.target.value)})})]}),(0,i.jsxs)(Z.Z,{sx:{p:0,mt:5},children:[(0,i.jsx)(b.Z,{size:"small",onClick:()=>{p({id:0,idHoChua:0,idCLNQC:0,cnnBOD:0,cnnCOD:0,cnnAmoni:0,cnnTongN:0,cnnTongP:0,cnnTSS:0,cnnColiform:0,ghiChu:""}),t()},className:"btn cancleBtn",children:"Hủy"}),(0,i.jsxs)(b.Z,{disabled:v,className:"btn saveBtn",onClick:P,children:[" ",v?(0,i.jsx)(C.Z,{color:"inherit",size:20}):(0,i.jsx)(g.Z,{})," \xa0 Lưu"," "]})]})]})};var P=n=>{let{data:l,setPostSuccess:e,isEdit:s}=n,t=s?"Thay đổi th\xf4ng tin ":"Th\xeam mới";return(0,i.jsx)(S.Z,{children:(n,a)=>(0,i.jsx)(d.Z,{children:s?(0,i.jsx)(p.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,i.jsx)(v.Z,{onClick:()=>n((0,i.jsx)(y,{data:l,closeDialogs:a,setPostSuccess:e}),t),children:(0,i.jsx)(u.Z,{className:"tableActionBtn"})})}):(0,i.jsx)(b.Z,{variant:"outlined",size:"small",startIcon:(0,i.jsx)(m.Z,{}),onClick:()=>n((0,i.jsx)(y,{data:l,closeDialogs:a,setPostSuccess:e}),t),children:"Th\xeam mới"})})})};let N=c()(()=>Promise.all([e.e(4028),e.e(6002),e.e(9269),e.e(3701),e.e(649),e.e(6578),e.e(7679),e.e(7531),e.e(723),e.e(776),e.e(2573),e.e(3355),e.e(3385),e.e(4292)]).then(e.bind(e,3385)),{loadableGenerated:{webpack:()=>[3385]},ssr:!1});var D=()=>{let n=[{id:"stt",label:"STT",rowspan:2},{id:"cT_ThongTin",label:"T\xean hồ chứa",rowspan:2,align:"left",minWidth:200,elm:n=>(0,i.jsx)("span",{children:n.cT_ThongTin.tenCT})},{id:"cT_ThongTin",label:"Vị tr\xed",rowspan:2,align:"left",minWidth:200,elm:n=>(0,i.jsx)("span",{children:n.cT_ThongTin.viTriCT})},{id:"#",label:"Tọa độ",align:"left",children:[{id:"x",label:"X",align:"left",elm:n=>(0,i.jsx)("span",{children:n.cT_ThongTin.x})},{id:"y",label:"Y",align:"left",elm:n=>(0,i.jsx)("span",{children:n.cT_ThongTin.y})}]},{id:"#",label:"Th\xf4ng số c\xf4ng tr\xecnh)",align:"left",children:[{id:"dienTichLuuVuc",label:"Diện t\xedch lưu vực (km2)",align:"left",elm:n=>(0,i.jsx)("span",{children:n.cT_ThongTin.thongso.dienTichLuuVuc})},{id:"dungTichToanBo",label:"Dung t\xedch to\xe0n bộ (triệu m3)	",align:"left",elm:n=>(0,i.jsx)("span",{children:n.cT_ThongTin.thongso.dungTichToanBo})}]},{id:"#",label:" GI\xc1 TRỊ GIỚI HẠN TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC MẶT HỒ CHỨA THEO QCVN08/2023 Cqc (mg/l)	",align:"left",children:[{id:"cghBOD",label:(0,i.jsxs)(d.Z,{children:["BOD5 ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"cghCOD",label:(0,i.jsxs)(d.Z,{children:["COD ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"cghAmoni",label:(0,i.jsxs)(d.Z,{children:["Amoni ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"cghTongN",label:(0,i.jsxs)(d.Z,{children:["Tổng N ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"cghTongP",label:(0,i.jsxs)(d.Z,{children:["Tổng P ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"cghTSS",label:(0,i.jsxs)(d.Z,{children:["Tổng ",(0,i.jsx)("br",{})," chất rắn ",(0,i.jsx)("br",{})," lơ lửng ",(0,i.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"cghColiform",label:(0,i.jsxs)(d.Z,{children:["Tổng P ",(0,i.jsx)("br",{})," coliform",(0,i.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:"KẾT QUẢ PH\xc2N T\xcdCH TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC HỒ CHỨA Cnn (mg/l)	",align:"left",children:[{id:"cnnBOD",label:(0,i.jsxs)(d.Z,{children:["BOD5 ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"cnnCOD",label:(0,i.jsxs)(d.Z,{children:["COD ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"cnnAmoni",label:(0,i.jsxs)(d.Z,{children:["Amoni ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"cnnTongN",label:(0,i.jsxs)(d.Z,{children:["Tổng N ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"cnnTongP",label:(0,i.jsxs)(d.Z,{children:["Tổng P ",(0,i.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"cnnTSS",label:(0,i.jsxs)(d.Z,{children:["Tổng ",(0,i.jsx)("br",{})," chất rắn ",(0,i.jsx)("br",{})," lơ lửng ",(0,i.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"cnnColiform",label:(0,i.jsxs)(d.Z,{children:["Tổng P ",(0,i.jsx)("br",{})," coliform",(0,i.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"fs",label:"Hệ số an to\xe0n Fs [-]	",rowspan:2,align:"center",minWidth:200},{id:"ghiChu",label:"Ghi ch\xfa",rowspan:2,align:"left"},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],[l]=(0,s.useState)([15.012172,108.676488]),[e]=(0,s.useState)(9),[a,c]=(0,s.useState)([]),[g,u]=(0,s.useState)(!1),[m,j]=(0,s.useState)(!1),T=()=>{j(n=>!n)};return(0,s.useEffect)(()=>{(async function(){u(!0),await (0,o.getData)("ThongTinAoHo/danh-sach").then(n=>{c(n)}).catch(n=>{console.log(n)}).finally(()=>{u(!1)})})()},[m]),(0,i.jsxs)(t.Z,{container:!0,spacing:2,children:[(0,i.jsx)(t.Z,{xs:12,md:12,sx:{height:"55vh",overflow:"hidden"},children:(0,i.jsx)(N,{center:l,zoom:e,mapData:[],lakeData:a,loading:!1})}),(0,i.jsx)(t.Z,{xs:12,md:12,children:(0,i.jsxs)(r.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,i.jsx)(t.Z,{className:"_flexEnd",children:(0,i.jsx)(P,{isEdit:!1,setPostSuccess:T})}),(0,i.jsx)(h.Z,{columns:n,rows:a,loading:g,pagination:!0,actions:n=>(0,i.jsxs)(d.Z,{className:"group_btn",children:[(0,i.jsx)(P,{isEdit:!0,data:n,setPostSuccess:T}),(0,i.jsx)(x.Z,{url:"du-lieu-nguon-nhan",data:n,setPostSuccess:T})]})})]})})]})}}}]);