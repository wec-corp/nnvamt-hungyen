(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1810],{448:function(n,l,e){"use strict";var a=e(85893),i=e(89090),s=e(21038),t=e(60990),o=e(52857),r=e(51423),c=e(44723),d=e(49986),h=e(51015),g=e(67294),u=e(64577);l.Z=n=>{let{url:l,data:e,setPostSuccess:x}=n,[m,D]=(0,g.useState)(null),j=!!m,T=()=>{D(null)},B=async n=>{let e=n.id;await (0,u.deleteData)("".concat(l),e),"function"==typeof x&&x(!0)},S=(0,g.useRef)(!0);return(0,g.useEffect)(()=>(S.current=!0,()=>{S.current=!1}),[]),(0,a.jsx)(s.Z,{title:"X\xf3a bản ghi?",children:(0,a.jsxs)(t.Z,{children:[(0,a.jsx)(o.Z,{"aria-describedby":null==e?void 0:e.id,className:"tableActionBtn deleteBtn",onClick:n=>{D(n.currentTarget)},"data-row-id":null==e?void 0:e.id,size:"small",children:(0,a.jsx)(i.Z,{})}),(0,a.jsx)(r.ZP,{id:j?null==e?void 0:e.id:void 0,open:j,anchorEl:m,onClose:T,anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,a.jsxs)(c.Z,{severity:"warning",children:["X\xf3a bản ghi n\xe0y ?",(0,a.jsx)(t.Z,{sx:{justifyContent:"center",paddingTop:4,width:"100%"},children:(0,a.jsxs)(d.Z,{variant:"outlined","aria-label":"outlined button group",children:[(0,a.jsx)(h.Z,{size:"small",onClick:()=>{m&&e&&B(e),D(null)},children:"Đ\xfang"}),(0,a.jsx)(h.Z,{color:"error",size:"small",onClick:T,children:"Hủy"})]})})]})})]})})}},38138:function(n,l,e){"use strict";var a=e(85893),i=e(67294),s=e(75486),t=e(84166),o=e(88196),r=e(36795),c=e(88539),d=e(96788),h=e(51015),g=e(40110),u=e(95639);let x=i.forwardRef(function(n,l){return(0,a.jsx)(s.Z,{direction:"left",ref:l,...n})});l.Z=n=>{let{children:l}=n,[e,s]=(0,i.useState)(null),[m,D]=(0,i.useState)(null),[j,T]=(0,i.useState)(!1),B=()=>{s(null),D(null),T(!1)};return(0,a.jsxs)(t.Z,{children:[l((n,l)=>{s(n),D(l),T(!0)},B),(0,a.jsx)(o.Z,{open:j,onClose:B,fullScreen:!0,TransitionComponent:x,sx:{zIndex:1201},children:e&&(0,a.jsxs)(t.Z,{children:[(0,a.jsx)(r.Z,{sx:{position:"relative"},children:(0,a.jsxs)(c.Z,{sx:{maxHeight:45,minHeight:45,position:"sticky",top:0},children:[(0,a.jsx)(d.Z,{sx:{ml:2,flex:1,color:"#fff"},variant:"h6",component:"div",children:m}),(0,a.jsx)(h.Z,{className:"btn closeBtn",sx:{p:2,mr:-2},onClick:B,children:(0,a.jsx)(u.Z,{})})]})}),(0,a.jsx)(g.Z,{children:e})]})})]})}},82431:function(n,l,e){"use strict";var a=e(85893),i=e(51015),s=e(84105);l.Z=n=>{let{tableId:l,filename:e}=n;return(0,a.jsx)(i.Z,{onClick:()=>{!function(n,l){let e=document.getElementById(n),a=s.P6.table_to_sheet(e),i=[],t=[];for(let n=0;n<e.rows.length;++n){let l=e.rows[n];for(let e=0;e<l.cells.length;++e){let a=l.cells[e],s=a.getAttribute("colspan"),o=a.getAttribute("rowspan");s=s?parseInt(s,10):1,o=o?parseInt(o,10):1,(s>1||o>1)&&i.push({s:{r:n,c:e},e:{r:n+o-1,c:e+s-1}}),t[e]>0&&(--t[e],--e)}for(let n=0;n<l.cells.length;++n){let e=l.cells[n].getAttribute("rowspan");(e=e?parseInt(e,10):1)>1&&(t[n]=e-1)}}i.length>0&&(a["!merges"]||(a["!merges"]=[]),a["!merges"].push(...i));for(let n=0;n<e.rows.length;++n)for(let l=0;l<e.rows[n].cells.length;++l){let i=e.rows[n].cells[l],t=i.innerText;t=t.replace(/\n+/g,"\n"),i.closest("tbody")&&(a[s.P6.encode_cell({r:n,c:l})]={v:t,t:"s"})}let o=s.P6.book_new();s.P6.book_append_sheet(o,a,"Sheet1"),s.NC(o,"".concat(l,".xls"))}(l,e)},variant:"outlined",size:"small",fullWidth:!0,color:"primary",children:"Xuất Excel"})}},23759:function(n,l,e){"use strict";e.d(l,{M:function(){return i},N:function(){return s}});var a=e(64577);function i(n){let l=n.getElementsByTagName("coordinates"),e=1/0,a=-1/0,i=1/0,s=-1/0;for(let n=0;n<l.length;n++)l[n].textContent.trim().split(/\s+/).forEach(n=>{let l=n.split(","),t=parseFloat(l[0]),o=parseFloat(l[1]);o<e&&(e=o),o>a&&(a=o),t<i&&(i=t),t>s&&(s=t)});return e===1/0||a===-1/0||i===1/0||s===-1/0?null:{center:[(e+a)/2,(i+s)/2],zoom:9}}async function s(n){try{let l;if(!(l=n.startsWith("/")?await fetch(n):await fetch("".concat(a.apiUrl,"/file/readfile?FilePath=kml&FileName=").concat(n))).ok)return console.error("Failed to load KML file from ".concat(n,": Status ").concat(l.status)),null;let e=await l.text();return new DOMParser().parseFromString(e,"text/xml")}catch(n){return console.error("Error fetching or parsing KML file:",n),null}}},81905:function(n,l,e){"use strict";e.r(l),e.d(l,{default:function(){return nx}});var a=e(85893),i=e(67294),s=e(5152),t=e.n(s),o=e(64577),r=e(96788),c=e(60990),d=e(68573),h=e(93454),g=e(39892),u=e(23759),x=e(448),m=e(82431),D=e(68963),j=e(17071),T=e(53839),B=e(50333),S=e(40492),b=e(97182),Z=e(96727),f=e(51015),p=e(21038),y=e(52857),C=e(38138);let P=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,r]=(0,i.useState)(!1),[h,g]=(0,i.useState)([]),[u,x]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||0,luuLuongXaThaiDB:(null==l?void 0:l.luuLuongXaThaiDB)||"",ctdiemBODDB:(null==l?void 0:l.ctdiemBODDB)||0,ctdiemCODDB:(null==l?void 0:l.ctdiemCODDB)||0,ctdiemAmoniDB:(null==l?void 0:l.ctdiemAmoniDB)||0,ctdiemTongNDB:(null==l?void 0:l.ctdiemTongNDB)||0,ctdiemTongPDB:(null==l?void 0:l.ctdiemTongPDB)||0,ctdiemTSSDB:(null==l?void 0:l.ctdiemTSSDB)||0,ctdiemColiformDB:(null==l?void 0:l.ctdiemColiformDB)||0}),[m,j]=(0,i.useState)(!1),T=n=>l=>{x({...u,[n]:l})};(0,i.useEffect)(()=>{r(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{r(!1)}})()},[]);let p=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiDiem/du-bao",u)&&(x({id:0,idPhanDoanSong:0,luuLuongXaThaiDB:0,ctdiemBODDB:0,ctdiemCODDB:0,ctdiemAmoniDB:0,ctdiemTongNDB:0,ctdiemTongPDB:0,ctdiemTSSDB:0,ctdiemColiformDB:0}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(c.Z,{children:[(0,a.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(B.Z,{size:"small",options:h,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==h?void 0:h.find(n=>n.id===u.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(S.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(b.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:4,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Lưu lương xả thải max",fullWidth:!0,placeholder:"",value:u.luuLuongXaThaiDB||"",onChange:n=>T("luuLuongXaThaiDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải điểm"}),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:u.ctdiemBODDB||"",onChange:n=>T("ctdiemBODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:u.ctdiemCODDB||"",onChange:n=>T("ctdiemCODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:u.ctdiemAmoniDB||"",onChange:n=>T("ctdiemAmoniDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:u.ctdiemTongNDB||"",onChange:n=>T("ctdiemTongNDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:u.ctdiemTongPDB||"",onChange:n=>T("ctdiemTongPDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:u.ctdiemTSSDB||"",onChange:n=>T("ctdiemTSSDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:u.ctdiemColiformDB||"",onChange:n=>T("ctdiemColiformDB")(n.target.value)})})]})]})})]}),(0,a.jsxs)(Z.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(f.Z,{size:"small",onClick:()=>{x({id:0,idPhanDoanSong:0,luuLuongXaThaiDB:0,ctdiemBODDB:0,ctdiemCODDB:0,ctdiemAmoniDB:0,ctdiemTongNDB:0,ctdiemTongPDB:0,ctdiemTSSDB:0,ctdiemColiformDB:0}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(f.Z,{disabled:m,className:"btn saveBtn",onClick:p,children:[" ",m?(0,a.jsx)(b.Z,{color:"inherit",size:20}):(0,a.jsx)(D.Z,{})," \xa0 Lưu"," "]})]})]})};var v=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Dự b\xe1o nguồn thải điểm";return(0,a.jsx)(C.Z,{children:(n,t)=>(0,a.jsx)(c.Z,{children:i?(0,a.jsx)(p.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(y.Z,{onClick:()=>n((0,a.jsx)(P,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(j.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(f.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(T.Z,{}),onClick:()=>n((0,a.jsx)(P,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let N=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var L=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,D]=(0,i.useState)(9.8),[j,T]=(0,i.useState)(),[B,S]=(0,i.useState)(!1),[b,Z]=(0,i.useState)(!1),f=()=>{Z(n=>!n)},p=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(r.Z,{className:"btnShowFilePdf",onClick:()=>C(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:"S\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)("span",{children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.song})}},{id:"#",label:(0,a.jsxs)(c.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:150,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(c.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (km)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"luuLuongXaThaiDB",label:(0,a.jsxs)(c.Z,{children:["Lưu lượng ",(0,a.jsx)("br",{})," xả max ",(0,a.jsx)("br",{})," Qxt ",(0,a.jsx)("br",{})," (m\xb3/s)"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(c.Z,{children:[" ","KẾT QUẢ PH\xc2N T\xcdCH TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC NGUỒN THẢI ĐIỂM ",(0,a.jsx)("br",{}),"Ct_diem[-]"]}),align:"left",children:[{id:"ctdiemBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctdiemCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctdiemAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctdiemTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctdiemTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctdiemTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctdiemColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI ĐIỂM",(0,a.jsx)("br",{})," Lt_diem (kg/ng\xe0y)"]}),align:"left",children:[{id:"ltdiemBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltdiemCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltdiemAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltdiemTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltdiemTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltdiemTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltdiemColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],y=(0,i.useRef)(null),C=(0,i.useCallback)(async n=>{T(n);try{let l=await (0,u.N)("".concat(n.phanDoanSong.fileKML)),e=(0,u.M)(l);e&&(s([e.center[0],e.center[1]]),D(e.zoom)),y.current&&y.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){S(!0);try{let[n]=await Promise.all([(0,o.getData)("DuLieuNguonNuocThaiDiemDB/danh-sach")]);l(n)}catch(n){console.log(n)}finally{S(!1)}})()},[j,b]),(0,i.useEffect)(()=>{j||(s([15.012172,108.676488]),D(9))},[j]),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,ref:y,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsx)(h.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:(0,a.jsx)(N,{center:e,zoom:t,mapData:j,selectedKmlFile:j?j.phanDoanSong.fileKML:null,loading:B})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(h.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(d.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(m.Z,{tableId:"du-lieu-nguon-thai-diem",filename:"dulieuthaidiem.csv"})}),(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(v,{isEdit:!1,setPostSuccess:f})})]}),(0,a.jsx)(g.Z,{columns:p,rows:n,id:"phan_doan_song",loading:B,pagination:!0,actions:n=>(0,a.jsxs)(c.Z,{className:"group_btn",children:[(0,a.jsx)(v,{isEdit:!0,data:n,setPostSuccess:f}),(0,a.jsx)(x.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:f})]})})]})})]})};let G=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,r]=(0,i.useState)(!1),[h,g]=(0,i.useState)([]),[u,x]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||"",soDanDB:(null==l?void 0:l.soDanDB)||0,heSoSuyGiamDB:(null==l?void 0:l.heSoSuyGiamDB)||0,ctSinhHoatBODDB:(null==l?void 0:l.ctSinhHoatBODDB)||0,ctSinhHoatCODDB:(null==l?void 0:l.ctSinhHoatCODDB)||0,ctSinhHoatAmoniDB:(null==l?void 0:l.ctSinhHoatAmoniDB)||0,ctSinhHoatTongNDB:(null==l?void 0:l.ctSinhHoatTongNDB)||0,ctSinhHoatTongPDB:(null==l?void 0:l.ctSinhHoatTongPDB)||0,ctSinhHoatTSSDB:(null==l?void 0:l.ctSinhHoatTSSDB)||0,ctSinhHoatColiformDB:(null==l?void 0:l.ctSinhHoatColiformDB)||0}),[m,j]=(0,i.useState)(!1),T=n=>l=>{x({...u,[n]:l})};(0,i.useEffect)(()=>{r(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{r(!1)}})()},[]);let p=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiSinhHoatDB/du-bao",u)&&(x({id:0,idPhanDoanSong:0,soDanDB:0,heSoSuyGiamDB:0,ctSinhHoatBODDB:0,ctSinhHoatCODDB:0,ctSinhHoatAmoniDB:0,ctSinhHoatTongNDB:0,ctSinhHoatTongPDB:0,ctSinhHoatTSSDB:0,ctSinhHoatColiformDB:0}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(c.Z,{children:[(0,a.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(B.Z,{size:"small",options:h,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==h?void 0:h.find(n=>n.id===u.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(S.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(b.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Số d\xe2n",fullWidth:!0,placeholder:"",value:u.soDanDB||"",onChange:n=>T("soDanDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Hệ số suy giảm dọc đường hay hệ số d\xf2ng chảy",fullWidth:!0,placeholder:"",value:u.heSoSuyGiamDB||"",onChange:n=>T("heSoSuyGiamDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả dự b\xe1o th\xf4ng số chất lượng nước nguồn thải sinh hoạt"}),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:u.ctSinhHoatBODDB||"",onChange:n=>T("ctSinhHoatBODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:u.ctSinhHoatCODDB||"",onChange:n=>T("ctSinhHoatCODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:u.ctSinhHoatAmoniDB||"",onChange:n=>T("ctSinhHoatAmoniDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:u.ctSinhHoatTongNDB||"",onChange:n=>T("ctSinhHoatTongNDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:u.ctSinhHoatTongPDB||"",onChange:n=>T("ctSinhHoatTongPDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:u.ctSinhHoatTSSDB||"",onChange:n=>T("ctSinhHoatTSSDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:u.ctSinhHoatColiformDB||"",onChange:n=>T("ctSinhHoatColiformDB")(n.target.value)})})]})]})})]}),(0,a.jsxs)(Z.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(f.Z,{size:"small",onClick:()=>{x({id:0,idPhanDoanSong:0,soDanDB:0,heSoSuyGiamDB:0,ctSinhHoatBODDB:0,ctSinhHoatCODDB:0,ctSinhHoatAmoniDB:0,ctSinhHoatTongNDB:0,ctSinhHoatTongPDB:0,ctSinhHoatTSSDB:0,ctSinhHoatColiformDB:0}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(f.Z,{disabled:m,className:"btn saveBtn",onClick:p,children:[" ",m?(0,a.jsx)(b.Z,{color:"inherit",size:20}):(0,a.jsx)(D.Z,{})," \xa0 Lưu"," "]})]})]})};var O=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Dự b\xe1o thải sinh hoạt";return(0,a.jsx)(C.Z,{children:(n,t)=>(0,a.jsx)(c.Z,{children:i?(0,a.jsx)(p.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(y.Z,{onClick:()=>n((0,a.jsx)(G,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(j.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(f.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(T.Z,{}),onClick:()=>n((0,a.jsx)(G,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let w=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var z=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,D]=(0,i.useState)(9.8),[j,T]=(0,i.useState)(),[B,S]=(0,i.useState)(!1),[b,Z]=(0,i.useState)(!1),f=()=>{Z(n=>!n)},p=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(r.Z,{className:"btnShowFilePdf",onClick:()=>C(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:(0,a.jsxs)(c.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(c.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (km)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"soDanDB",label:(0,a.jsxs)(c.Z,{children:["Số d\xe2n",(0,a.jsx)("br",{})," (người) ",(0,a.jsx)("br",{})]}),rowspan:2,align:"left",minWidth:100},{id:"heSoSuyGiamDB",label:(0,a.jsxs)(c.Z,{children:["Hệ số suy giảm dọc đường ",(0,a.jsx)("br",{})," hay hệ số d\xf2ng chảy"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG \xd4 NHIỄM (PLU) NGUỒN THẢI DIỆN (SINH HOẠT) ",(0,a.jsx)("br",{}),"(g/người/ng\xe0y)"]}),align:"left",children:[{id:"ctSinhHoatBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctSinhHoatCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctSinhHoatAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctSinhHoatTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctSinhHoatTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctSinhHoatTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctSinhHoatColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI DIỆN (SINH HOẠT)",(0,a.jsx)("br",{})," Lt_dien_sinhhoat (kg/ng\xe0y)"]}),align:"left",children:[{id:"ltSinhHoatBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltSinhHoatCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltSinhHoatAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltSinhHoatTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltSinhHoatTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltSinhHoatTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltSinhHoatColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],y=(0,i.useRef)(null),C=(0,i.useCallback)(async n=>{T(n);try{let l=await (0,u.N)("".concat(n.phanDoanSong.fileKML)),e=(0,u.M)(l);e&&(s([e.center[0],e.center[1]]),D(e.zoom)),y.current&&y.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){S(!0),await (0,o.getData)("DuLieuNguonNuocThaiSinhHoatDB/danh-sach").then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{S(!1)})})()},[b]),(0,i.useEffect)(()=>{j||(s([15.012172,108.676488]),D(9))},[j]),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,ref:y,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsx)(h.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:(0,a.jsx)(w,{center:e,zoom:t,mapData:j,selectedKmlFile:j?j.phanDoanSong.fileKML:null,loading:B})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(h.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(d.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(m.Z,{tableId:"du-lieu-nguon-thai-gia-cam",filename:"dulieuthaigiacam.csv"})}),(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(O,{isEdit:!1,setPostSuccess:f})})]}),(0,a.jsx)(g.Z,{columns:p,rows:n,id:"phan_doan_song",loading:B,pagination:!0,actions:n=>(0,a.jsxs)(c.Z,{className:"group_btn",children:[(0,a.jsx)(O,{isEdit:!0,data:n,setPostSuccess:f}),(0,a.jsx)(x.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:f})]})})]})})]})};let H=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,r]=(0,i.useState)(!1),[h,g]=(0,i.useState)([]);console.log(l);let[u,x]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||"",soLonDB:(null==l?void 0:l.soLonDB)||0,soDeDB:(null==l?void 0:l.soDeDB)||0,soGiaSucKhacDB:(null==l?void 0:l.soGiaSucKhacDB)||0,heSoSuyGiamDB:(null==l?void 0:l.heSoSuyGiamDB)||0,ctLonBODDB:(null==l?void 0:l.ctLonBODDB)||0,ctLonCODDB:(null==l?void 0:l.ctLonCODDB)||0,ctLonAmoniDB:(null==l?void 0:l.ctLonAmoniDB)||0,ctLonTongNDB:(null==l?void 0:l.ctLonTongNDB)||0,ctLonTongPDB:(null==l?void 0:l.ctLonTongPDB)||0,ctLonTSSDB:(null==l?void 0:l.ctLonTSSDB)||0,ctLonColiformDB:(null==l?void 0:l.ctLonColiformDB)||0}),[m,j]=(0,i.useState)(!1),T=n=>l=>{x({...u,[n]:l})};(0,i.useEffect)(()=>{r(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{r(!1)}})()},[]);let p=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiLonDB/du-bao",u)&&(x({id:0,idPhanDoanSong:0,soLonDB:0,soDeDB:0,soGiaSucKhacDB:0,heSoSuyGiamDB:0,ctLonBODDB:0,ctLonCODDB:0,ctLonAmoniDB:0,ctLonTongNDB:0,ctLonTongPDB:0,ctLonTSSDB:0,ctLonColiformDB:0}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(c.Z,{children:[(0,a.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(B.Z,{size:"small",options:h,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==h?void 0:h.find(n=>n.id===u.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(S.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(b.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Số lợn",fullWidth:!0,placeholder:"",value:u.soLonDB||"",onChange:n=>T("soLonDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Số d\xea",fullWidth:!0,placeholder:"",value:u.soDeDB||"",onChange:n=>T("soDeDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Số gia s\xfac kh\xe1c kh\xe1c",fullWidth:!0,placeholder:"",value:u.soGiaSucKhacDB||"",onChange:n=>T("soGiaSucKhacDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Hệ số suy giảm dọc đường hay hệ số d\xf2ng chảy",fullWidth:!0,placeholder:"",value:u.heSoSuyGiamDB||"",onChange:n=>T("heSoSuyGiamDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải sinh hoạt"}),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:u.ctLonBODDB||"",onChange:n=>T("ctLonBODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:u.ctLonCODDB||"",onChange:n=>T("ctLonCODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:u.ctLonAmoniDB||"",onChange:n=>T("ctLonAmoniDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:u.ctLonTongNDB||"",onChange:n=>T("ctLonTongNDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:u.ctLonTongPDB||"",onChange:n=>T("ctLonTongPDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:u.ctLonTSSDB||"",onChange:n=>T("ctLonTSSDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:u.ctLonColiformDB||"",onChange:n=>T("ctLonColiformDB")(n.target.value)})})]})]})})]}),(0,a.jsxs)(Z.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(f.Z,{size:"small",onClick:()=>{x({id:0,idPhanDoanSong:0,soLonDB:0,soDeDB:0,soGiaSucKhacDB:0,heSoSuyGiamDB:0,ctLonBODDB:0,ctLonCODDB:0,ctLonAmoniDB:0,ctLonTongNDB:0,ctLonTongPDB:0,ctLonTSSDB:0,ctLonColiformDB:0}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(f.Z,{disabled:m,className:"btn saveBtn",onClick:p,children:[" ",m?(0,a.jsx)(b.Z,{color:"inherit",size:20}):(0,a.jsx)(D.Z,{})," \xa0 Lưu"," "]})]})]})};var I=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Dự b\xe1o nguồn thải lợn";return(0,a.jsx)(C.Z,{children:(n,t)=>(0,a.jsx)(c.Z,{children:i?(0,a.jsx)(p.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(y.Z,{onClick:()=>n((0,a.jsx)(H,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(j.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(f.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(T.Z,{}),onClick:()=>n((0,a.jsx)(H,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let A=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var W=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,D]=(0,i.useState)(9.8),[j,T]=(0,i.useState)(),[B,S]=(0,i.useState)(!1),[b,Z]=(0,i.useState)(!1),f=()=>{Z(n=>!n)},p=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(r.Z,{className:"btnShowFilePdf",onClick:()=>C(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:(0,a.jsxs)(c.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(c.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (km)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"soLonDB",label:(0,a.jsxs)(c.Z,{children:["Số lợn",(0,a.jsx)("br",{})," (con) ",(0,a.jsx)("br",{})]}),rowspan:2,align:"left",minWidth:100},{id:"soDeDB",label:(0,a.jsxs)(c.Z,{children:["Số d\xea",(0,a.jsx)("br",{})," (con) ",(0,a.jsx)("br",{})]}),rowspan:2,align:"left",minWidth:100},{id:"soGiaSucKhacDB",label:(0,a.jsxs)(c.Z,{children:["Số gia s\xfac kh\xe1c",(0,a.jsx)("br",{})," (con) ",(0,a.jsx)("br",{})]}),rowspan:2,align:"left",minWidth:150},{id:"heSoSuyGiamDB",label:(0,a.jsxs)(c.Z,{children:["Hệ số suy giảm dọc đường ",(0,a.jsx)("br",{})," hay hệ số d\xf2ng chảy"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG \xd4 NHIỄM (PLU) NGUỒN THẢI DIỆN (LỢN, D\xca...) ",(0,a.jsx)("br",{}),"(g/người/ng\xe0y)"]}),align:"left",children:[{id:"ctLonBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctLonCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctLonAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctLonTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctLonTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctLonTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctLonColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI DIỆN (CHĂN NU\xd4I GIA S\xdaC)",(0,a.jsx)("br",{})," Lt_dien_Lon (kg/ng\xe0y)"]}),align:"left",children:[{id:"ltLonBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltLonCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltLonAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltLonTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltLonTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltLonTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltLonColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],y=(0,i.useRef)(null),C=(0,i.useCallback)(async n=>{T(n);try{let l=await (0,u.N)("".concat(n.phanDoanSong.fileKML)),e=(0,u.M)(l);e&&(s([e.center[0],e.center[1]]),D(e.zoom)),y.current&&y.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){S(!0),await (0,o.getData)("DuLieuNguonNuocThaiLonDB/danh-sach").then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{S(!1)})})()},[b]),(0,i.useEffect)(()=>{j||(s([15.012172,108.676488]),D(9))},[j]),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,ref:y,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsx)(h.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:(0,a.jsx)(A,{center:e,zoom:t,mapData:j,selectedKmlFile:j?j.phanDoanSong.fileKML:null,loading:B})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(h.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(d.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(m.Z,{tableId:"du-lieu-nguon-thai-gia-lon",filename:"dulieuthaigialon.csv"})}),(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(I,{isEdit:!1,setPostSuccess:f})})]}),(0,a.jsx)(g.Z,{columns:p,rows:n,id:"phan_doan_song",loading:B,pagination:!0,actions:n=>(0,a.jsxs)(c.Z,{className:"group_btn",children:[(0,a.jsx)(I,{isEdit:!0,data:n,setPostSuccess:f}),(0,a.jsx)(x.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:f})]})})]})})]})};let R=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,r]=(0,i.useState)(!1),[h,g]=(0,i.useState)([]);console.log(l);let[u,x]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||"",soGiaCamDB:(null==l?void 0:l.soGiaCamDB)||0,heSoSuyGiamDB:(null==l?void 0:l.heSoSuyGiamDB)||0,ctGiaCamBODDB:(null==l?void 0:l.ctGiaCamBODDB)||0,ctGiaCamCODDB:(null==l?void 0:l.ctGiaCamCODDB)||0,ctGiaCamAmoniDB:(null==l?void 0:l.ctGiaCamAmoniDB)||0,ctGiaCamTongNDB:(null==l?void 0:l.ctGiaCamTongNDB)||0,ctGiaCamTongPDB:(null==l?void 0:l.ctGiaCamTongPDB)||0,ctGiaCamTSSDB:(null==l?void 0:l.ctGiaCamTSSDB)||0,ctGiaCamColiformDB:(null==l?void 0:l.ctGiaCamColiformDB)||0}),[m,j]=(0,i.useState)(!1),T=n=>l=>{x({...u,[n]:l})};(0,i.useEffect)(()=>{r(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{r(!1)}})()},[]);let p=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiGiaCamDB/du-bao",u)&&(x({id:0,idPhanDoanSong:0,soGiaCamDB:0,heSoSuyGiamDB:0,ctGiaCamBODDB:0,ctGiaCamCODDB:0,ctGiaCamAmoniDB:0,ctGiaCamTongNDB:0,ctGiaCamTongPDB:0,ctGiaCamTSSDB:0,ctGiaCamColiformDB:0}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(c.Z,{children:[(0,a.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(B.Z,{size:"small",options:h,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==h?void 0:h.find(n=>n.id===u.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(S.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(b.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Số con gia cầm",fullWidth:!0,placeholder:"",value:u.soGiaCamDB||"",onChange:n=>T("soGiaCamDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Hệ số suy giảm dọc đường hay hệ số d\xf2ng chảy",fullWidth:!0,placeholder:"",value:u.heSoSuyGiamDB||"",onChange:n=>T("heSoSuyGiamDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải gia cầm"}),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:u.ctGiaCamBODDB||"",onChange:n=>T("ctGiaCamBODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:u.ctGiaCamCODDB||"",onChange:n=>T("ctGiaCamCODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:u.ctGiaCamAmoniDB||"",onChange:n=>T("ctGiaCamAmoniDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:u.ctGiaCamTongNDB||"",onChange:n=>T("ctGiaCamTongNDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:u.ctGiaCamTongPDB||"",onChange:n=>T("ctGiaCamTongPDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:u.ctGiaCamTSSDB||"",onChange:n=>T("ctGiaCamTSSDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:u.ctGiaCamColiformDB||"",onChange:n=>T("ctGiaCamColiformDB")(n.target.value)})})]})]})})]}),(0,a.jsxs)(Z.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(f.Z,{size:"small",onClick:()=>{x({id:0,idPhanDoanSong:0,soGiaCamDB:0,heSoSuyGiamDB:0,ctGiaCamBODDB:0,ctGiaCamCODDB:0,ctGiaCamAmoniDB:0,ctGiaCamTongNDB:0,ctGiaCamTongPDB:0,ctGiaCamTSSDB:0,ctGiaCamColiformDB:0}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(f.Z,{disabled:m,className:"btn saveBtn",onClick:p,children:[" ",m?(0,a.jsx)(b.Z,{color:"inherit",size:20}):(0,a.jsx)(D.Z,{})," \xa0 Lưu"," "]})]})]})};var k=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Th\xeam mới";return(0,a.jsx)(C.Z,{children:(n,t)=>(0,a.jsx)(c.Z,{children:i?(0,a.jsx)(p.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(y.Z,{onClick:()=>n((0,a.jsx)(R,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(j.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(f.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(T.Z,{}),onClick:()=>n((0,a.jsx)(R,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let E=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var M=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,D]=(0,i.useState)(9.8),[j,T]=(0,i.useState)(),[B,S]=(0,i.useState)(!1),[b,Z]=(0,i.useState)(!1),f=()=>{Z(n=>!n)},p=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(r.Z,{className:"btnShowFilePdf",onClick:()=>C(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:(0,a.jsxs)(c.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(c.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (km)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"soGiaCamDB",label:(0,a.jsxs)(c.Z,{children:["Số lợn",(0,a.jsx)("br",{})," (con) ",(0,a.jsx)("br",{})]}),rowspan:2,align:"left",minWidth:100},{id:"heSoSuyGiamDB",label:(0,a.jsxs)(c.Z,{children:["Hệ số suy giảm dọc đường ",(0,a.jsx)("br",{})," hay hệ số d\xf2ng chảy"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG \xd4 NHIỄM (PLU) NGUỒN THẢI DIỆN (LỢN, D\xca...) ",(0,a.jsx)("br",{}),"(g/người/ng\xe0y)"]}),align:"left",children:[{id:"ctGiaCamBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctGiaCamCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctGiaCamAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctGiaCamTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctGiaCamTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctGiaCamTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctGiaCamColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI DIỆN (CHĂN NU\xd4I GIA S\xdaC)",(0,a.jsx)("br",{})," Lt_dien_GiaCam (kg/ng\xe0y)"]}),align:"left",children:[{id:"ltGiaCamBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltGiaCamCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltGiaCamAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltGiaCamTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltGiaCamTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltGiaCamTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltGiaCamColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],y=(0,i.useRef)(null),C=(0,i.useCallback)(async n=>{T(n);try{let l=await (0,u.N)("".concat(n.phanDoanSong.fileKML)),e=(0,u.M)(l);e&&(s([e.center[0],e.center[1]]),D(e.zoom)),y.current&&y.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){S(!0),await (0,o.getData)("DuLieuNguonNuocThaiGiaCamDB/danh-sach").then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{S(!1)})})()},[b]),(0,i.useEffect)(()=>{j||(s([15.012172,108.676488]),D(9))},[j]),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,ref:y,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsx)(h.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:(0,a.jsx)(E,{center:e,zoom:t,mapData:j,selectedKmlFile:j?j.phanDoanSong.fileKML:null,loading:B})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(h.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(d.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(m.Z,{tableId:"du-lieu-nguon-thai-gia-cam",filename:"dulieuthaigiacam.csv"})}),(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(k,{isEdit:!1,setPostSuccess:f})})]}),(0,a.jsx)(g.Z,{columns:p,rows:n,id:"phan_doan_song",loading:B,pagination:!0,actions:n=>(0,a.jsxs)(c.Z,{className:"group_btn",children:[(0,a.jsx)(k,{isEdit:!0,data:n,setPostSuccess:f}),(0,a.jsx)(x.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:f})]})})]})})]})};let _=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,r]=(0,i.useState)(!1),[h,g]=(0,i.useState)([]);console.log(l);let[u,x]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||"",dienTichTrongLuaDB:(null==l?void 0:l.dienTichTrongLuaDB)||0,heSoSuyGiamDB:(null==l?void 0:l.heSoSuyGiamDB)||0,ctTrongLuaBODDB:(null==l?void 0:l.ctTrongLuaBODDB)||0,ctTrongLuaCODDB:(null==l?void 0:l.ctTrongLuaCODDB)||0,ctTrongLuaAmoniDB:(null==l?void 0:l.ctTrongLuaAmoniDB)||0,ctTrongLuaTongNDB:(null==l?void 0:l.ctTrongLuaTongNDB)||0,ctTrongLuaTongPDB:(null==l?void 0:l.ctTrongLuaTongPDB)||0,ctTrongLuaTSSDB:(null==l?void 0:l.ctTrongLuaTSSDB)||0,ctTrongLuaColiformDB:(null==l?void 0:l.ctTrongLuaColiformDB)||0}),[m,j]=(0,i.useState)(!1),T=n=>l=>{x({...u,[n]:l})};(0,i.useEffect)(()=>{r(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{r(!1)}})()},[]);let p=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiTrongLuaDB/du-bao",u)&&(x({id:0,idPhanDoanSong:0,dienTichTrongLuaDB:0,heSoSuyGiamDB:0,ctTrongLuaBODDB:0,ctTrongLuaCODDB:0,ctTrongLuaAmoniDB:0,ctTrongLuaTongNDB:0,ctTrongLuaTongPDB:0,ctTrongLuaTSSDB:0,ctTrongLuaColiformDB:0}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(c.Z,{children:[(0,a.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(B.Z,{size:"small",options:h,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==h?void 0:h.find(n=>n.id===u.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(S.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(b.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Diện t\xedch trồng l\xfaa",fullWidth:!0,placeholder:"",value:u.dienTichTrongLuaDB||"",onChange:n=>T("dienTichTrongLuaDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Hệ số suy giảm dọc đường",fullWidth:!0,placeholder:"",value:u.heSoSuyGiamDB||"",onChange:n=>T("heSoSuyGiamDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải trồng l\xfaa"}),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:u.ctTrongLuaBODDB||"",onChange:n=>T("ctTrongLuaBODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:u.ctTrongLuaCODDB||"",onChange:n=>T("ctTrongLuaCODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:u.ctTrongLuaAmoniDB||"",onChange:n=>T("ctTrongLuaAmoniDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:u.ctTrongLuaTongNDB||"",onChange:n=>T("ctTrongLuaTongNDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:u.ctTrongLuaTongPDB||"",onChange:n=>T("ctTrongLuaTongPDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:u.ctTrongLuaTSSDB||"",onChange:n=>T("ctTrongLuaTSSDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:u.ctTrongLuaColiformDB||"",onChange:n=>T("ctTrongLuaColiformDB")(n.target.value)})})]})]})})]}),(0,a.jsxs)(Z.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(f.Z,{size:"small",onClick:()=>{x({id:0,idPhanDoanSong:0,dienTichTrongLuaDB:0,heSoSuyGiamDB:0,ctTrongLuaBODDB:0,ctTrongLuaCODDB:0,ctTrongLuaAmoniDB:0,ctTrongLuaTongNDB:0,ctTrongLuaTongPDB:0,ctTrongLuaTSSDB:0,ctTrongLuaColiformDB:0}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(f.Z,{disabled:m,className:"btn saveBtn",onClick:p,children:[" ",m?(0,a.jsx)(b.Z,{color:"inherit",size:20}):(0,a.jsx)(D.Z,{})," \xa0 Lưu"," "]})]})]})};var K=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Dự b\xe1o thải trồng l\xfaa";return(0,a.jsx)(C.Z,{children:(n,t)=>(0,a.jsx)(c.Z,{children:i?(0,a.jsx)(p.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(y.Z,{onClick:()=>n((0,a.jsx)(_,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(j.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(f.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(T.Z,{}),onClick:()=>n((0,a.jsx)(_,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let U=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var F=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,D]=(0,i.useState)(9.8),[j,T]=(0,i.useState)(),[B,S]=(0,i.useState)(!1),[b,Z]=(0,i.useState)(!1),f=()=>{Z(n=>!n)},p=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(r.Z,{className:"btnShowFilePdf",onClick:()=>C(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:(0,a.jsxs)(c.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(c.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (km)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"dienTichTrongLuaDB",label:(0,a.jsxs)(c.Z,{children:["Diện t\xedch trồng l\xfaa",(0,a.jsx)("br",{})," (ha)"]}),rowspan:2,align:"left",minWidth:150},{id:"heSoSuyGiamDB",label:(0,a.jsxs)(c.Z,{children:["Hệ số suy giảm dọc đường ",(0,a.jsx)("br",{})," hay hệ số d\xf2ng chảy"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG \xd4 NHIỄM (PLU) NGUỒN THẢI DIỆN (TRỒNG L\xdaA) ",(0,a.jsx)("br",{}),"(g/ha/ng\xe0y)"]}),align:"left",children:[{id:"ctTrongLuaBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongLuaCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongLuaAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongLuaTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongLuaTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongLuaTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctTrongLuaColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI DIỆN (TRỒNG L\xdaA)",(0,a.jsx)("br",{})," Lt_dien_TrongLua"]}),align:"left",children:[{id:"ltTrongLuaBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongLuaCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongLuaAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongLuaTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongLuaTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongLuaTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltTrongLuaColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],y=(0,i.useRef)(null),C=(0,i.useCallback)(async n=>{T(n);try{let l=await (0,u.N)("".concat(n.phanDoanSong.fileKML)),e=(0,u.M)(l);e&&(s([e.center[0],e.center[1]]),D(e.zoom)),y.current&&y.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){S(!0),await (0,o.getData)("DuLieuNguonNuocThaiTrongLuaDB/danh-sach").then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{S(!1)})})()},[b]),(0,i.useEffect)(()=>{j||(s([15.012172,108.676488]),D(9))},[j]),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,ref:y,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsx)(h.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:(0,a.jsx)(U,{center:e,zoom:t,mapData:j,selectedKmlFile:j?j.phanDoanSong.fileKML:null,loading:B})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(h.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(d.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(m.Z,{tableId:"du-lieu-nguon-thai-gia-cam",filename:"dulieuthaigiacam.csv"})}),(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(K,{isEdit:!1,setPostSuccess:f})})]}),(0,a.jsx)(g.Z,{columns:p,rows:n,id:"phan_doan_song",loading:B,pagination:!0,actions:n=>(0,a.jsxs)(c.Z,{className:"group_btn",children:[(0,a.jsx)(K,{isEdit:!0,data:n,setPostSuccess:f}),(0,a.jsx)(x.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:f})]})})]})})]})};let X=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,r]=(0,i.useState)(!1),[h,g]=(0,i.useState)([]);console.log(l);let[u,x]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||"",dienTichTrongCayDB:(null==l?void 0:l.dienTichTrongCayDB)||0,heSoSuyGiamDB:(null==l?void 0:l.heSoSuyGiamDB)||0,ctTrongCayBODDB:(null==l?void 0:l.ctTrongCayBODDB)||0,ctTrongCayCODDB:(null==l?void 0:l.ctTrongCayCODDB)||0,ctTrongCayAmoniDB:(null==l?void 0:l.ctTrongCayAmoniDB)||0,ctTrongCayTongNDB:(null==l?void 0:l.ctTrongCayTongNDB)||0,ctTrongCayTongPDB:(null==l?void 0:l.ctTrongCayTongPDB)||0,ctTrongCayTSSDB:(null==l?void 0:l.ctTrongCayTSSDB)||0,ctTrongCayColiformDB:(null==l?void 0:l.ctTrongCayColiformDB)||0}),[m,j]=(0,i.useState)(!1),T=n=>l=>{x({...u,[n]:l})};(0,i.useEffect)(()=>{r(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{r(!1)}})()},[]);let p=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiTrongCayDB/du-bao",u)&&(x({id:0,idPhanDoanSong:0,dienTichTrongCayDB:0,heSoSuyGiamDB:0,ctTrongCayBODDB:0,ctTrongCayCODDB:0,ctTrongCayAmoniDB:0,ctTrongCayTongNDB:0,ctTrongCayTongPDB:0,ctTrongCayTSSDB:0,ctTrongCayColiformDB:0}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(c.Z,{children:[(0,a.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(B.Z,{size:"small",options:h,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==h?void 0:h.find(n=>n.id===u.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(S.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(b.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Diện t\xedch trồng c\xe2y l\xe2u năm",fullWidth:!0,placeholder:"",value:u.dienTichTrongCayDB||"",onChange:n=>T("dienTichTrongCayDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Hệ số suy giảm dọc đường",fullWidth:!0,placeholder:"",value:u.heSoSuyGiamDB||"",onChange:n=>T("heSoSuyGiamDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải trồng c\xe2y l\xe2u năm"}),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:u.ctTrongCayBODDB||"",onChange:n=>T("ctTrongCayBODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:u.ctTrongCayCODDB||"",onChange:n=>T("ctTrongCayCODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:u.ctTrongCayAmoniDB||"",onChange:n=>T("ctTrongCayAmoniDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:u.ctTrongCayTongNDB||"",onChange:n=>T("ctTrongCayTongNDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:u.ctTrongCayTongPDB||"",onChange:n=>T("ctTrongCayTongPDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:u.ctTrongCayTSSDB||"",onChange:n=>T("ctTrongCayTSSDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:u.ctTrongCayColiformDB||"",onChange:n=>T("ctTrongCayColiformDB")(n.target.value)})})]})]})})]}),(0,a.jsxs)(Z.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(f.Z,{size:"small",onClick:()=>{x({id:0,idPhanDoanSong:0,dienTichTrongCayDB:0,heSoSuyGiamDB:0,ctTrongCayBODDB:0,ctTrongCayCODDB:0,ctTrongCayAmoniDB:0,ctTrongCayTongNDB:0,ctTrongCayTongPDB:0,ctTrongCayTSSDB:0,ctTrongCayColiformDB:0}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(f.Z,{disabled:m,className:"btn saveBtn",onClick:p,children:[" ",m?(0,a.jsx)(b.Z,{color:"inherit",size:20}):(0,a.jsx)(D.Z,{})," \xa0 Lưu"," "]})]})]})};var q=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Dự b\xe1o thải trồng c\xe2y l\xe2u năm";return(0,a.jsx)(C.Z,{children:(n,t)=>(0,a.jsx)(c.Z,{children:i?(0,a.jsx)(p.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(y.Z,{onClick:()=>n((0,a.jsx)(X,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(j.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(f.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(T.Z,{}),onClick:()=>n((0,a.jsx)(X,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let V=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var Y=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,D]=(0,i.useState)(9.8),[j,T]=(0,i.useState)(),[B,S]=(0,i.useState)(!1),[b,Z]=(0,i.useState)(!1),f=()=>{Z(n=>!n)},p=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(r.Z,{className:"btnShowFilePdf",onClick:()=>C(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:(0,a.jsxs)(c.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(c.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (km)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"dienTichTrongCayDB",label:(0,a.jsxs)(c.Z,{children:["Diện t\xedch trồng c\xe2y l\xe2u năm",(0,a.jsx)("br",{})," (ha)"]}),rowspan:2,align:"left",minWidth:200},{id:"heSoSuyGiamDB",label:(0,a.jsxs)(c.Z,{children:["Hệ số suy giảm dọc đường ",(0,a.jsx)("br",{})," hay hệ số d\xf2ng chảy"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG \xd4 NHIỄM (PLU) NGUỒN THẢI DIỆN (TRỒNG C\xc2Y L\xc2U NĂM) ",(0,a.jsx)("br",{}),"(g/ha/ng\xe0y)"]}),align:"left",children:[{id:"ctTrongCayBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongCayCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongCayAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongCayTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongCayTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongCayTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctTrongCayColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI DIỆN (TRỒNG C\xc2Y L\xc2U NĂM)",(0,a.jsx)("br",{})," Lt_dien_TrongCay"]}),align:"left",children:[{id:"ltTrongCayBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongCayCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongCayAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongCayTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongCayTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongCayTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltTrongCayColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],y=(0,i.useRef)(null),C=(0,i.useCallback)(async n=>{T(n);try{let l=await (0,u.N)("".concat(n.phanDoanSong.fileKML)),e=(0,u.M)(l);e&&(s([e.center[0],e.center[1]]),D(e.zoom)),y.current&&y.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){S(!0),await (0,o.getData)("DuLieuNguonNuocThaiTrongCayDB/danh-sach").then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{S(!1)})})()},[b]),(0,i.useEffect)(()=>{j||(s([15.012172,108.676488]),D(9))},[j]),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,ref:y,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsx)(h.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:(0,a.jsx)(V,{center:e,zoom:t,mapData:j,selectedKmlFile:j?j.phanDoanSong.fileKML:null,loading:B})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(h.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(d.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(m.Z,{tableId:"du-lieu-nguon-thai-gia-cam",filename:"dulieuthaigiacam.csv"})}),(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(q,{isEdit:!1,setPostSuccess:f})})]}),(0,a.jsx)(g.Z,{columns:p,rows:n,id:"phan_doan_song",loading:B,pagination:!0,actions:n=>(0,a.jsxs)(c.Z,{className:"group_btn",children:[(0,a.jsx)(q,{isEdit:!0,data:n,setPostSuccess:f}),(0,a.jsx)(x.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:f})]})})]})})]})};let Q=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,r]=(0,i.useState)(!1),[h,g]=(0,i.useState)([]);console.log(l);let[u,x]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||"",dienTichTrongRungDB:(null==l?void 0:l.dienTichTrongRungDB)||0,heSoSuyGiamDB:(null==l?void 0:l.heSoSuyGiamDB)||0,ctTrongRungBODDB:(null==l?void 0:l.ctTrongRungBODDB)||0,ctTrongRungCODDB:(null==l?void 0:l.ctTrongRungCODDB)||0,ctTrongRungAmoniDB:(null==l?void 0:l.ctTrongRungAmoniDB)||0,ctTrongRungTongNDB:(null==l?void 0:l.ctTrongRungTongNDB)||0,ctTrongRungTongPDB:(null==l?void 0:l.ctTrongRungTongPDB)||0,ctTrongRungTSSDB:(null==l?void 0:l.ctTrongRungTSSDB)||0,ctTrongRungColiformDB:(null==l?void 0:l.ctTrongRungColiformDB)||0}),[m,j]=(0,i.useState)(!1),T=n=>l=>{x({...u,[n]:l})};(0,i.useEffect)(()=>{r(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{r(!1)}})()},[]);let p=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiTrongRungDB/du-bao",u)&&(x({id:0,idPhanDoanSong:0,dienTichTrongRungDB:0,heSoSuyGiamDB:0,ctTrongRungBODDB:0,ctTrongRungCODDB:0,ctTrongRungAmoniDB:0,ctTrongRungTongNDB:0,ctTrongRungTongPDB:0,ctTrongRungTSSDB:0,ctTrongRungColiformDB:0}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(c.Z,{children:[(0,a.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(B.Z,{size:"small",options:h,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==h?void 0:h.find(n=>n.id===u.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(S.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(b.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Diện t\xedch trồng rừng",fullWidth:!0,placeholder:"",value:u.dienTichTrongRungDB||"",onChange:n=>T("dienTichTrongRungDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Hệ số suy giảm dọc đường",fullWidth:!0,placeholder:"",value:u.heSoSuyGiamDB||"",onChange:n=>T("heSoSuyGiamDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải trồng rừng"}),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:u.ctTrongRungBODDB||"",onChange:n=>T("ctTrongRungBODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:u.ctTrongRungCODDB||"",onChange:n=>T("ctTrongRungCODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:u.ctTrongRungAmoniDB||"",onChange:n=>T("ctTrongRungAmoniDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:u.ctTrongRungTongNDB||"",onChange:n=>T("ctTrongRungTongNDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:u.ctTrongRungTongPDB||"",onChange:n=>T("ctTrongRungTongPDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:u.ctTrongRungTSSDB||"",onChange:n=>T("ctTrongRungTSSDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:u.ctTrongRungColiformDB||"",onChange:n=>T("ctTrongRungColiformDB")(n.target.value)})})]})]})})]}),(0,a.jsxs)(Z.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(f.Z,{size:"small",onClick:()=>{x({id:0,idPhanDoanSong:0,dienTichTrongRungDB:0,heSoSuyGiamDB:0,ctTrongRungBODDB:0,ctTrongRungCODDB:0,ctTrongRungAmoniDB:0,ctTrongRungTongNDB:0,ctTrongRungTongPDB:0,ctTrongRungTSSDB:0,ctTrongRungColiformDB:0}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(f.Z,{disabled:m,className:"btn saveBtn",onClick:p,children:[" ",m?(0,a.jsx)(b.Z,{color:"inherit",size:20}):(0,a.jsx)(D.Z,{})," \xa0 Lưu"," "]})]})]})};var J=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Dự b\xe1o thải trồng rừng";return(0,a.jsx)(C.Z,{children:(n,t)=>(0,a.jsx)(c.Z,{children:i?(0,a.jsx)(p.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(y.Z,{onClick:()=>n((0,a.jsx)(Q,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(j.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(f.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(T.Z,{}),onClick:()=>n((0,a.jsx)(Q,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let $=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var nn=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,D]=(0,i.useState)(9.8),[j,T]=(0,i.useState)(),[B,S]=(0,i.useState)(!1),[b,Z]=(0,i.useState)(!1),f=()=>{Z(n=>!n)},p=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(r.Z,{className:"btnShowFilePdf",onClick:()=>C(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:(0,a.jsxs)(c.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(c.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (km)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"dienTichTrongRungDB",label:(0,a.jsxs)(c.Z,{children:["Diện t\xedch trồng l\xfaa",(0,a.jsx)("br",{})," (ha)"]}),rowspan:2,align:"left",minWidth:150},{id:"heSoSuyGiamDB",label:(0,a.jsxs)(c.Z,{children:["Hệ số suy giảm dọc đường ",(0,a.jsx)("br",{})," hay hệ số d\xf2ng chảy"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG \xd4 NHIỄM (PLU) NGUỒN THẢI DIỆN (TRỒNG L\xdaA) ",(0,a.jsx)("br",{}),"(g/ha/ng\xe0y)"]}),align:"left",children:[{id:"ctTrongRungBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongRungCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongRungAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongRungTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongRungTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrongRungTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctTrongRungColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI DIỆN (TRỒNG L\xdaA)",(0,a.jsx)("br",{})," Lt_dien_TrongRung"]}),align:"left",children:[{id:"ltTrongRungBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongRungCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongRungAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongRungTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongRungTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrongRungTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltTrongRungColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],y=(0,i.useRef)(null),C=(0,i.useCallback)(async n=>{T(n);try{let l=await (0,u.N)("".concat(n.phanDoanSong.fileKML)),e=(0,u.M)(l);e&&(s([e.center[0],e.center[1]]),D(e.zoom)),y.current&&y.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){S(!0),await (0,o.getData)("DuLieuNguonNuocThaiTrongRungDB/danh-sach").then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{S(!1)})})()},[b]),(0,i.useEffect)(()=>{j||(s([15.012172,108.676488]),D(9))},[j]),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,ref:y,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsx)(h.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:(0,a.jsx)($,{center:e,zoom:t,mapData:j,selectedKmlFile:j?j.phanDoanSong.fileKML:null,loading:B})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(h.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(d.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(m.Z,{tableId:"du-lieu-nguon-thai-gia-cam",filename:"dulieuthaigiacam.csv"})}),(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(J,{isEdit:!1,setPostSuccess:f})})]}),(0,a.jsx)(g.Z,{columns:p,rows:n,id:"phan_doan_song",loading:B,pagination:!0,actions:n=>(0,a.jsxs)(c.Z,{className:"group_btn",children:[(0,a.jsx)(J,{isEdit:!0,data:n,setPostSuccess:f}),(0,a.jsx)(x.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:f})]})})]})})]})},nl=e(28907),ne=e(47687),na=e(45670),ni=e(66568),ns=e(63144);let nt=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,r]=(0,i.useState)(!1),[h,g]=(0,i.useState)([]);console.log(l);let[u,x]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||"",dienTichThuySanDB:(null==l?void 0:l.dienTichThuySanDB)||0,heSoSuyGiamDB:(null==l?void 0:l.heSoSuyGiamDB)||0,ctThuySanBODDB:(null==l?void 0:l.ctThuySanBODDB)||0,ctThuySanCODDB:(null==l?void 0:l.ctThuySanCODDB)||0,ctThuySanAmoniDB:(null==l?void 0:l.ctThuySanAmoniDB)||0,ctThuySanTongNDB:(null==l?void 0:l.ctThuySanTongNDB)||0,ctThuySanTongPDB:(null==l?void 0:l.ctThuySanTongPDB)||0,ctThuySanTSSDB:(null==l?void 0:l.ctThuySanTSSDB)||0,ctThuySanColiformDB:(null==l?void 0:l.ctThuySanColiformDB)||0}),[m,j]=(0,i.useState)(!1),T=n=>l=>{x({...u,[n]:l})};(0,i.useEffect)(()=>{r(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{r(!1)}})()},[]);let p=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiThuySanDB/du-bao",u)&&(x({id:0,idPhanDoanSong:0,dienTichThuySanDB:0,heSoSuyGiamDB:0,ctThuySanBODDB:0,ctThuySanCODDB:0,ctThuySanAmoniDB:0,ctThuySanTongNDB:0,ctThuySanTongPDB:0,ctThuySanTSSDB:0,ctThuySanColiformDB:0}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(c.Z,{children:[(0,a.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(B.Z,{size:"small",options:h,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==h?void 0:h.find(n=>n.id===u.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(S.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(b.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Diện t\xedch thủy sản",fullWidth:!0,placeholder:"",value:u.dienTichThuySanDB||"",onChange:n=>T("dienTichThuySanDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Hệ số suy giảm dọc đường",fullWidth:!0,placeholder:"",value:u.heSoSuyGiamDB||"",onChange:n=>T("heSoSuyGiamDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải thủy sản"}),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:u.ctThuySanBODDB||"",onChange:n=>T("ctThuySanBODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:u.ctThuySanCODDB||"",onChange:n=>T("ctThuySanCODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:u.ctThuySanAmoniDB||"",onChange:n=>T("ctThuySanAmoniDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:u.ctThuySanTongNDB||"",onChange:n=>T("ctThuySanTongNDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:u.ctThuySanTongPDB||"",onChange:n=>T("ctThuySanTongPDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:u.ctThuySanTSSDB||"",onChange:n=>T("ctThuySanTSSDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:u.ctThuySanColiformDB||"",onChange:n=>T("ctThuySanColiformDB")(n.target.value)})})]})]})})]}),(0,a.jsxs)(Z.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(f.Z,{size:"small",onClick:()=>{x({id:0,idPhanDoanSong:0,dienTichThuySanDB:0,heSoSuyGiamDB:0,ctThuySanBODDB:0,ctThuySanCODDB:0,ctThuySanAmoniDB:0,ctThuySanTongNDB:0,ctThuySanTongPDB:0,ctThuySanTSSDB:0,ctThuySanColiformDB:0}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(f.Z,{disabled:m,className:"btn saveBtn",onClick:p,children:[" ",m?(0,a.jsx)(b.Z,{color:"inherit",size:20}):(0,a.jsx)(D.Z,{})," \xa0 Lưu"," "]})]})]})};var no=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Dự b\xe1o thải thủy sản";return(0,a.jsx)(C.Z,{children:(n,t)=>(0,a.jsx)(c.Z,{children:i?(0,a.jsx)(p.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(y.Z,{onClick:()=>n((0,a.jsx)(nt,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(j.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(f.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(T.Z,{}),onClick:()=>n((0,a.jsx)(nt,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let nr=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var nc=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,D]=(0,i.useState)(9.8),[j,T]=(0,i.useState)(),[B,S]=(0,i.useState)(!1),[b,Z]=(0,i.useState)(!1),f=()=>{Z(n=>!n)},p=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(r.Z,{className:"btnShowFilePdf",onClick:()=>C(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:(0,a.jsxs)(c.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(c.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (ha)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"dienTichThuySanDB",label:(0,a.jsxs)(c.Z,{children:["Diện t\xedch thủy sản",(0,a.jsx)("br",{})," (ha)"]}),rowspan:2,align:"left",minWidth:150},{id:"heSoSuyGiamDB",label:(0,a.jsxs)(c.Z,{children:["Hệ số suy giảm dọc đường ",(0,a.jsx)("br",{})," hay hệ số d\xf2ng chảy"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG \xd4 NHIỄM (PLU) NGUỒN THẢI DIỆN (THỦY SẢN) ",(0,a.jsx)("br",{}),"(g/ha/ng\xe0y)"]}),align:"left",children:[{id:"ctThuySanBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctThuySanCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctThuySanAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctThuySanTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctThuySanTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctThuySanTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctThuySanColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI DIỆN (TRỒNG L\xdaA)",(0,a.jsx)("br",{})," Lt_dien_ThuySan"]}),align:"left",children:[{id:"ltThuySanBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltThuySanCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltThuySanAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltThuySanTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltThuySanTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltThuySanTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltThuySanColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],y=(0,i.useRef)(null),C=(0,i.useCallback)(async n=>{T(n);try{let l=await (0,u.N)("".concat(n.phanDoanSong.fileKML)),e=(0,u.M)(l);e&&(s([e.center[0],e.center[1]]),D(e.zoom)),y.current&&y.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){S(!0),await (0,o.getData)("DuLieuNguonNuocThaiThuySanDB/danh-sach").then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{S(!1)})})()},[b]),(0,i.useEffect)(()=>{j||(s([15.012172,108.676488]),D(9))},[j]),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,ref:y,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsx)(h.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:(0,a.jsx)(nr,{center:e,zoom:t,mapData:j,selectedKmlFile:j?j.phanDoanSong.fileKML:null,loading:B})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(h.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(d.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(m.Z,{tableId:"du-lieu-nguon-thai-gia-cam",filename:"dulieuthaigiacam.csv"})}),(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(no,{isEdit:!1,setPostSuccess:f})})]}),(0,a.jsx)(g.Z,{columns:p,rows:n,id:"phan_doan_song",loading:B,pagination:!0,actions:n=>(0,a.jsxs)(c.Z,{className:"group_btn",children:[(0,a.jsx)(no,{isEdit:!0,data:n,setPostSuccess:f}),(0,a.jsx)(x.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:f})]})})]})})]})};let nd=n=>{let{data:l,setPostSuccess:e,closeDialogs:s}=n,[t,r]=(0,i.useState)(!1),[h,g]=(0,i.useState)([]);console.log(l);let[u,x]=(0,i.useState)({id:(null==l?void 0:l.id)||0,idPhanDoanSong:(null==l?void 0:l.idPhanDoanSong)||"",soTrauDB:(null==l?void 0:l.soTrauDB)||0,soBoDB:(null==l?void 0:l.soBoDB)||0,heSoSuyGiamDB:(null==l?void 0:l.heSoSuyGiamDB)||0,ctTrauBoBODDB:(null==l?void 0:l.ctTrauBoBODDB)||0,ctTrauBoCODDB:(null==l?void 0:l.ctTrauBoCODDB)||0,ctTrauBoAmoniDB:(null==l?void 0:l.ctTrauBoAmoniDB)||0,ctTrauBoTongNDB:(null==l?void 0:l.ctTrauBoTongNDB)||0,ctTrauBoTongPDB:(null==l?void 0:l.ctTrauBoTongPDB)||0,ctTrauBoTSSDB:(null==l?void 0:l.ctTrauBoTSSDB)||0,ctTrauBoColiformDB:(null==l?void 0:l.ctTrauBoColiformDB)||0}),[m,j]=(0,i.useState)(!1),T=n=>l=>{x({...u,[n]:l})};(0,i.useEffect)(()=>{r(!0),(async()=>{try{let n=await (0,o.getData)("PhanDoanSong/danh-sach");g(n)}catch(n){console.log(n)}finally{r(!1)}})()},[]);let p=async n=>{n.preventDefault(),(async()=>{j(!0);try{await (0,o.saveData)("DuLieuNguonNuocThaiTrauBoDB/du-bao",u)&&(x({id:0,idPhanDoanSong:0,soTrauDB:0,soBoDB:0,heSoSuyGiamDB:0,ctTrauBoBODDB:0,ctTrauBoCODDB:0,ctTrauBoAmoniDB:0,ctTrauBoTongNDB:0,ctTrauBoTongPDB:0,ctTrauBoTSSDB:0,ctTrauBoColiformDB:0}),"function"==typeof e&&e(!0),s())}catch(n){console.log(n)}finally{j(!1)}})()};return(0,a.jsxs)(c.Z,{children:[(0,a.jsxs)(d.ZP,{container:!0,spacing:3,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(B.Z,{size:"small",options:h,getOptionLabel:n=>"".concat(n.phanDoan," "),value:(null==h?void 0:h.find(n=>n.id===u.idPhanDoanSong))||null,onChange:(n,l)=>T("idPhanDoanSong")((null==l?void 0:l.id)||0),renderInput:n=>(0,a.jsx)(S.Z,{...n,fullWidth:!0,label:"Chọn ph\xe2n đoạn s\xf4ng",InputProps:{...n.InputProps,endAdornment:(0,a.jsxs)(i.Fragment,{children:[t&&(0,a.jsx)(b.Z,{color:"primary",size:20}),n.InputProps.endAdornment]})}})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Số tr\xe2u",fullWidth:!0,placeholder:"",value:u.soTrauDB||"",onChange:n=>T("soTrauDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Số b\xf2",fullWidth:!0,placeholder:"",value:u.soBoDB||"",onChange:n=>T("soBoDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Hệ số suy giảm dọc đường hay hệ số d\xf2ng chảy",fullWidth:!0,placeholder:"",value:u.heSoSuyGiamDB||"",onChange:n=>T("heSoSuyGiamDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,sm:12,sx:{my:2},children:(0,a.jsxs)("fieldset",{children:[(0,a.jsx)("legend",{children:"Kết quả ph\xe2n t\xedch th\xf4ng số chất lượng nước nguồn thải sinh hoạt"}),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"BOD5",fullWidth:!0,placeholder:"",value:u.ctTrauBoBODDB||"",onChange:n=>T("ctTrauBoBODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"COD",fullWidth:!0,placeholder:"",value:u.ctTrauBoCODDB||"",onChange:n=>T("ctTrauBoCODDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Amoni",fullWidth:!0,placeholder:"",value:u.ctTrauBoAmoniDB||"",onChange:n=>T("ctTrauBoAmoniDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng N",fullWidth:!0,placeholder:"",value:u.ctTrauBoTongNDB||"",onChange:n=>T("ctTrauBoTongNDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng P",fullWidth:!0,placeholder:"",value:u.ctTrauBoTongPDB||"",onChange:n=>T("ctTrauBoTongPDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng chất rắn lơ lửng TSS",fullWidth:!0,placeholder:"",value:u.ctTrauBoTSSDB||"",onChange:n=>T("ctTrauBoTSSDB")(n.target.value)})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,md:6,sm:12,sx:{my:2},children:(0,a.jsx)(S.Z,{size:"small",type:"text",label:"Tổng coliform",fullWidth:!0,placeholder:"",value:u.ctTrauBoColiformDB||"",onChange:n=>T("ctTrauBoColiformDB")(n.target.value)})})]})]})})]}),(0,a.jsxs)(Z.Z,{sx:{p:0,mt:5},children:[(0,a.jsx)(f.Z,{size:"small",onClick:()=>{x({id:0,idPhanDoanSong:0,soTrauDB:0,soBoDB:0,heSoSuyGiamDB:0,ctTrauBoBODDB:0,ctTrauBoCODDB:0,ctTrauBoAmoniDB:0,ctTrauBoTongNDB:0,ctTrauBoTongPDB:0,ctTrauBoTSSDB:0,ctTrauBoColiformDB:0}),s()},className:"btn cancleBtn",children:"Hủy"}),(0,a.jsxs)(f.Z,{disabled:m,className:"btn saveBtn",onClick:p,children:[" ",m?(0,a.jsx)(b.Z,{color:"inherit",size:20}):(0,a.jsx)(D.Z,{})," \xa0 Lưu"," "]})]})]})};var nh=n=>{let{data:l,setPostSuccess:e,isEdit:i}=n,s=i?"Thay đổi th\xf4ng tin ":"Th\xeam mới";return(0,a.jsx)(C.Z,{children:(n,t)=>(0,a.jsx)(c.Z,{children:i?(0,a.jsx)(p.Z,{title:"Chỉnh sửa th\xf4ng tin c\xf4ng tr\xecnh",children:(0,a.jsx)(y.Z,{onClick:()=>n((0,a.jsx)(nd,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:(0,a.jsx)(j.Z,{className:"tableActionBtn"})})}):(0,a.jsx)(f.Z,{variant:"outlined",size:"small",startIcon:(0,a.jsx)(T.Z,{}),onClick:()=>n((0,a.jsx)(nd,{data:l,closeDialogs:t,setPostSuccess:e}),s),children:"Th\xeam mới"})})})};let ng=t()(()=>Promise.all([e.e(4028),e.e(9269),e.e(7679),e.e(2573),e.e(2527),e.e(7318)]).then(e.bind(e,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var nu=()=>{let[n,l]=(0,i.useState)([]),[e,s]=(0,i.useState)([15.012172,108.676488]),[t,D]=(0,i.useState)(9.8),[j,T]=(0,i.useState)(),[B,S]=(0,i.useState)(!1),[b,Z]=(0,i.useState)(!1),f=()=>{Z(n=>!n)},p=[{id:"stt",label:"STT",rowspan:2},{id:"#",label:"Ph\xe2n đoạn s\xf4ng",rowspan:2,align:"left",minWidth:200,elm:n=>{var l;return(0,a.jsx)(r.Z,{className:"btnShowFilePdf",onClick:()=>C(n),children:null===(l=n.phanDoanSong)||void 0===l?void 0:l.phanDoan})}},{id:"#",label:(0,a.jsxs)(c.Z,{children:["T\xean đoạn ",(0,a.jsx)("br",{})," s\xf4ng"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.tenDoanSong})},{id:"chieuDai",label:(0,a.jsxs)(c.Z,{children:["Chiều d\xe0i ",(0,a.jsx)("br",{})," đoạn s\xf4ng ",(0,a.jsx)("br",{})," (km)"]}),rowspan:2,align:"left",minWidth:100,elm:n=>(0,a.jsx)("span",{children:n.phanDoanSong.chieuDai})},{id:"soTrauDB",label:(0,a.jsxs)(c.Z,{children:["Số tr\xe2u",(0,a.jsx)("br",{})," (con) ",(0,a.jsx)("br",{})]}),rowspan:2,align:"left",minWidth:100},{id:"soBoDB",label:(0,a.jsxs)(c.Z,{children:["Số b\xf2",(0,a.jsx)("br",{})," (con) ",(0,a.jsx)("br",{})]}),rowspan:2,align:"left",minWidth:100},{id:"heSoSuyGiamDB",label:(0,a.jsxs)(c.Z,{children:["Hệ số suy giảm dọc đường ",(0,a.jsx)("br",{})," hay hệ số d\xf2ng chảy"]}),rowspan:2,align:"left"},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG \xd4 NHIỄM (PLU) NGUỒN THẢI DIỆN (TR\xc2U, B\xd2, LỢN,...) ",(0,a.jsx)("br",{}),"(g/người/ng\xe0y)"]}),align:"left",children:[{id:"ctTrauBoBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrauBoCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrauBoAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrauBoTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrauBoTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ctTrauBoTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ctTrauBoColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"#",label:(0,a.jsxs)(c.Z,{children:["TẢI LƯỢNG TH\xd4NG SỐ CHẤT LƯỢNG NƯỚC C\xd3 TRONG NGUỒN THẢI DIỆN (CHĂN NU\xd4I GIA S\xdaC)",(0,a.jsx)("br",{})," Lt_dien_TrauBo (kg/ng\xe0y)"]}),align:"left",children:[{id:"ltTrauBoBODDB",label:(0,a.jsxs)(c.Z,{children:["BOD5 ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrauBoCODDB",label:(0,a.jsxs)(c.Z,{children:["COD ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrauBoAmoniDB",label:(0,a.jsxs)(c.Z,{children:["Amoni ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrauBoTongNDB",label:(0,a.jsxs)(c.Z,{children:["Tổng N ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrauBoTongPDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{}),"(mg/l)"]}),align:"left"},{id:"ltTrauBoTSSDB",label:(0,a.jsxs)(c.Z,{children:["Tổng ",(0,a.jsx)("br",{})," chất rắn ",(0,a.jsx)("br",{})," lơ lửng ",(0,a.jsx)("br",{})," TSS(mg/l)"]}),align:"left"},{id:"ltTrauBoColiformDB",label:(0,a.jsxs)(c.Z,{children:["Tổng P ",(0,a.jsx)("br",{})," coliform",(0,a.jsx)("br",{})," (MPN/100ml)"]}),align:"left"}]},{id:"actions",label:"Thao t\xe1c",rowspan:2,align:"center",pinned:"right"}],y=(0,i.useRef)(null),C=(0,i.useCallback)(async n=>{T(n);try{let l=await (0,u.N)("".concat(n.phanDoanSong.fileKML)),e=(0,u.M)(l);e&&(s([e.center[0],e.center[1]]),D(e.zoom)),y.current&&y.current.scrollIntoView({behavior:"smooth"})}catch(n){console.error("Error loading KML:",n)}},[]);return(0,i.useEffect)(()=>{(async function(){S(!0),await (0,o.getData)("DuLieuNguonNuocThaiTrauBoDB/danh-sach").then(n=>{l(n)}).catch(n=>{console.log(n)}).finally(()=>{S(!1)})})()},[b]),(0,i.useEffect)(()=>{j||(s([15.012172,108.676488]),D(9))},[j]),(0,a.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,a.jsx)(d.ZP,{item:!0,xs:12,md:12,ref:y,sx:{height:"55vh",overflow:"hidden"},children:(0,a.jsx)(h.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:(0,a.jsx)(ng,{center:e,zoom:t,mapData:j,selectedKmlFile:j?j.phanDoanSong.fileKML:null,loading:B})})}),(0,a.jsx)(d.ZP,{item:!0,xs:12,children:(0,a.jsxs)(h.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,a.jsxs)(d.ZP,{container:!0,className:"_flexEnd",spacing:2,sx:{p:2},children:[(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(m.Z,{tableId:"du-lieu-nguon-thai-gia-cam",filename:"dulieuthaigiacam.csv"})}),(0,a.jsx)(d.ZP,{item:!0,children:(0,a.jsx)(nh,{isEdit:!1,setPostSuccess:f})})]}),(0,a.jsx)(g.Z,{columns:p,rows:n,id:"phan_doan_song",loading:B,pagination:!0,actions:n=>(0,a.jsxs)(c.Z,{className:"group_btn",children:[(0,a.jsx)(nh,{isEdit:!0,data:n,setPostSuccess:f}),(0,a.jsx)(x.Z,{url:"du-lieu-nguon-thai",data:n,setPostSuccess:f})]})})]})})]})},nx=()=>{let[n,l]=(0,i.useState)("1");return(0,a.jsx)(ne.Z,{container:!0,spacing:2,children:(0,a.jsx)(ne.Z,{xs:12,md:12,children:(0,a.jsxs)(na.ZP,{value:n,children:[(0,a.jsx)(c.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,a.jsxs)(ni.Z,{onChange:(n,e)=>{l(e)},"aria-label":"ground water reserve",children:[(0,a.jsx)(nl.Z,{label:"NGUỒN THẢI ĐIỂM ",value:"1"}),(0,a.jsx)(nl.Z,{label:"NGUỒN SINH HOẠT",value:"2"}),(0,a.jsx)(nl.Z,{label:"NGUỒN GIA S\xdaC ",value:"3"}),(0,a.jsx)(nl.Z,{label:"NGUỒN LỢN, GIA S\xdaC KH\xc1C ",value:"4"}),(0,a.jsx)(nl.Z,{label:"NGUỒN GIA CẦM ",value:"5"}),(0,a.jsx)(nl.Z,{label:"NGUỒN TRỒNG L\xdaA ",value:"6"}),(0,a.jsx)(nl.Z,{label:"NGUỒN TRỒNG C\xc2Y",value:"7"}),(0,a.jsx)(nl.Z,{label:"NGUỒN TRỒNG RỪNG ",value:"8"}),(0,a.jsx)(nl.Z,{label:"NGUỒN Thủy Sản ",value:"9"})]})}),(0,a.jsx)(ns.Z,{value:"1",children:(0,a.jsx)(L,{})}),(0,a.jsx)(ns.Z,{value:"2",children:(0,a.jsx)(z,{})}),(0,a.jsx)(ns.Z,{value:"3",children:(0,a.jsx)(nu,{})}),(0,a.jsx)(ns.Z,{value:"4",children:(0,a.jsx)(W,{})}),(0,a.jsx)(ns.Z,{value:"5",children:(0,a.jsx)(M,{})}),(0,a.jsx)(ns.Z,{value:"6",children:(0,a.jsx)(F,{})}),(0,a.jsx)(ns.Z,{value:"7",children:(0,a.jsx)(Y,{})}),(0,a.jsx)(ns.Z,{value:"8",children:(0,a.jsx)(nn,{})}),(0,a.jsx)(ns.Z,{value:"9",children:(0,a.jsx)(nc,{})})]})})})}},20067:function(){},72061:function(){}}]);