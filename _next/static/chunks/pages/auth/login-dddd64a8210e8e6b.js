(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9344],{40163:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/login",function(){return n(60729)}])},97182:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r=n(37340),i=n(63366),a=n(87462),o=n(67294),s=n(8780),l=n(94780),c=n(70917),d=n(66643),h=n(44001),u=n(77527),m=n(1588),p=n(34867);function f(e){return(0,p.ZP)("MuiCircularProgress",e)}(0,m.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var g=n(85893);function x(){let e=(0,r._)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return x=function(){return e},e}function v(){let e=(0,r._)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"]);return v=function(){return e},e}function Z(){let e=(0,r._)(["\n      animation: "," 1.4s linear infinite;\n    "]);return Z=function(){return e},e}function w(){let e=(0,r._)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]);return w=function(){return e},e}let j=["className","color","disableShrink","size","style","thickness","value","variant"],k=e=>e,y,b,P,S,C=(0,c.F4)(y||(y=k(x()))),_=(0,c.F4)(b||(b=k(v()))),M=e=>{let{classes:t,variant:n,color:r,disableShrink:i}=e,a={root:["root",n,"color".concat((0,d.Z)(r))],svg:["svg"],circle:["circle","circle".concat((0,d.Z)(n)),i&&"circleDisableShrink"]};return(0,l.Z)(a,f,t)},N=(0,u.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat((0,d.Z)(n.color))]]}})(e=>{let{ownerState:t,theme:n}=e;return(0,a.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,c.iv)(P||(P=k(Z(),0)),C)}),z=(0,u.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),D=(0,u.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.circle,t["circle".concat((0,d.Z)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})(e=>{let{ownerState:t,theme:n}=e;return(0,a.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})},e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,c.iv)(S||(S=k(w(),0)),_)});var T=o.forwardRef(function(e,t){let n=(0,h.i)({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:l=!1,size:c=40,style:d,thickness:u=3.6,value:m=0,variant:p="indeterminate"}=n,f=(0,i.Z)(n,j),x=(0,a.Z)({},n,{color:o,disableShrink:l,size:c,thickness:u,value:m,variant:p}),v=M(x),Z={},w={},k={};if("determinate"===p){let e=2*Math.PI*((44-u)/2);Z.strokeDasharray=e.toFixed(3),k["aria-valuenow"]=Math.round(m),Z.strokeDashoffset="".concat(((100-m)/100*e).toFixed(3),"px"),w.transform="rotate(-90deg)"}return(0,g.jsx)(N,(0,a.Z)({className:(0,s.Z)(v.root,r),style:(0,a.Z)({width:c,height:c},w,d),ownerState:x,ref:t,role:"progressbar"},k,f,{children:(0,g.jsx)(z,{className:v.svg,ownerState:x,viewBox:"".concat(22," ").concat(22," ").concat(44," ").concat(44),children:(0,g.jsx)(D,{className:v.circle,style:Z,ownerState:x,cx:44,cy:44,r:(44-u)/2,fill:"none",strokeWidth:u})})}))})},36488:function(e,t,n){"use strict";var r=n(85893),i=n(77527),a=n(60990);let o=(0,i.ZP)(a.Z)(e=>{let{theme:t}=e;return{height:"100vh","& .content-center":{display:"flex",minHeight:"100vh",alignItems:"center",justifyContent:"center",padding:t.spacing(5)},"& .content-right":{display:"flex",minHeight:"100vh",overflowX:"hidden",position:"relative",alignItems:"center",justifyContent:"right",padding:t.spacing(5)}}});t.Z=e=>{let{children:t}=e;return(0,r.jsx)(o,{className:"layout-wrapper",children:(0,r.jsx)(a.Z,{className:"app-content",sx:{minHeight:"100vh",overflowX:"hidden",position:"relative"},children:t})})}},60729:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}});var r=n(85893),i=n(67294),a=n(11163),o=n(60990),s=n(51015),l=n(12166),c=n(40492),d=n(94143),h=n(96788),u=n(52857),m=n(71919),p=n(6897),f=n(36307),g=n(77527),x=n(60762),v=n(95611),Z=n(65806),w=n(44723),j=n(97182),k=n(95898),y=n(42218),b=(0,n(13077).Z)((0,r.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login"),P=n(71466),S=n(36488),C=n(46735),_=n(3085),M=n(83454);let N=(0,g.ZP)(x.Z)(e=>{let{theme:t}=e;return{[t.breakpoints.up("sm")]:{width:"28rem"}}}),z=(0,g.ZP)("a")(e=>{let{theme:t}=e;return{fontSize:"0.875rem",textDecoration:"none",color:t.palette.primary.main}}),D=(0,g.ZP)(Z.Z)(e=>{let{theme:t}=e;return{"& .MuiFormControlLabel-label":{fontSize:"0.875rem",color:t.palette.text.secondary}}}),T=()=>{let[e,t]=(0,i.useState)({username:"",password:"",showPassword:!1,rememberMe:!1}),[n,g]=(0,i.useState)(!1),[x,Z]=(0,i.useState)(!1),{login:S,userInfo:T}=(0,C.aC)(),H=(0,a.useRouter)(),W=M.env.NEXT_PUBLIC_BASE_PATH||H.basePath||"",I=n=>r=>{t({...e,[n]:r.target.value})},L=async t=>{t.preventDefault(),Z(!0),g(!1);try{let t=await fetch("".concat(_.J,"/Auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e.username,password:e.password,rememberMe:e.rememberMe})}),n=await t.json();n.success?(S(n.token),g(!1),"Construction"===T().role?await H.push("".concat(W,"/tai-nguyen-nuoc/giam-sat-ktsd")):await H.push("".concat(W,"/"))):g(!0)}catch(e){console.error("Login error:",e),g(!0)}finally{Z(!1)}};return(0,r.jsx)(o.Z,{className:"bg",children:(0,r.jsx)(o.Z,{className:"content-center",children:(0,r.jsx)(N,{sx:{zIndex:1},children:(0,r.jsxs)(m.Z,{sx:{padding:e=>"".concat(e.spacing(12,9,7)," !important")},children:[(0,r.jsxs)(o.Z,{sx:{mb:3,display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center"},children:[(0,r.jsx)("img",{src:"".concat(W,"/images/logos/logo_sotnmt.png"),width:70,height:70,alt:"logo-page"}),(0,r.jsx)(h.Z,{variant:"h6",align:"center",sx:{color:"#dc3545 !important",mt:2,mx:3,lineHeight:1,fontWeight:600,width:"100%",textTransform:"uppercase",fontSize:"1.5rem !important"},children:P.Z.templateName})]}),(0,r.jsx)(o.Z,{sx:{mb:6},children:(0,r.jsx)(h.Z,{variant:"overline",align:"center",sx:{fontWeight:600,marginBottom:1.5},children:"HỆ THỐNG QUẢN L\xdd CƠ SỞ DỮ LIỆU"})}),n&&(0,r.jsx)(o.Z,{sx:{mb:3},children:(0,r.jsx)(w.Z,{severity:"error",children:"T\xe0i khoản hoặc mật khẩu kh\xf4ng ch\xednh x\xe1c!"})}),(0,r.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:L,children:[(0,r.jsx)(c.Z,{autoFocus:!0,fullWidth:!0,id:"username",label:(0,r.jsx)(h.Z,{variant:"overline",sx:{fontSize:14,fontWeight:600,lineHeight:0,transformOrigin:"center"},children:"T\xe0i khoản"}),sx:{marginBottom:4},value:e.username,onChange:I("username"),inputProps:{style:{paddingTop:10,paddingBottom:10,fontSize:15}}}),(0,r.jsxs)(p.Z,{fullWidth:!0,children:[(0,r.jsx)(d.Z,{htmlFor:"auth-login-password",children:(0,r.jsx)(h.Z,{variant:"overline",sx:{fontSize:14,fontWeight:600,lineHeight:0,transformOrigin:"center"},children:"Mật khẩu"})}),(0,r.jsx)(f.Z,{label:(0,r.jsx)(h.Z,{variant:"overline",sx:{fontSize:14,fontWeight:600,lineHeight:0,transformOrigin:"center"},children:"Mật khẩu"}),value:e.password,id:"auth-login-password",onChange:I("password"),type:e.showPassword?"text":"password",inputProps:{style:{paddingTop:10,paddingBottom:10,fontSize:15}},endAdornment:(0,r.jsx)(v.Z,{position:"end",children:(0,r.jsx)(u.Z,{edge:"end",onClick:()=>{t({...e,showPassword:!e.showPassword})},onMouseDown:e=>{e.preventDefault()},"aria-label":"toggle password visibility",children:e.showPassword?(0,r.jsx)(k.Z,{}):(0,r.jsx)(y.Z,{})})})})]}),(0,r.jsxs)(o.Z,{sx:{mb:4,display:"flex",alignItems:"center",flexWrap:"wrap",justifyContent:"space-between"},children:[(0,r.jsx)(D,{control:(0,r.jsx)(l.Z,{checked:e.rememberMe,onChange:I("rememberMe")}),label:"Lưu đăng nhập"}),(0,r.jsx)(z,{href:"".concat(W,"/"),onClick:e=>e.preventDefault(),children:"Qu\xean mật khẩu?"})]}),(0,r.jsx)(s.Z,{fullWidth:!0,size:"large",variant:"contained",sx:{marginBottom:7},type:"submit",disabled:x,endIcon:x?(0,r.jsx)(j.Z,{color:"inherit",size:20}):(0,r.jsx)(b,{}),children:"Đăng nhập"})]})]})})})})};T.getLayout=e=>(0,r.jsx)(S.Z,{children:e});var H=T}},function(e){e.O(0,[4581,492,9043,5280,2888,9774,179],function(){return e(e.s=40163)}),_N_E=e.O()}]);