"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8432,7318],{95639:function(e,n,l){var t=l(64836);n.Z=void 0;var o=t(l(33651)),a=l(85893);n.Z=(0,o.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},21773:function(e,n,l){var t=l(13077),o=l(85893);n.Z=(0,t.Z)((0,o.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload")},17071:function(e,n,l){var t=l(13077),o=l(85893);n.Z=(0,t.Z)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},53525:function(e,n,l){var t=l(13077),o=l(85893);n.Z=(0,t.Z)((0,o.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay")},68963:function(e,n,l){var t=l(13077),o=l(85893);n.Z=(0,t.Z)((0,o.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save")},38855:function(e,n,l){var t=l(13077),o=l(85893);n.Z=(0,t.Z)((0,o.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search")},56894:function(e,n,l){l.d(n,{Z:function(){return j}});var t=l(63366),o=l(87462),a=l(67294),i=l(8780),r=l(94780),s=l(77527),c=l(44001),d=l(1588),h=l(34867);function u(e){return(0,h.ZP)("MuiFormGroup",e)}(0,d.Z)("MuiFormGroup",["root","row","error"]);var g=l(57280),Z=l(88962),m=l(85893);let f=["className","row"],x=e=>{let{classes:n,row:l,error:t}=e;return(0,r.Z)({root:["root",l&&"row",t&&"error"]},u,n)},p=(0,s.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,n)=>{let{ownerState:l}=e;return[n.root,l.row&&n.row]}})(e=>{let{ownerState:n}=e;return(0,o.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},n.row&&{flexDirection:"row"})});var j=a.forwardRef(function(e,n){let l=(0,c.i)({props:e,name:"MuiFormGroup"}),{className:a,row:r=!1}=l,s=(0,t.Z)(l,f),d=(0,g.Z)(),h=(0,Z.Z)({props:l,muiFormControl:d,states:["error"]}),u=(0,o.Z)({},l,{row:r,error:h.error}),j=x(u);return(0,m.jsx)(p,(0,o.Z)({className:(0,i.Z)(j.root,a),ownerState:u,ref:n},s))})},37318:function(e,n,l){var t=l(85893),o=l(96788);let a=e=>parseFloat(null==e?void 0:e.toFixed(2));n.Z=(e,n)=>{let l=a(e);return(0,t.jsx)(o.Z,{style:{color:l<0?"red":"inherit",fontSize:"0.875rem"},children:n?"".concat(n,": ").concat(l):l})}},3851:function(e,n,l){l.r(n),l.d(n,{default:function(){return b}});var t=l(85893),o=l(67294),a=l(5152),i=l.n(a),r=l(64577),s=l(96788),c=l(60990),d=l(68573),h=l(93454),u=l(56894),g=l(65806),Z=l(12166),m=l(39892),f=l(23759),x=l(37318),p=l(6897),j=l(85533),v=e=>{let{onChange:n}=e,[l,a]=(0,o.useState)([]),i=e=>{let l=e.target.value;e.target.checked?(a([l]),n([l])):(a([]),n([]))};return(0,t.jsxs)(p.Z,{component:"fieldset",children:[(0,t.jsx)(j.Z,{component:"legend",children:"Chỉ số chất lượng nước thải"}),(0,t.jsxs)(u.Z,{children:[(0,t.jsx)(g.Z,{control:(0,t.jsx)(Z.Z,{checked:l.includes("ltnBod"),onChange:i,value:"ltnBod"}),label:"BOD"}),(0,t.jsx)(g.Z,{control:(0,t.jsx)(Z.Z,{checked:l.includes("ltnCod"),onChange:i,value:"ltnCod"}),label:"COD"}),(0,t.jsx)(g.Z,{control:(0,t.jsx)(Z.Z,{checked:l.includes("ltnAmoni"),onChange:i,value:"ltnAmoni"}),label:"Amoni"}),(0,t.jsx)(g.Z,{control:(0,t.jsx)(Z.Z,{checked:l.includes("ltnTongN"),onChange:i,value:"ltnTongN"}),label:"Tổng N"}),(0,t.jsx)(g.Z,{control:(0,t.jsx)(Z.Z,{checked:l.includes("ltnTongP"),onChange:i,value:"ltnTongP"}),label:"Tổng P"}),(0,t.jsx)(g.Z,{control:(0,t.jsx)(Z.Z,{checked:l.includes("ltnTSS"),onChange:i,value:"ltnTSS"}),label:"TSS"}),(0,t.jsx)(g.Z,{control:(0,t.jsx)(Z.Z,{checked:l.includes("ltnColiform"),onChange:i,value:"ltnColiform"}),label:"Coliform"})]})]})},C=l(11461);let S=i()(()=>Promise.all([l.e(4028),l.e(9269),l.e(7679),l.e(2573),l.e(2527)]).then(l.bind(l,32527)),{loadableGenerated:{webpack:()=>[32527]},ssr:!1});var b=()=>{let[e,n]=(0,o.useState)([]),[l,a]=(0,o.useState)(!1),[i,p]=(0,o.useState)(!1),[j,b]=(0,o.useState)([15.012172,108.676488]),[w,T]=(0,o.useState)(9),[k,N]=(0,o.useState)(),[M,P]=(0,o.useState)(!1),[D,z]=(0,o.useState)(""),F=(0,o.useRef)(null),H=(0,o.useCallback)(async e=>{N(e);try{let n=await (0,f.N)("".concat(e.fileKML)),l=(0,f.M)(n);l&&(b([l.center[0],l.center[1]]),T(l.zoom)),F.current&&F.current.scrollIntoView({behavior:"smooth"})}catch(e){console.error("Error loading KML:",e)}},[]),L=[{id:"stt",label:"STT",rowspan:2},{id:"phanDoan",label:"Ph\xe2n đoạn s\xf4ng",align:"left",minWidth:200,elm:e=>(0,t.jsx)(s.Z,{className:"btnShowFilePdf",onClick:()=>H(e),children:null==e?void 0:e.phanDoan})},{id:"luuVucSong",label:"Lưu vực s\xf4ng",rowspan:2,align:"left",minWidth:150},{id:"song",label:"S\xf4ng",rowspan:2,align:"left",minWidth:250},{id:"tenDoanSong",label:"T\xean đoạn s\xf4ng",rowspan:2,align:"left",minWidth:250},{id:"chieuDai",label:(0,t.jsxs)(c.Z,{children:["Chiều d\xe0i",(0,t.jsx)("br",{})," đoạn s\xf4ng (km)"]}),rowspan:2,align:"left",minWidth:120},{id:"heSoFS",label:"Hệ số an to\xe0n(Fs)",rowspan:2,align:"left"},{id:"#",label:"KHẢ NĂNG TIẾP NHẬN NƯỚC THẢI, SỨC CHỊU TẢI Ltd (kg/ng\xe0y)",align:"left",children:[{id:"ltnBod",label:"BOD5 (mg/l)",align:"left",elm:e=>(0,x.Z)(e.ltnBod)},{id:"ltnCod",label:"COD (mg/l)",align:"left",elm:e=>(0,x.Z)(e.ltnCod)},{id:"ltnAmoni",label:"Amoni (mg/l)",align:"left",elm:e=>(0,x.Z)(e.ltnAmoni)},{id:"ltnTongN",label:"Tổng N (mg/l)",align:"left",elm:e=>(0,x.Z)(e.ltnTongN)},{id:"ltnTongP",label:"Tổng P (mg/l)",align:"left",elm:e=>(0,x.Z)(e.ltnTongP)},{id:"ltnTSS",label:"Tổng chất rắn lơ lửng TSS (mg/l)",align:"left",elm:e=>(0,x.Z)(e.ltnTSS)},{id:"ltnColiform",label:"Tổng Coliform (MPN/100ml)",align:"left",elm:e=>(0,x.Z)(e.ltnColiform)}]},{id:"ghiChu",label:"Ghi ch\xfa",rowspan:2,align:"left"}],[y,G]=(0,o.useState)({phanDoan:""});return(0,o.useEffect)(()=>{(async function(){P(!0),await (0,r.getData)("PhanDoanSong/tai-luong",y).then(e=>{n(e)}).catch(e=>{console.log(e)}).finally(()=>{P(!1)})})()},[y]),(0,o.useEffect)(()=>{k||(b([15.012172,108.676488]),T(9))},[k,l]),(0,t.jsxs)(d.ZP,{container:!0,spacing:2,children:[(0,t.jsx)(d.ZP,{item:!0,xs:12,md:12,ref:F,sx:{height:"55vh",overflow:"hidden"},children:(0,t.jsxs)(h.Z,{elevation:3,sx:{height:"100%",position:"relative"},children:[(0,t.jsxs)(c.Z,{className:"map-legend",sx:{background:"white",px:2,zIndex:999,height:"auto",top:"15px"},children:[(0,t.jsx)(u.Z,{children:(0,t.jsx)(g.Z,{sx:{m:0},control:(0,t.jsx)(Z.Z,{sx:{p:1},onClick:()=>p(!i)}),label:"Hiển thị t\xean đoạn s\xf4ng"})}),(0,t.jsx)(v,{onChange:e=>{z(e[0])}})]}),(0,t.jsx)(S,{center:j,zoom:w,mapData:k,selectedKmlFile:k?k.fileKML:null,loading:M,dischargeData:e,selectedFilter:D,showLabel:i})]})}),(0,t.jsx)(d.ZP,{item:!0,xs:12,children:(0,t.jsxs)(h.Z,{elevation:3,sx:{p:0,height:"100%"},children:[(0,t.jsx)(C.Z,{onChange:(e,n)=>{G(e),void 0!==n&&a(n)},tabId:"kntn"}),(0,t.jsx)(m.Z,{columns:L,rows:e,id:"kha-nang-tiep-nhan-nuoc-thai-song",loading:M,pagination:!0})]})})]})}}}]);